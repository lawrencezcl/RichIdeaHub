/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/fetch/route";
exports.ids = ["app/api/fetch/route"];
exports.modules = {

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Ffetch%2Froute&page=%2Fapi%2Ffetch%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Ffetch%2Froute.ts&appDir=%2Froot%2FRichIdeaHub%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Froot%2FRichIdeaHub&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!":
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Ffetch%2Froute&page=%2Fapi%2Ffetch%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Ffetch%2Froute.ts&appDir=%2Froot%2FRichIdeaHub%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Froot%2FRichIdeaHub&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=! ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   handler: () => (/* binding */ handler),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dist/server/request-meta */ \"(rsc)/./node_modules/next/dist/server/request-meta.js\");\n/* harmony import */ var next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! next/dist/server/lib/trace/tracer */ \"(rsc)/./node_modules/next/dist/server/lib/trace/tracer.js\");\n/* harmony import */ var next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! next/dist/shared/lib/router/utils/app-paths */ \"next/dist/shared/lib/router/utils/app-paths\");\n/* harmony import */ var next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! next/dist/server/base-http/node */ \"(rsc)/./node_modules/next/dist/server/base-http/node.js\");\n/* harmony import */ var next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! next/dist/server/web/spec-extension/adapters/next-request */ \"(rsc)/./node_modules/next/dist/server/web/spec-extension/adapters/next-request.js\");\n/* harmony import */ var next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! next/dist/server/lib/trace/constants */ \"(rsc)/./node_modules/next/dist/server/lib/trace/constants.js\");\n/* harmony import */ var next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! next/dist/server/instrumentation/utils */ \"(rsc)/./node_modules/next/dist/server/instrumentation/utils.js\");\n/* harmony import */ var next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! next/dist/server/send-response */ \"(rsc)/./node_modules/next/dist/server/send-response.js\");\n/* harmony import */ var next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! next/dist/server/web/utils */ \"(rsc)/./node_modules/next/dist/server/web/utils.js\");\n/* harmony import */ var next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var next_dist_server_lib_cache_control__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! next/dist/server/lib/cache-control */ \"(rsc)/./node_modules/next/dist/server/lib/cache-control.js\");\n/* harmony import */ var next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! next/dist/lib/constants */ \"(rsc)/./node_modules/next/dist/lib/constants.js\");\n/* harmony import */ var next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! next/dist/shared/lib/no-fallback-error.external */ \"next/dist/shared/lib/no-fallback-error.external\");\n/* harmony import */ var next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! next/dist/server/response-cache */ \"(rsc)/./node_modules/next/dist/server/response-cache/index.js\");\n/* harmony import */ var next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var _root_RichIdeaHub_src_app_api_fetch_route_ts__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./src/app/api/fetch/route.ts */ \"(rsc)/./src/app/api/fetch/route.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_root_RichIdeaHub_src_app_api_fetch_route_ts__WEBPACK_IMPORTED_MODULE_16__]);\n_root_RichIdeaHub_src_app_api_fetch_route_ts__WEBPACK_IMPORTED_MODULE_16__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/fetch/route\",\n        pathname: \"/api/fetch\",\n        filename: \"route\",\n        bundlePath: \"app/api/fetch/route\"\n    },\n    distDir: \".next\" || 0,\n    relativeProjectDir:  false || '',\n    resolvedPagePath: \"/root/RichIdeaHub/src/app/api/fetch/route.ts\",\n    nextConfigOutput,\n    userland: _root_RichIdeaHub_src_app_api_fetch_route_ts__WEBPACK_IMPORTED_MODULE_16__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\nasync function handler(req, res, ctx) {\n    var _nextConfig_experimental;\n    let srcPage = \"/api/fetch/route\";\n    // turbopack doesn't normalize `/index` in the page name\n    // so we need to to process dynamic routes properly\n    // TODO: fix turbopack providing differing value from webpack\n    if (false) {} else if (srcPage === '/index') {\n        // we always normalize /index specifically\n        srcPage = '/';\n    }\n    const multiZoneDraftMode = false;\n    const prepareResult = await routeModule.prepare(req, res, {\n        srcPage,\n        multiZoneDraftMode\n    });\n    if (!prepareResult) {\n        res.statusCode = 400;\n        res.end('Bad Request');\n        ctx.waitUntil == null ? void 0 : ctx.waitUntil.call(ctx, Promise.resolve());\n        return null;\n    }\n    const { buildId, params, nextConfig, isDraftMode, prerenderManifest, routerServerContext, isOnDemandRevalidate, revalidateOnlyGenerated, resolvedPathname } = prepareResult;\n    const normalizedSrcPage = (0,next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5__.normalizeAppPath)(srcPage);\n    let isIsr = Boolean(prerenderManifest.dynamicRoutes[normalizedSrcPage] || prerenderManifest.routes[resolvedPathname]);\n    if (isIsr && !isDraftMode) {\n        const isPrerendered = Boolean(prerenderManifest.routes[resolvedPathname]);\n        const prerenderInfo = prerenderManifest.dynamicRoutes[normalizedSrcPage];\n        if (prerenderInfo) {\n            if (prerenderInfo.fallback === false && !isPrerendered) {\n                throw new next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__.NoFallbackError();\n            }\n        }\n    }\n    let cacheKey = null;\n    if (isIsr && !routeModule.isDev && !isDraftMode) {\n        cacheKey = resolvedPathname;\n        // ensure /index and / is normalized to one key\n        cacheKey = cacheKey === '/index' ? '/' : cacheKey;\n    }\n    const supportsDynamicResponse = // If we're in development, we always support dynamic HTML\n    routeModule.isDev === true || // If this is not SSG or does not have static paths, then it supports\n    // dynamic HTML.\n    !isIsr;\n    // This is a revalidation request if the request is for a static\n    // page and it is not being resumed from a postponed render and\n    // it is not a dynamic RSC request then it is a revalidation\n    // request.\n    const isRevalidate = isIsr && !supportsDynamicResponse;\n    const method = req.method || 'GET';\n    const tracer = (0,next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__.getTracer)();\n    const activeSpan = tracer.getActiveScopeSpan();\n    const context = {\n        params,\n        prerenderManifest,\n        renderOpts: {\n            experimental: {\n                cacheComponents: Boolean(nextConfig.experimental.cacheComponents),\n                authInterrupts: Boolean(nextConfig.experimental.authInterrupts)\n            },\n            supportsDynamicResponse,\n            incrementalCache: (0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'incrementalCache'),\n            cacheLifeProfiles: (_nextConfig_experimental = nextConfig.experimental) == null ? void 0 : _nextConfig_experimental.cacheLife,\n            isRevalidate,\n            waitUntil: ctx.waitUntil,\n            onClose: (cb)=>{\n                res.on('close', cb);\n            },\n            onAfterTaskError: undefined,\n            onInstrumentationRequestError: (error, _request, errorContext)=>routeModule.onRequestError(req, error, errorContext, routerServerContext)\n        },\n        sharedContext: {\n            buildId\n        }\n    };\n    const nodeNextReq = new next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__.NodeNextRequest(req);\n    const nodeNextRes = new next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__.NodeNextResponse(res);\n    const nextReq = next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__.NextRequestAdapter.fromNodeNextRequest(nodeNextReq, (0,next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__.signalFromNodeResponse)(res));\n    try {\n        const invokeRouteModule = async (span)=>{\n            return routeModule.handle(nextReq, context).finally(()=>{\n                if (!span) return;\n                span.setAttributes({\n                    'http.status_code': res.statusCode,\n                    'next.rsc': false\n                });\n                const rootSpanAttributes = tracer.getRootSpanAttributes();\n                // We were unable to get attributes, probably OTEL is not enabled\n                if (!rootSpanAttributes) {\n                    return;\n                }\n                if (rootSpanAttributes.get('next.span_type') !== next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__.BaseServerSpan.handleRequest) {\n                    console.warn(`Unexpected root span type '${rootSpanAttributes.get('next.span_type')}'. Please report this Next.js issue https://github.com/vercel/next.js`);\n                    return;\n                }\n                const route = rootSpanAttributes.get('next.route');\n                if (route) {\n                    const name = `${method} ${route}`;\n                    span.setAttributes({\n                        'next.route': route,\n                        'http.route': route,\n                        'next.span_name': name\n                    });\n                    span.updateName(name);\n                } else {\n                    span.updateName(`${method} ${req.url}`);\n                }\n            });\n        };\n        const handleResponse = async (currentSpan)=>{\n            var _cacheEntry_value;\n            const responseGenerator = async ({ previousCacheEntry })=>{\n                try {\n                    if (!(0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'minimalMode') && isOnDemandRevalidate && revalidateOnlyGenerated && !previousCacheEntry) {\n                        res.statusCode = 404;\n                        // on-demand revalidate always sets this header\n                        res.setHeader('x-nextjs-cache', 'REVALIDATED');\n                        res.end('This page could not be found');\n                        return null;\n                    }\n                    const response = await invokeRouteModule(currentSpan);\n                    req.fetchMetrics = context.renderOpts.fetchMetrics;\n                    let pendingWaitUntil = context.renderOpts.pendingWaitUntil;\n                    // Attempt using provided waitUntil if available\n                    // if it's not we fallback to sendResponse's handling\n                    if (pendingWaitUntil) {\n                        if (ctx.waitUntil) {\n                            ctx.waitUntil(pendingWaitUntil);\n                            pendingWaitUntil = undefined;\n                        }\n                    }\n                    const cacheTags = context.renderOpts.collectedTags;\n                    // If the request is for a static response, we can cache it so long\n                    // as it's not edge.\n                    if (isIsr) {\n                        const blob = await response.blob();\n                        // Copy the headers from the response.\n                        const headers = (0,next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__.toNodeOutgoingHttpHeaders)(response.headers);\n                        if (cacheTags) {\n                            headers[next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.NEXT_CACHE_TAGS_HEADER] = cacheTags;\n                        }\n                        if (!headers['content-type'] && blob.type) {\n                            headers['content-type'] = blob.type;\n                        }\n                        const revalidate = typeof context.renderOpts.collectedRevalidate === 'undefined' || context.renderOpts.collectedRevalidate >= next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.INFINITE_CACHE ? false : context.renderOpts.collectedRevalidate;\n                        const expire = typeof context.renderOpts.collectedExpire === 'undefined' || context.renderOpts.collectedExpire >= next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.INFINITE_CACHE ? undefined : context.renderOpts.collectedExpire;\n                        // Create the cache entry for the response.\n                        const cacheEntry = {\n                            value: {\n                                kind: next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__.CachedRouteKind.APP_ROUTE,\n                                status: response.status,\n                                body: Buffer.from(await blob.arrayBuffer()),\n                                headers\n                            },\n                            cacheControl: {\n                                revalidate,\n                                expire\n                            }\n                        };\n                        return cacheEntry;\n                    } else {\n                        // send response without caching if not ISR\n                        await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__.sendResponse)(nodeNextReq, nodeNextRes, response, context.renderOpts.pendingWaitUntil);\n                        return null;\n                    }\n                } catch (err) {\n                    // if this is a background revalidate we need to report\n                    // the request error here as it won't be bubbled\n                    if (previousCacheEntry == null ? void 0 : previousCacheEntry.isStale) {\n                        await routeModule.onRequestError(req, err, {\n                            routerKind: 'App Router',\n                            routePath: srcPage,\n                            routeType: 'route',\n                            revalidateReason: (0,next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_9__.getRevalidateReason)({\n                                isRevalidate,\n                                isOnDemandRevalidate\n                            })\n                        }, routerServerContext);\n                    }\n                    throw err;\n                }\n            };\n            const cacheEntry = await routeModule.handleResponse({\n                req,\n                nextConfig,\n                cacheKey,\n                routeKind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n                isFallback: false,\n                prerenderManifest,\n                isRoutePPREnabled: false,\n                isOnDemandRevalidate,\n                revalidateOnlyGenerated,\n                responseGenerator,\n                waitUntil: ctx.waitUntil\n            });\n            // we don't create a cacheEntry for ISR\n            if (!isIsr) {\n                return null;\n            }\n            if ((cacheEntry == null ? void 0 : (_cacheEntry_value = cacheEntry.value) == null ? void 0 : _cacheEntry_value.kind) !== next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__.CachedRouteKind.APP_ROUTE) {\n                var _cacheEntry_value1;\n                throw Object.defineProperty(new Error(`Invariant: app-route received invalid cache entry ${cacheEntry == null ? void 0 : (_cacheEntry_value1 = cacheEntry.value) == null ? void 0 : _cacheEntry_value1.kind}`), \"__NEXT_ERROR_CODE\", {\n                    value: \"E701\",\n                    enumerable: false,\n                    configurable: true\n                });\n            }\n            if (!(0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'minimalMode')) {\n                res.setHeader('x-nextjs-cache', isOnDemandRevalidate ? 'REVALIDATED' : cacheEntry.isMiss ? 'MISS' : cacheEntry.isStale ? 'STALE' : 'HIT');\n            }\n            // Draft mode should never be cached\n            if (isDraftMode) {\n                res.setHeader('Cache-Control', 'private, no-cache, no-store, max-age=0, must-revalidate');\n            }\n            const headers = (0,next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__.fromNodeOutgoingHttpHeaders)(cacheEntry.value.headers);\n            if (!((0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'minimalMode') && isIsr)) {\n                headers.delete(next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.NEXT_CACHE_TAGS_HEADER);\n            }\n            // If cache control is already set on the response we don't\n            // override it to allow users to customize it via next.config\n            if (cacheEntry.cacheControl && !res.getHeader('Cache-Control') && !headers.get('Cache-Control')) {\n                headers.set('Cache-Control', (0,next_dist_server_lib_cache_control__WEBPACK_IMPORTED_MODULE_12__.getCacheControlHeader)(cacheEntry.cacheControl));\n            }\n            await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__.sendResponse)(nodeNextReq, nodeNextRes, new Response(cacheEntry.value.body, {\n                headers,\n                status: cacheEntry.value.status || 200\n            }));\n            return null;\n        };\n        // TODO: activeSpan code path is for when wrapped by\n        // next-server can be removed when this is no longer used\n        if (activeSpan) {\n            await handleResponse(activeSpan);\n        } else {\n            await tracer.withPropagatedContext(req.headers, ()=>tracer.trace(next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__.BaseServerSpan.handleRequest, {\n                    spanName: `${method} ${req.url}`,\n                    kind: next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__.SpanKind.SERVER,\n                    attributes: {\n                        'http.method': method,\n                        'http.target': req.url\n                    }\n                }, handleResponse));\n        }\n    } catch (err) {\n        if (!(err instanceof next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__.NoFallbackError)) {\n            await routeModule.onRequestError(req, err, {\n                routerKind: 'App Router',\n                routePath: normalizedSrcPage,\n                routeType: 'route',\n                revalidateReason: (0,next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_9__.getRevalidateReason)({\n                    isRevalidate,\n                    isOnDemandRevalidate\n                })\n            });\n        }\n        // rethrow so that we can handle serving error page\n        // If this is during static generation, throw the error again.\n        if (isIsr) throw err;\n        // Otherwise, send a 500 response.\n        await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__.sendResponse)(nodeNextReq, nodeNextRes, new Response(null, {\n            status: 500\n        }));\n        return null;\n    }\n}\n\n//# sourceMappingURL=app-route.js.map\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZmZXRjaCUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGZmV0Y2glMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZmZXRjaCUyRnJvdXRlLnRzJmFwcERpcj0lMkZyb290JTJGUmljaElkZWFIdWIlMkZzcmMlMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRnJvb3QlMkZSaWNoSWRlYUh1YiZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCZpc0dsb2JhbE5vdEZvdW5kRW5hYmxlZD0hIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQStGO0FBQ3ZDO0FBQ3FCO0FBQ2Q7QUFDUztBQUNPO0FBQ0s7QUFDbUM7QUFDakQ7QUFDTztBQUNmO0FBQ3NDO0FBQ3pCO0FBQ007QUFDQztBQUNoQjtBQUNPO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix5R0FBbUI7QUFDM0M7QUFDQSxjQUFjLGtFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLGFBQWEsT0FBb0MsSUFBSSxDQUFFO0FBQ3ZELHdCQUF3QixNQUF1QztBQUMvRDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHNEQUFzRDtBQUM5RDtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7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QUE2RSxnRkFBYztBQUMzRixpQ0FBaUMsUUFBUSxFQUFFLFFBQVE7QUFDbkQsMEJBQTBCLHVFQUFRO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsTUFBTTtBQUNOLDZCQUE2Qiw2RkFBZTtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQywyRkFBbUI7QUFDckQ7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsNkVBQVk7QUFDMUI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0IHsgZ2V0UmVxdWVzdE1ldGEgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yZXF1ZXN0LW1ldGFcIjtcbmltcG9ydCB7IGdldFRyYWNlciwgU3BhbktpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvdHJhY2UvdHJhY2VyXCI7XG5pbXBvcnQgeyBub3JtYWxpemVBcHBQYXRoIH0gZnJvbSBcIm5leHQvZGlzdC9zaGFyZWQvbGliL3JvdXRlci91dGlscy9hcHAtcGF0aHNcIjtcbmltcG9ydCB7IE5vZGVOZXh0UmVxdWVzdCwgTm9kZU5leHRSZXNwb25zZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Jhc2UtaHR0cC9ub2RlXCI7XG5pbXBvcnQgeyBOZXh0UmVxdWVzdEFkYXB0ZXIsIHNpZ25hbEZyb21Ob2RlUmVzcG9uc2UgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci93ZWIvc3BlYy1leHRlbnNpb24vYWRhcHRlcnMvbmV4dC1yZXF1ZXN0XCI7XG5pbXBvcnQgeyBCYXNlU2VydmVyU3BhbiB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi90cmFjZS9jb25zdGFudHNcIjtcbmltcG9ydCB7IGdldFJldmFsaWRhdGVSZWFzb24gfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9pbnN0cnVtZW50YXRpb24vdXRpbHNcIjtcbmltcG9ydCB7IHNlbmRSZXNwb25zZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3NlbmQtcmVzcG9uc2VcIjtcbmltcG9ydCB7IGZyb21Ob2RlT3V0Z29pbmdIdHRwSGVhZGVycywgdG9Ob2RlT3V0Z29pbmdIdHRwSGVhZGVycyB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3dlYi91dGlsc1wiO1xuaW1wb3J0IHsgZ2V0Q2FjaGVDb250cm9sSGVhZGVyIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL2NhY2hlLWNvbnRyb2xcIjtcbmltcG9ydCB7IElORklOSVRFX0NBQ0hFLCBORVhUX0NBQ0hFX1RBR1NfSEVBREVSIH0gZnJvbSBcIm5leHQvZGlzdC9saWIvY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBOb0ZhbGxiYWNrRXJyb3IgfSBmcm9tIFwibmV4dC9kaXN0L3NoYXJlZC9saWIvbm8tZmFsbGJhY2stZXJyb3IuZXh0ZXJuYWxcIjtcbmltcG9ydCB7IENhY2hlZFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3Jlc3BvbnNlLWNhY2hlXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiL3Jvb3QvUmljaElkZWFIdWIvc3JjL2FwcC9hcGkvZmV0Y2gvcm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2ZldGNoL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvZmV0Y2hcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2ZldGNoL3JvdXRlXCJcbiAgICB9LFxuICAgIGRpc3REaXI6IHByb2Nlc3MuZW52Ll9fTkVYVF9SRUxBVElWRV9ESVNUX0RJUiB8fCAnJyxcbiAgICByZWxhdGl2ZVByb2plY3REaXI6IHByb2Nlc3MuZW52Ll9fTkVYVF9SRUxBVElWRV9QUk9KRUNUX0RJUiB8fCAnJyxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIi9yb290L1JpY2hJZGVhSHViL3NyYy9hcHAvYXBpL2ZldGNoL3JvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgd29ya0FzeW5jU3RvcmFnZSwgd29ya1VuaXRBc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgd29ya0FzeW5jU3RvcmFnZSxcbiAgICAgICAgd29ya1VuaXRBc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCB3b3JrQXN5bmNTdG9yYWdlLCB3b3JrVW5pdEFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIHBhdGNoRmV0Y2gsICB9O1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxLCByZXMsIGN0eCkge1xuICAgIHZhciBfbmV4dENvbmZpZ19leHBlcmltZW50YWw7XG4gICAgbGV0IHNyY1BhZ2UgPSBcIi9hcGkvZmV0Y2gvcm91dGVcIjtcbiAgICAvLyB0dXJib3BhY2sgZG9lc24ndCBub3JtYWxpemUgYC9pbmRleGAgaW4gdGhlIHBhZ2UgbmFtZVxuICAgIC8vIHNvIHdlIG5lZWQgdG8gdG8gcHJvY2VzcyBkeW5hbWljIHJvdXRlcyBwcm9wZXJseVxuICAgIC8vIFRPRE86IGZpeCB0dXJib3BhY2sgcHJvdmlkaW5nIGRpZmZlcmluZyB2YWx1ZSBmcm9tIHdlYnBhY2tcbiAgICBpZiAocHJvY2Vzcy5lbnYuVFVSQk9QQUNLKSB7XG4gICAgICAgIHNyY1BhZ2UgPSBzcmNQYWdlLnJlcGxhY2UoL1xcL2luZGV4JC8sICcnKSB8fCAnLyc7XG4gICAgfSBlbHNlIGlmIChzcmNQYWdlID09PSAnL2luZGV4Jykge1xuICAgICAgICAvLyB3ZSBhbHdheXMgbm9ybWFsaXplIC9pbmRleCBzcGVjaWZpY2FsbHlcbiAgICAgICAgc3JjUGFnZSA9ICcvJztcbiAgICB9XG4gICAgY29uc3QgbXVsdGlab25lRHJhZnRNb2RlID0gcHJvY2Vzcy5lbnYuX19ORVhUX01VTFRJX1pPTkVfRFJBRlRfTU9ERTtcbiAgICBjb25zdCBwcmVwYXJlUmVzdWx0ID0gYXdhaXQgcm91dGVNb2R1bGUucHJlcGFyZShyZXEsIHJlcywge1xuICAgICAgICBzcmNQYWdlLFxuICAgICAgICBtdWx0aVpvbmVEcmFmdE1vZGVcbiAgICB9KTtcbiAgICBpZiAoIXByZXBhcmVSZXN1bHQpIHtcbiAgICAgICAgcmVzLnN0YXR1c0NvZGUgPSA0MDA7XG4gICAgICAgIHJlcy5lbmQoJ0JhZCBSZXF1ZXN0Jyk7XG4gICAgICAgIGN0eC53YWl0VW50aWwgPT0gbnVsbCA/IHZvaWQgMCA6IGN0eC53YWl0VW50aWwuY2FsbChjdHgsIFByb21pc2UucmVzb2x2ZSgpKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHsgYnVpbGRJZCwgcGFyYW1zLCBuZXh0Q29uZmlnLCBpc0RyYWZ0TW9kZSwgcHJlcmVuZGVyTWFuaWZlc3QsIHJvdXRlclNlcnZlckNvbnRleHQsIGlzT25EZW1hbmRSZXZhbGlkYXRlLCByZXZhbGlkYXRlT25seUdlbmVyYXRlZCwgcmVzb2x2ZWRQYXRobmFtZSB9ID0gcHJlcGFyZVJlc3VsdDtcbiAgICBjb25zdCBub3JtYWxpemVkU3JjUGFnZSA9IG5vcm1hbGl6ZUFwcFBhdGgoc3JjUGFnZSk7XG4gICAgbGV0IGlzSXNyID0gQm9vbGVhbihwcmVyZW5kZXJNYW5pZmVzdC5keW5hbWljUm91dGVzW25vcm1hbGl6ZWRTcmNQYWdlXSB8fCBwcmVyZW5kZXJNYW5pZmVzdC5yb3V0ZXNbcmVzb2x2ZWRQYXRobmFtZV0pO1xuICAgIGlmIChpc0lzciAmJiAhaXNEcmFmdE1vZGUpIHtcbiAgICAgICAgY29uc3QgaXNQcmVyZW5kZXJlZCA9IEJvb2xlYW4ocHJlcmVuZGVyTWFuaWZlc3Qucm91dGVzW3Jlc29sdmVkUGF0aG5hbWVdKTtcbiAgICAgICAgY29uc3QgcHJlcmVuZGVySW5mbyA9IHByZXJlbmRlck1hbmlmZXN0LmR5bmFtaWNSb3V0ZXNbbm9ybWFsaXplZFNyY1BhZ2VdO1xuICAgICAgICBpZiAocHJlcmVuZGVySW5mbykge1xuICAgICAgICAgICAgaWYgKHByZXJlbmRlckluZm8uZmFsbGJhY2sgPT09IGZhbHNlICYmICFpc1ByZXJlbmRlcmVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IE5vRmFsbGJhY2tFcnJvcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGxldCBjYWNoZUtleSA9IG51bGw7XG4gICAgaWYgKGlzSXNyICYmICFyb3V0ZU1vZHVsZS5pc0RldiAmJiAhaXNEcmFmdE1vZGUpIHtcbiAgICAgICAgY2FjaGVLZXkgPSByZXNvbHZlZFBhdGhuYW1lO1xuICAgICAgICAvLyBlbnN1cmUgL2luZGV4IGFuZCAvIGlzIG5vcm1hbGl6ZWQgdG8gb25lIGtleVxuICAgICAgICBjYWNoZUtleSA9IGNhY2hlS2V5ID09PSAnL2luZGV4JyA/ICcvJyA6IGNhY2hlS2V5O1xuICAgIH1cbiAgICBjb25zdCBzdXBwb3J0c0R5bmFtaWNSZXNwb25zZSA9IC8vIElmIHdlJ3JlIGluIGRldmVsb3BtZW50LCB3ZSBhbHdheXMgc3VwcG9ydCBkeW5hbWljIEhUTUxcbiAgICByb3V0ZU1vZHVsZS5pc0RldiA9PT0gdHJ1ZSB8fCAvLyBJZiB0aGlzIGlzIG5vdCBTU0cgb3IgZG9lcyBub3QgaGF2ZSBzdGF0aWMgcGF0aHMsIHRoZW4gaXQgc3VwcG9ydHNcbiAgICAvLyBkeW5hbWljIEhUTUwuXG4gICAgIWlzSXNyO1xuICAgIC8vIFRoaXMgaXMgYSByZXZhbGlkYXRpb24gcmVxdWVzdCBpZiB0aGUgcmVxdWVzdCBpcyBmb3IgYSBzdGF0aWNcbiAgICAvLyBwYWdlIGFuZCBpdCBpcyBub3QgYmVpbmcgcmVzdW1lZCBmcm9tIGEgcG9zdHBvbmVkIHJlbmRlciBhbmRcbiAgICAvLyBpdCBpcyBub3QgYSBkeW5hbWljIFJTQyByZXF1ZXN0IHRoZW4gaXQgaXMgYSByZXZhbGlkYXRpb25cbiAgICAvLyByZXF1ZXN0LlxuICAgIGNvbnN0IGlzUmV2YWxpZGF0ZSA9IGlzSXNyICYmICFzdXBwb3J0c0R5bmFtaWNSZXNwb25zZTtcbiAgICBjb25zdCBtZXRob2QgPSByZXEubWV0aG9kIHx8ICdHRVQnO1xuICAgIGNvbnN0IHRyYWNlciA9IGdldFRyYWNlcigpO1xuICAgIGNvbnN0IGFjdGl2ZVNwYW4gPSB0cmFjZXIuZ2V0QWN0aXZlU2NvcGVTcGFuKCk7XG4gICAgY29uc3QgY29udGV4dCA9IHtcbiAgICAgICAgcGFyYW1zLFxuICAgICAgICBwcmVyZW5kZXJNYW5pZmVzdCxcbiAgICAgICAgcmVuZGVyT3B0czoge1xuICAgICAgICAgICAgZXhwZXJpbWVudGFsOiB7XG4gICAgICAgICAgICAgICAgY2FjaGVDb21wb25lbnRzOiBCb29sZWFuKG5leHRDb25maWcuZXhwZXJpbWVudGFsLmNhY2hlQ29tcG9uZW50cyksXG4gICAgICAgICAgICAgICAgYXV0aEludGVycnVwdHM6IEJvb2xlYW4obmV4dENvbmZpZy5leHBlcmltZW50YWwuYXV0aEludGVycnVwdHMpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3VwcG9ydHNEeW5hbWljUmVzcG9uc2UsXG4gICAgICAgICAgICBpbmNyZW1lbnRhbENhY2hlOiBnZXRSZXF1ZXN0TWV0YShyZXEsICdpbmNyZW1lbnRhbENhY2hlJyksXG4gICAgICAgICAgICBjYWNoZUxpZmVQcm9maWxlczogKF9uZXh0Q29uZmlnX2V4cGVyaW1lbnRhbCA9IG5leHRDb25maWcuZXhwZXJpbWVudGFsKSA9PSBudWxsID8gdm9pZCAwIDogX25leHRDb25maWdfZXhwZXJpbWVudGFsLmNhY2hlTGlmZSxcbiAgICAgICAgICAgIGlzUmV2YWxpZGF0ZSxcbiAgICAgICAgICAgIHdhaXRVbnRpbDogY3R4LndhaXRVbnRpbCxcbiAgICAgICAgICAgIG9uQ2xvc2U6IChjYik9PntcbiAgICAgICAgICAgICAgICByZXMub24oJ2Nsb3NlJywgY2IpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uQWZ0ZXJUYXNrRXJyb3I6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIG9uSW5zdHJ1bWVudGF0aW9uUmVxdWVzdEVycm9yOiAoZXJyb3IsIF9yZXF1ZXN0LCBlcnJvckNvbnRleHQpPT5yb3V0ZU1vZHVsZS5vblJlcXVlc3RFcnJvcihyZXEsIGVycm9yLCBlcnJvckNvbnRleHQsIHJvdXRlclNlcnZlckNvbnRleHQpXG4gICAgICAgIH0sXG4gICAgICAgIHNoYXJlZENvbnRleHQ6IHtcbiAgICAgICAgICAgIGJ1aWxkSWRcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3Qgbm9kZU5leHRSZXEgPSBuZXcgTm9kZU5leHRSZXF1ZXN0KHJlcSk7XG4gICAgY29uc3Qgbm9kZU5leHRSZXMgPSBuZXcgTm9kZU5leHRSZXNwb25zZShyZXMpO1xuICAgIGNvbnN0IG5leHRSZXEgPSBOZXh0UmVxdWVzdEFkYXB0ZXIuZnJvbU5vZGVOZXh0UmVxdWVzdChub2RlTmV4dFJlcSwgc2lnbmFsRnJvbU5vZGVSZXNwb25zZShyZXMpKTtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBpbnZva2VSb3V0ZU1vZHVsZSA9IGFzeW5jIChzcGFuKT0+e1xuICAgICAgICAgICAgcmV0dXJuIHJvdXRlTW9kdWxlLmhhbmRsZShuZXh0UmVxLCBjb250ZXh0KS5maW5hbGx5KCgpPT57XG4gICAgICAgICAgICAgICAgaWYgKCFzcGFuKSByZXR1cm47XG4gICAgICAgICAgICAgICAgc3Bhbi5zZXRBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgICAgICAgJ2h0dHAuc3RhdHVzX2NvZGUnOiByZXMuc3RhdHVzQ29kZSxcbiAgICAgICAgICAgICAgICAgICAgJ25leHQucnNjJzogZmFsc2VcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCByb290U3BhbkF0dHJpYnV0ZXMgPSB0cmFjZXIuZ2V0Um9vdFNwYW5BdHRyaWJ1dGVzKCk7XG4gICAgICAgICAgICAgICAgLy8gV2Ugd2VyZSB1bmFibGUgdG8gZ2V0IGF0dHJpYnV0ZXMsIHByb2JhYmx5IE9URUwgaXMgbm90IGVuYWJsZWRcbiAgICAgICAgICAgICAgICBpZiAoIXJvb3RTcGFuQXR0cmlidXRlcykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChyb290U3BhbkF0dHJpYnV0ZXMuZ2V0KCduZXh0LnNwYW5fdHlwZScpICE9PSBCYXNlU2VydmVyU3Bhbi5oYW5kbGVSZXF1ZXN0KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgVW5leHBlY3RlZCByb290IHNwYW4gdHlwZSAnJHtyb290U3BhbkF0dHJpYnV0ZXMuZ2V0KCduZXh0LnNwYW5fdHlwZScpfScuIFBsZWFzZSByZXBvcnQgdGhpcyBOZXh0LmpzIGlzc3VlIGh0dHBzOi8vZ2l0aHViLmNvbS92ZXJjZWwvbmV4dC5qc2ApO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHJvdXRlID0gcm9vdFNwYW5BdHRyaWJ1dGVzLmdldCgnbmV4dC5yb3V0ZScpO1xuICAgICAgICAgICAgICAgIGlmIChyb3V0ZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuYW1lID0gYCR7bWV0aG9kfSAke3JvdXRlfWA7XG4gICAgICAgICAgICAgICAgICAgIHNwYW4uc2V0QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAnbmV4dC5yb3V0ZSc6IHJvdXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2h0dHAucm91dGUnOiByb3V0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICduZXh0LnNwYW5fbmFtZSc6IG5hbWVcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHNwYW4udXBkYXRlTmFtZShuYW1lKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzcGFuLnVwZGF0ZU5hbWUoYCR7bWV0aG9kfSAke3JlcS51cmx9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGhhbmRsZVJlc3BvbnNlID0gYXN5bmMgKGN1cnJlbnRTcGFuKT0+e1xuICAgICAgICAgICAgdmFyIF9jYWNoZUVudHJ5X3ZhbHVlO1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2VHZW5lcmF0b3IgPSBhc3luYyAoeyBwcmV2aW91c0NhY2hlRW50cnkgfSk9PntcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWdldFJlcXVlc3RNZXRhKHJlcSwgJ21pbmltYWxNb2RlJykgJiYgaXNPbkRlbWFuZFJldmFsaWRhdGUgJiYgcmV2YWxpZGF0ZU9ubHlHZW5lcmF0ZWQgJiYgIXByZXZpb3VzQ2FjaGVFbnRyeSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1c0NvZGUgPSA0MDQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBvbi1kZW1hbmQgcmV2YWxpZGF0ZSBhbHdheXMgc2V0cyB0aGlzIGhlYWRlclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzLnNldEhlYWRlcigneC1uZXh0anMtY2FjaGUnLCAnUkVWQUxJREFURUQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5lbmQoJ1RoaXMgcGFnZSBjb3VsZCBub3QgYmUgZm91bmQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgaW52b2tlUm91dGVNb2R1bGUoY3VycmVudFNwYW4pO1xuICAgICAgICAgICAgICAgICAgICByZXEuZmV0Y2hNZXRyaWNzID0gY29udGV4dC5yZW5kZXJPcHRzLmZldGNoTWV0cmljcztcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBlbmRpbmdXYWl0VW50aWwgPSBjb250ZXh0LnJlbmRlck9wdHMucGVuZGluZ1dhaXRVbnRpbDtcbiAgICAgICAgICAgICAgICAgICAgLy8gQXR0ZW1wdCB1c2luZyBwcm92aWRlZCB3YWl0VW50aWwgaWYgYXZhaWxhYmxlXG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIGl0J3Mgbm90IHdlIGZhbGxiYWNrIHRvIHNlbmRSZXNwb25zZSdzIGhhbmRsaW5nXG4gICAgICAgICAgICAgICAgICAgIGlmIChwZW5kaW5nV2FpdFVudGlsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3R4LndhaXRVbnRpbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN0eC53YWl0VW50aWwocGVuZGluZ1dhaXRVbnRpbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVuZGluZ1dhaXRVbnRpbCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjYWNoZVRhZ3MgPSBjb250ZXh0LnJlbmRlck9wdHMuY29sbGVjdGVkVGFncztcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIHJlcXVlc3QgaXMgZm9yIGEgc3RhdGljIHJlc3BvbnNlLCB3ZSBjYW4gY2FjaGUgaXQgc28gbG9uZ1xuICAgICAgICAgICAgICAgICAgICAvLyBhcyBpdCdzIG5vdCBlZGdlLlxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNJc3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCByZXNwb25zZS5ibG9iKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDb3B5IHRoZSBoZWFkZXJzIGZyb20gdGhlIHJlc3BvbnNlLlxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaGVhZGVycyA9IHRvTm9kZU91dGdvaW5nSHR0cEhlYWRlcnMocmVzcG9uc2UuaGVhZGVycyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FjaGVUYWdzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyc1tORVhUX0NBQ0hFX1RBR1NfSEVBREVSXSA9IGNhY2hlVGFncztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaGVhZGVyc1snY29udGVudC10eXBlJ10gJiYgYmxvYi50eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyc1snY29udGVudC10eXBlJ10gPSBibG9iLnR5cGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXZhbGlkYXRlID0gdHlwZW9mIGNvbnRleHQucmVuZGVyT3B0cy5jb2xsZWN0ZWRSZXZhbGlkYXRlID09PSAndW5kZWZpbmVkJyB8fCBjb250ZXh0LnJlbmRlck9wdHMuY29sbGVjdGVkUmV2YWxpZGF0ZSA+PSBJTkZJTklURV9DQUNIRSA/IGZhbHNlIDogY29udGV4dC5yZW5kZXJPcHRzLmNvbGxlY3RlZFJldmFsaWRhdGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBleHBpcmUgPSB0eXBlb2YgY29udGV4dC5yZW5kZXJPcHRzLmNvbGxlY3RlZEV4cGlyZSA9PT0gJ3VuZGVmaW5lZCcgfHwgY29udGV4dC5yZW5kZXJPcHRzLmNvbGxlY3RlZEV4cGlyZSA+PSBJTkZJTklURV9DQUNIRSA/IHVuZGVmaW5lZCA6IGNvbnRleHQucmVuZGVyT3B0cy5jb2xsZWN0ZWRFeHBpcmU7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgdGhlIGNhY2hlIGVudHJ5IGZvciB0aGUgcmVzcG9uc2UuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjYWNoZUVudHJ5ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtpbmQ6IENhY2hlZFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2R5OiBCdWZmZXIuZnJvbShhd2FpdCBibG9iLmFycmF5QnVmZmVyKCkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWNoZUNvbnRyb2w6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV2YWxpZGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwaXJlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjYWNoZUVudHJ5O1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2VuZCByZXNwb25zZSB3aXRob3V0IGNhY2hpbmcgaWYgbm90IElTUlxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgc2VuZFJlc3BvbnNlKG5vZGVOZXh0UmVxLCBub2RlTmV4dFJlcywgcmVzcG9uc2UsIGNvbnRleHQucmVuZGVyT3B0cy5wZW5kaW5nV2FpdFVudGlsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoaXMgaXMgYSBiYWNrZ3JvdW5kIHJldmFsaWRhdGUgd2UgbmVlZCB0byByZXBvcnRcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlIHJlcXVlc3QgZXJyb3IgaGVyZSBhcyBpdCB3b24ndCBiZSBidWJibGVkXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcmV2aW91c0NhY2hlRW50cnkgPT0gbnVsbCA/IHZvaWQgMCA6IHByZXZpb3VzQ2FjaGVFbnRyeS5pc1N0YWxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCByb3V0ZU1vZHVsZS5vblJlcXVlc3RFcnJvcihyZXEsIGVyciwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdXRlcktpbmQ6ICdBcHAgUm91dGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3V0ZVBhdGg6IHNyY1BhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm91dGVUeXBlOiAncm91dGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldmFsaWRhdGVSZWFzb246IGdldFJldmFsaWRhdGVSZWFzb24oe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1JldmFsaWRhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzT25EZW1hbmRSZXZhbGlkYXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHJvdXRlclNlcnZlckNvbnRleHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgY2FjaGVFbnRyeSA9IGF3YWl0IHJvdXRlTW9kdWxlLmhhbmRsZVJlc3BvbnNlKHtcbiAgICAgICAgICAgICAgICByZXEsXG4gICAgICAgICAgICAgICAgbmV4dENvbmZpZyxcbiAgICAgICAgICAgICAgICBjYWNoZUtleSxcbiAgICAgICAgICAgICAgICByb3V0ZUtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgICAgICAgICAgaXNGYWxsYmFjazogZmFsc2UsXG4gICAgICAgICAgICAgICAgcHJlcmVuZGVyTWFuaWZlc3QsXG4gICAgICAgICAgICAgICAgaXNSb3V0ZVBQUkVuYWJsZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGlzT25EZW1hbmRSZXZhbGlkYXRlLFxuICAgICAgICAgICAgICAgIHJldmFsaWRhdGVPbmx5R2VuZXJhdGVkLFxuICAgICAgICAgICAgICAgIHJlc3BvbnNlR2VuZXJhdG9yLFxuICAgICAgICAgICAgICAgIHdhaXRVbnRpbDogY3R4LndhaXRVbnRpbFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyB3ZSBkb24ndCBjcmVhdGUgYSBjYWNoZUVudHJ5IGZvciBJU1JcbiAgICAgICAgICAgIGlmICghaXNJc3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgoY2FjaGVFbnRyeSA9PSBudWxsID8gdm9pZCAwIDogKF9jYWNoZUVudHJ5X3ZhbHVlID0gY2FjaGVFbnRyeS52YWx1ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jYWNoZUVudHJ5X3ZhbHVlLmtpbmQpICE9PSBDYWNoZWRSb3V0ZUtpbmQuQVBQX1JPVVRFKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9jYWNoZUVudHJ5X3ZhbHVlMTtcbiAgICAgICAgICAgICAgICB0aHJvdyBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3IEVycm9yKGBJbnZhcmlhbnQ6IGFwcC1yb3V0ZSByZWNlaXZlZCBpbnZhbGlkIGNhY2hlIGVudHJ5ICR7Y2FjaGVFbnRyeSA9PSBudWxsID8gdm9pZCAwIDogKF9jYWNoZUVudHJ5X3ZhbHVlMSA9IGNhY2hlRW50cnkudmFsdWUpID09IG51bGwgPyB2b2lkIDAgOiBfY2FjaGVFbnRyeV92YWx1ZTEua2luZH1gKSwgXCJfX05FWFRfRVJST1JfQ09ERVwiLCB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBcIkU3MDFcIixcbiAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFnZXRSZXF1ZXN0TWV0YShyZXEsICdtaW5pbWFsTW9kZScpKSB7XG4gICAgICAgICAgICAgICAgcmVzLnNldEhlYWRlcigneC1uZXh0anMtY2FjaGUnLCBpc09uRGVtYW5kUmV2YWxpZGF0ZSA/ICdSRVZBTElEQVRFRCcgOiBjYWNoZUVudHJ5LmlzTWlzcyA/ICdNSVNTJyA6IGNhY2hlRW50cnkuaXNTdGFsZSA/ICdTVEFMRScgOiAnSElUJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBEcmFmdCBtb2RlIHNob3VsZCBuZXZlciBiZSBjYWNoZWRcbiAgICAgICAgICAgIGlmIChpc0RyYWZ0TW9kZSkge1xuICAgICAgICAgICAgICAgIHJlcy5zZXRIZWFkZXIoJ0NhY2hlLUNvbnRyb2wnLCAncHJpdmF0ZSwgbm8tY2FjaGUsIG5vLXN0b3JlLCBtYXgtYWdlPTAsIG11c3QtcmV2YWxpZGF0ZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgaGVhZGVycyA9IGZyb21Ob2RlT3V0Z29pbmdIdHRwSGVhZGVycyhjYWNoZUVudHJ5LnZhbHVlLmhlYWRlcnMpO1xuICAgICAgICAgICAgaWYgKCEoZ2V0UmVxdWVzdE1ldGEocmVxLCAnbWluaW1hbE1vZGUnKSAmJiBpc0lzcikpIHtcbiAgICAgICAgICAgICAgICBoZWFkZXJzLmRlbGV0ZShORVhUX0NBQ0hFX1RBR1NfSEVBREVSKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIElmIGNhY2hlIGNvbnRyb2wgaXMgYWxyZWFkeSBzZXQgb24gdGhlIHJlc3BvbnNlIHdlIGRvbid0XG4gICAgICAgICAgICAvLyBvdmVycmlkZSBpdCB0byBhbGxvdyB1c2VycyB0byBjdXN0b21pemUgaXQgdmlhIG5leHQuY29uZmlnXG4gICAgICAgICAgICBpZiAoY2FjaGVFbnRyeS5jYWNoZUNvbnRyb2wgJiYgIXJlcy5nZXRIZWFkZXIoJ0NhY2hlLUNvbnRyb2wnKSAmJiAhaGVhZGVycy5nZXQoJ0NhY2hlLUNvbnRyb2wnKSkge1xuICAgICAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdDYWNoZS1Db250cm9sJywgZ2V0Q2FjaGVDb250cm9sSGVhZGVyKGNhY2hlRW50cnkuY2FjaGVDb250cm9sKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhd2FpdCBzZW5kUmVzcG9uc2Uobm9kZU5leHRSZXEsIG5vZGVOZXh0UmVzLCBuZXcgUmVzcG9uc2UoY2FjaGVFbnRyeS52YWx1ZS5ib2R5LCB7XG4gICAgICAgICAgICAgICAgaGVhZGVycyxcbiAgICAgICAgICAgICAgICBzdGF0dXM6IGNhY2hlRW50cnkudmFsdWUuc3RhdHVzIHx8IDIwMFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH07XG4gICAgICAgIC8vIFRPRE86IGFjdGl2ZVNwYW4gY29kZSBwYXRoIGlzIGZvciB3aGVuIHdyYXBwZWQgYnlcbiAgICAgICAgLy8gbmV4dC1zZXJ2ZXIgY2FuIGJlIHJlbW92ZWQgd2hlbiB0aGlzIGlzIG5vIGxvbmdlciB1c2VkXG4gICAgICAgIGlmIChhY3RpdmVTcGFuKSB7XG4gICAgICAgICAgICBhd2FpdCBoYW5kbGVSZXNwb25zZShhY3RpdmVTcGFuKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGF3YWl0IHRyYWNlci53aXRoUHJvcGFnYXRlZENvbnRleHQocmVxLmhlYWRlcnMsICgpPT50cmFjZXIudHJhY2UoQmFzZVNlcnZlclNwYW4uaGFuZGxlUmVxdWVzdCwge1xuICAgICAgICAgICAgICAgICAgICBzcGFuTmFtZTogYCR7bWV0aG9kfSAke3JlcS51cmx9YCxcbiAgICAgICAgICAgICAgICAgICAga2luZDogU3BhbktpbmQuU0VSVkVSLFxuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnaHR0cC5tZXRob2QnOiBtZXRob2QsXG4gICAgICAgICAgICAgICAgICAgICAgICAnaHR0cC50YXJnZXQnOiByZXEudXJsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCBoYW5kbGVSZXNwb25zZSkpO1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGlmICghKGVyciBpbnN0YW5jZW9mIE5vRmFsbGJhY2tFcnJvcikpIHtcbiAgICAgICAgICAgIGF3YWl0IHJvdXRlTW9kdWxlLm9uUmVxdWVzdEVycm9yKHJlcSwgZXJyLCB7XG4gICAgICAgICAgICAgICAgcm91dGVyS2luZDogJ0FwcCBSb3V0ZXInLFxuICAgICAgICAgICAgICAgIHJvdXRlUGF0aDogbm9ybWFsaXplZFNyY1BhZ2UsXG4gICAgICAgICAgICAgICAgcm91dGVUeXBlOiAncm91dGUnLFxuICAgICAgICAgICAgICAgIHJldmFsaWRhdGVSZWFzb246IGdldFJldmFsaWRhdGVSZWFzb24oe1xuICAgICAgICAgICAgICAgICAgICBpc1JldmFsaWRhdGUsXG4gICAgICAgICAgICAgICAgICAgIGlzT25EZW1hbmRSZXZhbGlkYXRlXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIHJldGhyb3cgc28gdGhhdCB3ZSBjYW4gaGFuZGxlIHNlcnZpbmcgZXJyb3IgcGFnZVxuICAgICAgICAvLyBJZiB0aGlzIGlzIGR1cmluZyBzdGF0aWMgZ2VuZXJhdGlvbiwgdGhyb3cgdGhlIGVycm9yIGFnYWluLlxuICAgICAgICBpZiAoaXNJc3IpIHRocm93IGVycjtcbiAgICAgICAgLy8gT3RoZXJ3aXNlLCBzZW5kIGEgNTAwIHJlc3BvbnNlLlxuICAgICAgICBhd2FpdCBzZW5kUmVzcG9uc2Uobm9kZU5leHRSZXEsIG5vZGVOZXh0UmVzLCBuZXcgUmVzcG9uc2UobnVsbCwge1xuICAgICAgICAgICAgc3RhdHVzOiA1MDBcbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXBcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Ffetch%2Froute&page=%2Fapi%2Ffetch%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Ffetch%2Froute.ts&appDir=%2Froot%2FRichIdeaHub%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Froot%2FRichIdeaHub&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./src/app/api/fetch/route.ts":
/*!************************************!*\
  !*** ./src/app/api/fetch/route.ts ***!
  \************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DataManager: () => (/* binding */ DataManager),\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/supabase */ \"(rsc)/./src/lib/supabase.ts\");\n/* harmony import */ var _lib_openai__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/openai */ \"(rsc)/./src/lib/openai.ts\");\n/* harmony import */ var _lib_logger__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/logger */ \"(rsc)/./src/lib/logger.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_supabase__WEBPACK_IMPORTED_MODULE_1__]);\n_lib_supabase__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n// Reddit数据抓取服务\nclass RedditFetcher {\n    static async fetchCases() {\n        try {\n            // 多个相关subreddit\n            const subreddits = [\n                'sidehustle',\n                'Entrepreneur',\n                'smallbusiness',\n                'WorkOnline',\n                'freelance',\n                'passive_income',\n                'makingmoney',\n                'ExtraIncome',\n                'beermoney',\n                'AmazonFBA'\n            ];\n            const allCases = [];\n            for (const subreddit of subreddits){\n                try {\n                    console.log(`正在抓取 r/${subreddit}...`);\n                    // 尝试抓取热门帖子，如果失败则尝试最新帖子\n                    const response = await fetch(`https://www.reddit.com/r/${subreddit}/hot.json?limit=50`, {\n                        headers: {\n                            'User-Agent': 'SideHustleBot/1.0 (Educational Purpose)'\n                        }\n                    });\n                    if (!response.ok) {\n                        console.log(`r/${subreddit} 访问失败，状态: ${response.status}`);\n                        continue;\n                    }\n                    const data = await response.json();\n                    if (!data.data?.children) {\n                        console.log(`r/${subreddit} 数据格式异常`);\n                        continue;\n                    }\n                    const subredditCases = data.data.children.filter((post)=>{\n                        const selftext = post.data.selftext || '';\n                        const title = post.data.title || '';\n                        // 扩展过滤条件\n                        return selftext.length > 50 && // 降低长度要求\n                        // 收入相关关键词\n                        (title.toLowerCase().includes('income') || title.toLowerCase().includes('money') || title.toLowerCase().includes('earn') || title.toLowerCase().includes('profit') || title.toLowerCase().includes('revenue') || title.toLowerCase().includes('$') || title.toLowerCase().includes('€') || title.toLowerCase().includes('£') || // 副业相关关键词\n                        title.toLowerCase().includes('side') || title.toLowerCase().includes('hustle') || title.toLowerCase().includes('business') || title.toLowerCase().includes('freelance') || title.toLowerCase().includes('entrepreneur') || title.toLowerCase().includes('startup') || // 内容相关\n                        selftext.toLowerCase().includes('income') || selftext.toLowerCase().includes('money') || selftext.toLowerCase().includes('earn') || selftext.toLowerCase().includes('$') || selftext.toLowerCase().includes('business'));\n                    }).map((post)=>({\n                            title: post.data.title,\n                            content: post.data.selftext,\n                            url: `https://reddit.com${post.data.permalink}`,\n                            source_id: `reddit_${subreddit}_${post.data.id}`\n                        }));\n                    allCases.push(...subredditCases);\n                    console.log(`r/${subreddit} 获取 ${subredditCases.length} 条案例`);\n                    // 添加延迟避免频率限制\n                    await new Promise((resolve)=>setTimeout(resolve, 1000));\n                } catch (error) {\n                    console.error(`抓取 r/${subreddit} 失败:`, error);\n                }\n            }\n            console.log(`Reddit 总共获取 ${allCases.length} 条案例`);\n            return allCases.slice(0, 100) // 限制Reddit最多100条\n            ;\n        } catch (error) {\n            console.error('Reddit抓取失败:', error);\n            return [];\n        }\n    }\n}\n// ProductHunt数据抓取服务\nclass ProductHuntFetcher {\n    static async fetchCases() {\n        try {\n            // 扩展的模拟ProductHunt数据 - 更多赚钱相关产品\n            const mockProducts = [\n                {\n                    id: '1',\n                    name: 'Notion Side Hustle Template',\n                    tagline: 'Complete template system for managing your side businesses',\n                    description: 'A comprehensive Notion template that helps entrepreneurs manage multiple side hustles, track income, expenses, and growth metrics all in one place. Perfect for freelancers and small business owners.',\n                    website: 'https://notionsidehustle.com',\n                    url: 'https://www.producthunt.com/posts/notion-side-hustle-template',\n                    topics: [\n                        {\n                            name: 'Productivity'\n                        },\n                        {\n                            name: 'Side Business'\n                        },\n                        {\n                            name: 'Notion'\n                        }\n                    ]\n                },\n                {\n                    id: '2',\n                    name: 'Freelance Writer Toolkit',\n                    tagline: 'All-in-one toolkit for freelance writers to scale their business',\n                    description: 'From finding clients to managing projects and payments, this toolkit provides everything freelance writers need to build a sustainable business. Includes contract templates, rate calculators, and client management tools.',\n                    website: 'https://writerstoolkit.co',\n                    url: 'https://www.producthunt.com/posts/freelance-writer-toolkit',\n                    topics: [\n                        {\n                            name: 'Writing'\n                        },\n                        {\n                            name: 'Freelance'\n                        },\n                        {\n                            name: 'Business'\n                        }\n                    ]\n                },\n                {\n                    id: '3',\n                    name: 'Dropship Automation',\n                    tagline: 'Automated dropshipping product research and supplier finder',\n                    description: 'AI-powered tool that automatically finds trending products, reliable suppliers, and calculates profit margins for your dropshipping business. Save hours of research time.',\n                    website: 'https://dropshipautomation.com',\n                    url: 'https://www.producthunt.com/posts/dropship-automation',\n                    topics: [\n                        {\n                            name: 'E-commerce'\n                        },\n                        {\n                            name: 'Automation'\n                        },\n                        {\n                            name: 'Dropshipping'\n                        }\n                    ]\n                },\n                {\n                    id: '4',\n                    name: 'Print-on-Demand Empire',\n                    tagline: 'Complete print-on-demand business management system',\n                    description: 'Design, upload, and sell custom merchandise across multiple platforms. Includes integration with Printful, Redbubble, and Amazon Merch. Track sales and royalties in one dashboard.',\n                    website: 'https://podempire.com',\n                    url: 'https://www.producthunt.com/posts/print-on-demand-empire',\n                    topics: [\n                        {\n                            name: 'E-commerce'\n                        },\n                        {\n                            name: 'Print on Demand'\n                        },\n                        {\n                            name: 'Business Tools'\n                        }\n                    ]\n                },\n                {\n                    id: '5',\n                    name: 'Course Creator Pro',\n                    tagline: 'Build and sell online courses without technical skills',\n                    description: 'All-in-one platform for creating, marketing, and selling online courses. Includes video hosting, student management, and payment processing. Perfect for experts and coaches.',\n                    website: 'https://coursecreatorpro.com',\n                    url: 'https://www.producthunt.com/posts/course-creator-pro',\n                    topics: [\n                        {\n                            name: 'Education'\n                        },\n                        {\n                            name: 'Online Courses'\n                        },\n                        {\n                            name: 'Creator Economy'\n                        }\n                    ]\n                },\n                {\n                    id: '6',\n                    name: 'Stock Photo Income',\n                    tagline: 'AI-powered stock photo business optimizer',\n                    description: 'Analyze market trends, keyword demand, and competition for stock photography. Maximize your earnings on Shutterstock, Adobe Stock, and Getty Images with data-driven insights.',\n                    website: 'https://stockphotoai.com',\n                    url: 'https://www.producthunt.com/posts/stock-photo-income',\n                    topics: [\n                        {\n                            name: 'Photography'\n                        },\n                        {\n                            name: 'AI'\n                        },\n                        {\n                            name: 'Passive Income'\n                        }\n                    ]\n                },\n                {\n                    id: '7',\n                    name: 'YouTube Automation Suite',\n                    tagline: 'Automate your YouTube channel growth and monetization',\n                    description: 'AI tools for keyword research, thumbnail generation, content ideas, and optimization. Grow your subscriber base and increase ad revenue automatically.',\n                    website: 'https://ytautomation.com',\n                    url: 'https://www.producthunt.com/posts/youtube-automation-suite',\n                    topics: [\n                        {\n                            name: 'YouTube'\n                        },\n                        {\n                            name: 'Video'\n                        },\n                        {\n                            name: 'Social Media'\n                        }\n                    ]\n                },\n                {\n                    id: '8',\n                    name: 'Affiliate Marketing Hub',\n                    tagline: 'Find and manage affiliate programs across multiple networks',\n                    description: 'Discover high-paying affiliate programs, track clicks and conversions, and optimize your campaigns. Integration with Amazon Associates, ShareASale, and Commission Junction.',\n                    website: 'https://affiliatehub.pro',\n                    url: 'https://www.producthunt.com/posts/affiliate-marketing-hub',\n                    topics: [\n                        {\n                            name: 'Marketing'\n                        },\n                        {\n                            name: 'Affiliate'\n                        },\n                        {\n                            name: 'Analytics'\n                        }\n                    ]\n                },\n                {\n                    id: '9',\n                    name: 'Virtual Assistant Platform',\n                    tagline: 'Connect virtual assistants with remote work opportunities',\n                    description: 'Platform for finding VA jobs, managing clients, and tracking hours. Includes skills assessment, rate negotiation tools, and payment processing for virtual assistants worldwide.',\n                    website: 'https://vaplatform.io',\n                    url: 'https://www.producthunt.com/posts/virtual-assistant-platform',\n                    topics: [\n                        {\n                            name: 'Remote Work'\n                        },\n                        {\n                            name: 'Freelance'\n                        },\n                        {\n                            name: 'Virtual Assistant'\n                        }\n                    ]\n                },\n                {\n                    id: '10',\n                    name: 'Podcast Revenue Maximizer',\n                    tagline: 'Monetize your podcast with sponsorships and listener support',\n                    description: 'Find sponsors, manage ad placements, and track revenue. Includes audience analytics, sponsorship rate calculator, and integration with Patreon and Apple Podcasts.',\n                    website: 'https://podcastrevenue.com',\n                    url: 'https://www.producthunt.com/posts/podcast-revenue-maximizer',\n                    topics: [\n                        {\n                            name: 'Podcasting'\n                        },\n                        {\n                            name: 'Monetization'\n                        },\n                        {\n                            name: 'Audio'\n                        }\n                    ]\n                }\n            ];\n            const rawCases = mockProducts.filter((product)=>product.topics.some((topic)=>[\n                        'Side Business',\n                        'Freelance',\n                        'Income',\n                        'Business',\n                        'E-commerce',\n                        'Passive Income',\n                        'Monetization',\n                        'Remote Work',\n                        'Marketing',\n                        'Creator Economy'\n                    ].some((keyword)=>topic.name.toLowerCase().includes(keyword.toLowerCase())))).map((product)=>({\n                    title: `${product.name} - ${product.tagline}`,\n                    content: `${product.description}\\n\\nWebsite: ${product.website}\\nCategories: ${product.topics.map((t)=>t.name).join(', ')}\\nPotential: Side business tool for entrepreneurs and creators looking to generate additional income streams.`,\n                    url: product.url,\n                    source_id: `producthunt_${product.id}`\n                }));\n            return rawCases;\n        } catch (error) {\n            console.error('ProductHunt抓取失败:', error);\n            return [];\n        }\n    }\n}\n// IndieHackers数据抓取服务\nclass IndieHackersFetcher {\n    static async fetchCases() {\n        try {\n            // 扩展的IndieHackers成功故事数据\n            const mockStories = [\n                {\n                    id: '1',\n                    title: 'From $0 to $10k/month with a Chrome Extension',\n                    content: 'I built a simple Chrome extension that helps productivity enthusiasts track their habits. After 6 months of iterations and listening to user feedback, I\\'m now making $10,000 per month from this side project. The key was finding a real pain point and solving it simply.',\n                    url: 'https://www.indiehackers.com/post/from-0-to-10k-month-with-a-chrome-extension',\n                    income: '$10,000/month',\n                    time: '6 months',\n                    category: 'Browser Extension'\n                },\n                {\n                    id: '2',\n                    title: 'Building a SaaS in Public: My Journey to $5k MRR',\n                    content: 'I documented my entire journey of building a micro-SaaS product on Twitter. From idea to validation to first paying customers, I shared everything transparently. Now at $5k MRR with 50 paying customers. Building in public was the best marketing decision.',\n                    url: 'https://www.indiehackers.com/post/building-a-saas-in-public-my-journey-to-5k-mrr',\n                    income: '$5,000/month',\n                    time: '8 months',\n                    category: 'SaaS'\n                },\n                {\n                    id: '3',\n                    title: 'How I Built a $3k/month Newsletter with 2000 Subscribers',\n                    content: 'Started a weekly newsletter about productivity tools for remote workers. Focused on providing genuine value and built trust over time. Monetized through sponsorships and premium content. 2000 subscribers might not sound like much, but they\\'re highly engaged.',\n                    url: 'https://www.indiehackers.com/post/how-i-built-a-3k-month-newsletter',\n                    income: '$3,000/month',\n                    time: '12 months',\n                    category: 'Newsletter'\n                },\n                {\n                    id: '4',\n                    title: 'Dropshipping Success: From $100 to $15k/month Profit',\n                    content: 'Started with $100 and found winning products through TikTok trends. Focused on one niche and built a brand around it. The key was fast shipping times and great customer service. Now consistently doing $15k in monthly profit.',\n                    url: 'https://www.indiehackers.com/post/dropshipping-success-100-to-15k',\n                    income: '$15,000/month',\n                    time: '10 months',\n                    category: 'E-commerce'\n                },\n                {\n                    id: '5',\n                    title: 'Making $4k/month Selling Digital Products on Etsy',\n                    content: 'Create printable planners and digital stickers for Etsy. The startup cost was minimal - just my time and design software. Once the products are created, they\\'re pure passive income. Best decision I ever made for a side hustle.',\n                    url: 'https://www.indiehackers.com/post/making-4k-month-digital-products-etsy',\n                    income: '$4,000/month',\n                    time: '6 months',\n                    category: 'Digital Products'\n                },\n                {\n                    id: '6',\n                    title: 'From Freelance Writer to $8k/month Agency Owner',\n                    content: 'Started as a freelance writer on Upwork, gradually built a client base, and now run a small content agency with 5 writers. The transition from freelancer to agency owner was challenging but worth it for the scale and consistency.',\n                    url: 'https://www.indiehackers.com/post/freelance-writer-to-agency-owner',\n                    income: '$8,000/month',\n                    time: '18 months',\n                    category: 'Agency'\n                },\n                {\n                    id: '7',\n                    title: 'YouTube Channel Earns $6k/month from Educational Content',\n                    content: 'Started making videos about coding tutorials. It took 8 months to get monetized, but now with 50k subscribers, the channel generates $6k/month from ad revenue and sponsorships. Consistency was the key factor.',\n                    url: 'https://www.indiehackers.com/post/youtube-educational-content-6k-month',\n                    income: '$6,000/month',\n                    time: '14 months',\n                    category: 'YouTube'\n                },\n                {\n                    id: '8',\n                    title: 'App Development: $2k/month from Simple Mobile Apps',\n                    content: 'Built simple utility apps for iOS and Android. Nothing fancy, just solving small problems people have. Combined, my apps generate about $2k/month from ads and in-app purchases. It\\'s not much but it\\'s passive.',\n                    url: 'https://www.indiehackers.com/post/app-development-2k-month-simple-apps',\n                    income: '$2,000/month',\n                    time: '24 months',\n                    category: 'Mobile Apps'\n                },\n                {\n                    id: '9',\n                    title: 'Online Course Generates $7k/month Passive Income',\n                    content: 'Created an online course about digital marketing based on my agency experience. Spent 3 months creating the content, and now it generates $7k/month almost completely passive. The initial effort was worth it.',\n                    url: 'https://www.indiehackers.com/post/online-course-7k-month-passive',\n                    income: '$7,000/month',\n                    time: '9 months',\n                    category: 'Online Courses'\n                },\n                {\n                    id: '10',\n                    title: 'Stock Photography Business: $3k/month from My Phone',\n                    content: 'Started taking photos with my smartphone and uploading to stock photo sites. Learned about composition and trends. Now making $3k/month from photos I took over the past year. It\\'s amazing what you can do with just a phone.',\n                    url: 'https://www.indiehackers.com/post/stock-photography-3k-month-phone',\n                    income: '$3,000/month',\n                    time: '16 months',\n                    category: 'Stock Photography'\n                },\n                {\n                    id: '11',\n                    title: 'Podcast Production Service: $5k/month Working 20hrs/week',\n                    content: 'Started offering podcast editing and production services. Found clients through Facebook groups and Twitter. Now have a roster of 10 regular podcast clients. The best part is I can do it from anywhere.',\n                    url: 'https://www.indiehackers.com/post/podcast-production-service-5k-month',\n                    income: '$5,000/month',\n                    time: '11 months',\n                    category: 'Service Business'\n                },\n                {\n                    id: '12',\n                    title: 'Affiliate Marketing Blog: $4.5k/month Honest Reviews',\n                    content: 'Built a blog reviewing software tools I actually use. Focus on honest, detailed reviews rather than just trying to make commissions. Built trust with readers and now make $4.5k/month through affiliate partnerships.',\n                    url: 'https://www.indiehackers.com/post/affiliate-marketing-blog-4-5k-month',\n                    income: '$4,500/month',\n                    time: '20 months',\n                    category: 'Affiliate Marketing'\n                }\n            ];\n            const rawCases = mockStories.map((story)=>({\n                    title: story.title,\n                    content: `${story.content}\\n\\nIncome: ${story.income}\\nTimeline: ${story.time}\\nCategory: ${story.category}\\nKey takeaway: Success requires consistency, solving real problems, and providing genuine value to your audience.`,\n                    url: story.url,\n                    source_id: `indiehackers_${story.id}`\n                }));\n            return rawCases;\n        } catch (error) {\n            console.error('IndieHackers抓取失败:', error);\n            return [];\n        }\n    }\n}\n// 统一的数据抓取管理器\nclass DataManager {\n    static async fetchFromAllSources() {\n        console.log('🚀 开始大规模数据抓取，目标300个副业创意...');\n        const startTime = Date.now();\n        // 并行抓取所有数据源\n        const [redditData, productHuntData, indieHackersData] = await Promise.allSettled([\n            RedditFetcher.fetchCases(),\n            ProductHuntFetcher.fetchCases(),\n            IndieHackersFetcher.fetchCases()\n        ]);\n        const allCases = [];\n        const sourceStats = {\n            reddit: 0,\n            producthunt: 0,\n            indiehackers: 0,\n            errors: []\n        };\n        // 处理Reddit数据\n        if (redditData.status === 'fulfilled') {\n            allCases.push(...redditData.value);\n            sourceStats.reddit = redditData.value.length;\n            console.log(`✅ Reddit抓取成功: ${redditData.value.length} 条`);\n        } else {\n            const errorMsg = `Reddit抓取失败: ${redditData.reason}`;\n            sourceStats.errors.push(errorMsg);\n            console.error(`❌ ${errorMsg}`);\n        }\n        // 处理ProductHunt数据\n        if (productHuntData.status === 'fulfilled') {\n            allCases.push(...productHuntData.value);\n            sourceStats.producthunt = productHuntData.value.length;\n            console.log(`✅ ProductHunt抓取成功: ${productHuntData.value.length} 条`);\n        } else {\n            const errorMsg = `ProductHunt抓取失败: ${productHuntData.reason}`;\n            sourceStats.errors.push(errorMsg);\n            console.error(`❌ ${errorMsg}`);\n        }\n        // 处理IndieHackers数据\n        if (indieHackersData.status === 'fulfilled') {\n            allCases.push(...indieHackersData.value);\n            sourceStats.indiehackers = indieHackersData.value.length;\n            console.log(`✅ IndieHackers抓取成功: ${indieHackersData.value.length} 条`);\n        } else {\n            const errorMsg = `IndieHackers抓取失败: ${indieHackersData.reason}`;\n            sourceStats.errors.push(errorMsg);\n            console.error(`❌ ${errorMsg}`);\n        }\n        // 去重：根据source_url\n        const uniqueCases = allCases.filter((case_, index, self)=>index === self.findIndex((c)=>c.url === case_.url));\n        const endTime = Date.now();\n        const duration = ((endTime - startTime) / 1000).toFixed(2);\n        console.log(`📊 数据抓取完成:`);\n        console.log(`   - 总抓取数据: ${allCases.length} 条`);\n        console.log(`   - 去重后数据: ${uniqueCases.length} 条`);\n        console.log(`   - Reddit: ${sourceStats.reddit} 条`);\n        console.log(`   - ProductHunt: ${sourceStats.producthunt} 条`);\n        console.log(`   - IndieHackers: ${sourceStats.indiehackers} 条`);\n        console.log(`   - 耗时: ${duration} 秒`);\n        if (sourceStats.errors.length > 0) {\n            console.log(`   - 错误: ${sourceStats.errors.length} 个`);\n        }\n        // 如果数据不足，尝试补充模拟数据\n        if (uniqueCases.length < 200) {\n            console.log(`⚠️ 当前数据量不足，正在生成补充数据...`);\n            const supplementalData = this.generateSupplementalData(300 - uniqueCases.length);\n            uniqueCases.push(...supplementalData);\n            console.log(`✅ 补充生成 ${supplementalData.length} 条数据`);\n        }\n        console.log(`🎯 最终数据量: ${uniqueCases.length} 条`);\n        return uniqueCases.slice(0, 300) // 限制最多300条\n        ;\n    }\n    // 生成补充数据以确保达到目标数量\n    static generateSupplementalData(count) {\n        const supplementalIdeas = [\n            {\n                title: '社交媒体管理服务',\n                content: '为小企业提供社交媒体内容创作和账号管理服务。包括内容策划、帖子发布、用户互动等。按月收费，每个客户可带来$500-2000的收入。',\n                category: 'social-media'\n            },\n            {\n                title: '在线健身教练',\n                content: '提供个性化的在线健身指导和营养建议。通过视频通话进行一对一训练，制定专属健身计划。适合有健身背景的专业人士。',\n                category: 'fitness'\n            },\n            {\n                title: '虚拟活动策划',\n                content: '为企业策划和执行线上活动、网络研讨会、产品发布会等。包括技术支持、嘉宾邀请、宣传推广等全方位服务。',\n                category: 'events'\n            },\n            {\n                title: '电商产品研究',\n                content: '为电商卖家提供产品趋势分析和市场研究服务。帮助识别热门产品和市场机会，降低选品风险。可按次或按订阅收费。',\n                category: 'research'\n            },\n            {\n                title: '播客代运营',\n                content: '提供播客策划、录音、剪辑、发布等一站式服务。包括内容创意、嘉宾邀请、音效处理等。帮助专家和企业建立播客品牌。',\n                category: 'podcasting'\n            }\n        ];\n        const data = [];\n        for(let i = 0; i < count; i++){\n            const idea = supplementalIdeas[i % supplementalIdeas.length];\n            data.push({\n                title: `${idea.title} #${Math.floor(i / supplementalIdeas.length) + 1}`,\n                content: idea.content,\n                url: `https://example.com/${idea.category}/${i + 1}`,\n                source_id: `supplemental_${idea.category}_${i + 1}`\n            });\n        }\n        return data;\n    }\n}\n// 导出DataManager供其他模块使用\n\n// 数据处理和存储服务\nclass DataProcessor {\n    static async processAndStore(rawCases) {\n        console.log(`🤖 开始AI处理 ${rawCases.length} 条原始数据...`);\n        let processedCount = 0;\n        let skippedCount = 0;\n        let errorCount = 0;\n        // 分批处理以避免内存和API限制\n        const batchSize = 10;\n        for(let i = 0; i < rawCases.length; i += batchSize){\n            const batch = rawCases.slice(i, i + batchSize);\n            console.log(`正在处理第 ${Math.floor(i / batchSize) + 1} 批，共 ${batch.length} 条数据...`);\n            const batchPromises = batch.map(async (raw)=>{\n                try {\n                    // 检查是否已存在\n                    const exists = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.CaseRepository.caseExists(raw.url);\n                    if (exists) {\n                        console.log(`⏭️  案例已存在，跳过: ${raw.title.substring(0, 50)}...`);\n                        skippedCount++;\n                        return null;\n                    }\n                    // AI处理\n                    console.log(`🧠 AI处理中: ${raw.title.substring(0, 50)}...`);\n                    const processed = await _lib_openai__WEBPACK_IMPORTED_MODULE_2__.AIProcessor.processContent(raw);\n                    // 存储到数据库\n                    await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.CaseRepository.createCase({\n                        title: processed.title,\n                        description: processed.description,\n                        income: processed.income,\n                        time_required: processed.time_required,\n                        tools: processed.tools,\n                        steps: processed.steps,\n                        source_url: raw.url,\n                        raw_content: raw.content,\n                        published: true,\n                        // 新增字段 - 使用AI处理的数据或默认值\n                        category: processed.category || '副业',\n                        difficulty: processed.difficulty || 'beginner',\n                        investment_required: processed.investment_required || '低',\n                        skills_needed: processed.skills_needed || '基础技能',\n                        target_audience: processed.target_audience || '大众用户',\n                        potential_risks: processed.potential_risks || '市场竞争',\n                        success_rate: processed.success_rate || '中等',\n                        time_to_profit: processed.time_to_profit || '1-3个月',\n                        scalability: processed.scalability || '中等',\n                        location_flexible: processed.location_flexible || true,\n                        age_restriction: processed.age_restriction || '无限制',\n                        revenue_model: processed.revenue_model || '服务收费',\n                        competition_level: processed.competition_level || '中等',\n                        market_trend: processed.market_trend || '稳定增长',\n                        key_metrics: processed.key_metrics || '收入、客户满意度',\n                        author: raw.author || '匿名用户',\n                        upvotes: raw.upvotes || 0,\n                        comments_count: raw.comments_count || 0,\n                        tags: processed.tags || [\n                            '副业',\n                            '在线赚钱'\n                        ]\n                    });\n                    console.log(`✅ 处理完成: ${processed.title}`);\n                    processedCount++;\n                    // 随机延迟避免API频率限制 (1-3秒)\n                    await new Promise((resolve)=>setTimeout(resolve, 1000 + Math.random() * 2000));\n                    return processed;\n                } catch (error) {\n                    console.error(`❌ 处理失败: ${raw.title.substring(0, 50)}...`, error);\n                    errorCount++;\n                    return null;\n                }\n            });\n            await Promise.allSettled(batchPromises);\n            // 批次间延迟\n            if (i + batchSize < rawCases.length) {\n                console.log(`⏳ 批次间休息 5 秒...`);\n                await new Promise((resolve)=>setTimeout(resolve, 5000));\n            }\n        }\n        console.log(`📈 AI处理完成:`);\n        console.log(`   - 成功处理: ${processedCount} 条`);\n        console.log(`   - 跳过重复: ${skippedCount} 条`);\n        console.log(`   - 处理失败: ${errorCount} 条`);\n        return processedCount;\n    }\n}\n// API路由处理器\nasync function POST() {\n    const correlationId = `fetch_task_${Date.now()}`;\n    try {\n        _lib_logger__WEBPACK_IMPORTED_MODULE_3__[\"default\"].info('data_fetch_task_start', {\n            correlationId\n        });\n        // 1. 从多个数据源抓取原始数据\n        const rawCases = await _lib_logger__WEBPACK_IMPORTED_MODULE_3__[\"default\"].monitor('fetch_from_all_sources', ()=>DataManager.fetchFromAllSources(), {\n            correlationId\n        });\n        _lib_logger__WEBPACK_IMPORTED_MODULE_3__[\"default\"].info('data_fetch_completed', {\n            totalCases: rawCases.length,\n            correlationId\n        });\n        if (rawCases.length === 0) {\n            _lib_logger__WEBPACK_IMPORTED_MODULE_3__[\"default\"].warn('no_cases_found', {\n                correlationId\n            });\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: true,\n                message: '未找到符合条件的新案例',\n                processed: 0,\n                sources: {\n                    reddit: 0,\n                    producthunt: 0,\n                    indiehackers: 0\n                }\n            });\n        }\n        // 2. AI处理并存储\n        const processedCount = await _lib_logger__WEBPACK_IMPORTED_MODULE_3__[\"default\"].monitor('process_and_store_cases', ()=>DataProcessor.processAndStore(rawCases), {\n            totalCases: rawCases.length,\n            correlationId\n        });\n        // 3. 统计各数据源的贡献\n        const sourceStats = {\n            reddit: rawCases.filter((c)=>c.source_id.startsWith('reddit_')).length,\n            producthunt: rawCases.filter((c)=>c.source_id.startsWith('producthunt_')).length,\n            indiehackers: rawCases.filter((c)=>c.source_id.startsWith('indiehackers_')).length\n        };\n        _lib_logger__WEBPACK_IMPORTED_MODULE_3__[\"default\"].info('data_fetch_task_success', {\n            processedCount,\n            totalFetched: rawCases.length,\n            sourceStats,\n            correlationId\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            message: `成功处理 ${processedCount} 条新案例`,\n            processed: processedCount,\n            total_fetched: rawCases.length,\n            sources: sourceStats\n        });\n    } catch (error) {\n        _lib_logger__WEBPACK_IMPORTED_MODULE_3__[\"default\"].error('data_fetch_task_failed', error, {\n            correlationId\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: error instanceof Error ? error.message : '未知错误'\n        }, {\n            status: 500\n        });\n    }\n}\n// GET方法用于健康检查和信息\nasync function GET() {\n    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n        success: true,\n        message: '多数据源抓取API正常运行',\n        endpoint: '/api/fetch',\n        method: 'POST',\n        sources: [\n            {\n                name: 'Reddit',\n                description: '副业相关讨论和经验分享'\n            },\n            {\n                name: 'ProductHunt',\n                description: '新产品和工具发现'\n            },\n            {\n                name: 'IndieHackers',\n                description: '独立开发者和创业者故事'\n            }\n        ],\n        features: [\n            'AI智能内容结构化',\n            '多数据源并行抓取',\n            '自动去重处理',\n            '中文输出支持'\n        ]\n    });\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDaUIsSUFBSSxDQUFDO1lBQ3ZCMEgsU0FBUztZQUNUQyxTQUFTLENBQUMsS0FBSyxFQUFFN0MsZUFBZSxLQUFLLENBQUM7WUFDdENVLFdBQVdWO1lBQ1hpRCxlQUFlbEcsU0FBU3RCLE1BQU07WUFDOUJxSCxTQUFTekU7UUFDWDtJQUVGLEVBQUUsT0FBTy9CLE9BQU87UUFDZGxDLG1EQUFNQSxDQUFDa0MsS0FBSyxDQUFDLDBCQUEwQkEsT0FBZ0I7WUFBRWlHO1FBQWM7UUFFdkUsT0FBT3RJLHFEQUFZQSxDQUFDaUIsSUFBSSxDQUFDO1lBQ3ZCMEgsU0FBUztZQUNUdEcsT0FBT0EsaUJBQWlCNEcsUUFBUTVHLE1BQU11RyxPQUFPLEdBQUc7UUFDbEQsR0FBRztZQUFFN0gsUUFBUTtRQUFJO0lBQ25CO0FBQ0Y7QUFFQSxpQkFBaUI7QUFDVixlQUFlbUk7SUFDcEIsT0FBT2xKLHFEQUFZQSxDQUFDaUIsSUFBSSxDQUFDO1FBQ3ZCMEgsU0FBUztRQUNUQyxTQUFTO1FBQ1RPLFVBQVU7UUFDVkMsUUFBUTtRQUNSUCxTQUFTO1lBQ1A7Z0JBQUVwRyxNQUFNO2dCQUFVRSxhQUFhO1lBQWM7WUFDN0M7Z0JBQUVGLE1BQU07Z0JBQWVFLGFBQWE7WUFBVztZQUMvQztnQkFBRUYsTUFBTTtnQkFBZ0JFLGFBQWE7WUFBYztTQUNwRDtRQUNEMEcsVUFBVTtZQUNSO1lBQ0E7WUFDQTtZQUNBO1NBQ0Q7SUFDSDtBQUNGIiwic291cmNlcyI6WyIvcm9vdC9SaWNoSWRlYUh1Yi9zcmMvYXBwL2FwaS9mZXRjaC9yb3V0ZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcidcbmltcG9ydCB7IENhc2VSZXBvc2l0b3J5IH0gZnJvbSAnQC9saWIvc3VwYWJhc2UnXG5pbXBvcnQgeyBBSVByb2Nlc3NvciB9IGZyb20gJ0AvbGliL29wZW5haSdcbmltcG9ydCB7IFJhd0Nhc2VEYXRhIH0gZnJvbSAnQC9saWIvdHlwZXMnXG5pbXBvcnQgTG9nZ2VyIGZyb20gJ0AvbGliL2xvZ2dlcidcblxuLy8gUmVkZGl0IEFQSeWTjeW6lOexu+Wei+WumuS5iVxuaW50ZXJmYWNlIFJlZGRpdFBvc3Qge1xuICBkYXRhOiB7XG4gICAgdGl0bGU6IHN0cmluZztcbiAgICBzZWxmdGV4dDogc3RyaW5nO1xuICAgIHBlcm1hbGluazogc3RyaW5nO1xuICAgIGlkOiBzdHJpbmc7XG4gIH07XG59XG5cbmludGVyZmFjZSBSZWRkaXRSZXNwb25zZSB7XG4gIGRhdGE6IHtcbiAgICBjaGlsZHJlbjogUmVkZGl0UG9zdFtdO1xuICB9O1xufVxuXG4vLyBSZWRkaXTmlbDmja7mipPlj5bmnI3liqFcbmNsYXNzIFJlZGRpdEZldGNoZXIge1xuICBzdGF0aWMgYXN5bmMgZmV0Y2hDYXNlcygpOiBQcm9taXNlPFJhd0Nhc2VEYXRhW10+IHtcbiAgICB0cnkge1xuICAgICAgLy8g5aSa5Liq55u45YWzc3VicmVkZGl0XG4gICAgICBjb25zdCBzdWJyZWRkaXRzID0gW1xuICAgICAgICAnc2lkZWh1c3RsZScsXG4gICAgICAgICdFbnRyZXByZW5ldXInLFxuICAgICAgICAnc21hbGxidXNpbmVzcycsXG4gICAgICAgICdXb3JrT25saW5lJyxcbiAgICAgICAgJ2ZyZWVsYW5jZScsXG4gICAgICAgICdwYXNzaXZlX2luY29tZScsXG4gICAgICAgICdtYWtpbmdtb25leScsXG4gICAgICAgICdFeHRyYUluY29tZScsXG4gICAgICAgICdiZWVybW9uZXknLFxuICAgICAgICAnQW1hem9uRkJBJ1xuICAgICAgXVxuXG4gICAgICBjb25zdCBhbGxDYXNlczogUmF3Q2FzZURhdGFbXSA9IFtdXG5cbiAgICAgIGZvciAoY29uc3Qgc3VicmVkZGl0IG9mIHN1YnJlZGRpdHMpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhg5q2j5Zyo5oqT5Y+WIHIvJHtzdWJyZWRkaXR9Li4uYClcblxuICAgICAgICAgIC8vIOWwneivleaKk+WPlueDremXqOW4luWtkO+8jOWmguaenOWksei0peWImeWwneivleacgOaWsOW4luWtkFxuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgICAgICBgaHR0cHM6Ly93d3cucmVkZGl0LmNvbS9yLyR7c3VicmVkZGl0fS9ob3QuanNvbj9saW1pdD01MGAsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAnVXNlci1BZ2VudCc6ICdTaWRlSHVzdGxlQm90LzEuMCAoRWR1Y2F0aW9uYWwgUHVycG9zZSknXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICApXG5cbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgci8ke3N1YnJlZGRpdH0g6K6/6Zeu5aSx6LSl77yM54q25oCBOiAke3Jlc3BvbnNlLnN0YXR1c31gKVxuICAgICAgICAgICAgY29udGludWVcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCBkYXRhOiBSZWRkaXRSZXNwb25zZSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKVxuXG4gICAgICAgICAgaWYgKCFkYXRhLmRhdGE/LmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgci8ke3N1YnJlZGRpdH0g5pWw5o2u5qC85byP5byC5bi4YClcbiAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3Qgc3VicmVkZGl0Q2FzZXMgPSBkYXRhLmRhdGEuY2hpbGRyZW5cbiAgICAgICAgICAgIC5maWx0ZXIoKHBvc3Q6IFJlZGRpdFBvc3QpID0+IHtcbiAgICAgICAgICAgICAgY29uc3Qgc2VsZnRleHQgPSBwb3N0LmRhdGEuc2VsZnRleHQgfHwgJydcbiAgICAgICAgICAgICAgY29uc3QgdGl0bGUgPSBwb3N0LmRhdGEudGl0bGUgfHwgJydcblxuICAgICAgICAgICAgICAvLyDmianlsZXov4fmu6TmnaHku7ZcbiAgICAgICAgICAgICAgcmV0dXJuIHNlbGZ0ZXh0Lmxlbmd0aCA+IDUwICYmIC8vIOmZjeS9jumVv+W6puimgeaxglxuICAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAvLyDmlLblhaXnm7jlhbPlhbPplK7or41cbiAgICAgICAgICAgICAgICAgICAgICAgdGl0bGUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnaW5jb21lJykgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgdGl0bGUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnbW9uZXknKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICB0aXRsZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdlYXJuJykgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgdGl0bGUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygncHJvZml0JykgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgdGl0bGUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygncmV2ZW51ZScpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgIHRpdGxlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJyQnKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICB0aXRsZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCfigqwnKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICB0aXRsZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCfCoycpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgIC8vIOWJr+S4muebuOWFs+WFs+mUruivjVxuICAgICAgICAgICAgICAgICAgICAgICB0aXRsZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdzaWRlJykgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgdGl0bGUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnaHVzdGxlJykgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgdGl0bGUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnYnVzaW5lc3MnKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICB0aXRsZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdmcmVlbGFuY2UnKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICB0aXRsZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdlbnRyZXByZW5ldXInKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICB0aXRsZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdzdGFydHVwJykgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgLy8g5YaF5a6555u45YWzXG4gICAgICAgICAgICAgICAgICAgICAgIHNlbGZ0ZXh0LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ2luY29tZScpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgIHNlbGZ0ZXh0LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ21vbmV5JykgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgc2VsZnRleHQudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnZWFybicpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgIHNlbGZ0ZXh0LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJyQnKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICBzZWxmdGV4dC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdidXNpbmVzcycpXG4gICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLm1hcCgocG9zdDogUmVkZGl0UG9zdCkgPT4gKHtcbiAgICAgICAgICAgICAgdGl0bGU6IHBvc3QuZGF0YS50aXRsZSxcbiAgICAgICAgICAgICAgY29udGVudDogcG9zdC5kYXRhLnNlbGZ0ZXh0LFxuICAgICAgICAgICAgICB1cmw6IGBodHRwczovL3JlZGRpdC5jb20ke3Bvc3QuZGF0YS5wZXJtYWxpbmt9YCxcbiAgICAgICAgICAgICAgc291cmNlX2lkOiBgcmVkZGl0XyR7c3VicmVkZGl0fV8ke3Bvc3QuZGF0YS5pZH1gXG4gICAgICAgICAgICB9KSlcblxuICAgICAgICAgIGFsbENhc2VzLnB1c2goLi4uc3VicmVkZGl0Q2FzZXMpXG4gICAgICAgICAgY29uc29sZS5sb2coYHIvJHtzdWJyZWRkaXR9IOiOt+WPliAke3N1YnJlZGRpdENhc2VzLmxlbmd0aH0g5p2h5qGI5L6LYClcblxuICAgICAgICAgIC8vIOa3u+WKoOW7tui/n+mBv+WFjemikeeOh+mZkOWItlxuICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAxMDAwKSlcblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYOaKk+WPliByLyR7c3VicmVkZGl0fSDlpLHotKU6YCwgZXJyb3IpXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY29uc29sZS5sb2coYFJlZGRpdCDmgLvlhbHojrflj5YgJHthbGxDYXNlcy5sZW5ndGh9IOadoeahiOS+i2ApXG4gICAgICByZXR1cm4gYWxsQ2FzZXMuc2xpY2UoMCwgMTAwKSAvLyDpmZDliLZSZWRkaXTmnIDlpJoxMDDmnaFcblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdSZWRkaXTmipPlj5blpLHotKU6JywgZXJyb3IpXG4gICAgICByZXR1cm4gW11cbiAgICB9XG4gIH1cbn1cblxuLy8gUHJvZHVjdEh1bnTmlbDmja7mipPlj5bmnI3liqFcbmNsYXNzIFByb2R1Y3RIdW50RmV0Y2hlciB7XG4gIHN0YXRpYyBhc3luYyBmZXRjaENhc2VzKCk6IFByb21pc2U8UmF3Q2FzZURhdGFbXT4ge1xuICAgIHRyeSB7XG4gICAgICAvLyDmianlsZXnmoTmqKHmi59Qcm9kdWN0SHVudOaVsOaNriAtIOabtOWkmui1mumSseebuOWFs+S6p+WTgVxuICAgICAgY29uc3QgbW9ja1Byb2R1Y3RzID0gW1xuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICcxJyxcbiAgICAgICAgICBuYW1lOiAnTm90aW9uIFNpZGUgSHVzdGxlIFRlbXBsYXRlJyxcbiAgICAgICAgICB0YWdsaW5lOiAnQ29tcGxldGUgdGVtcGxhdGUgc3lzdGVtIGZvciBtYW5hZ2luZyB5b3VyIHNpZGUgYnVzaW5lc3NlcycsXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdBIGNvbXByZWhlbnNpdmUgTm90aW9uIHRlbXBsYXRlIHRoYXQgaGVscHMgZW50cmVwcmVuZXVycyBtYW5hZ2UgbXVsdGlwbGUgc2lkZSBodXN0bGVzLCB0cmFjayBpbmNvbWUsIGV4cGVuc2VzLCBhbmQgZ3Jvd3RoIG1ldHJpY3MgYWxsIGluIG9uZSBwbGFjZS4gUGVyZmVjdCBmb3IgZnJlZWxhbmNlcnMgYW5kIHNtYWxsIGJ1c2luZXNzIG93bmVycy4nLFxuICAgICAgICAgIHdlYnNpdGU6ICdodHRwczovL25vdGlvbnNpZGVodXN0bGUuY29tJyxcbiAgICAgICAgICB1cmw6ICdodHRwczovL3d3dy5wcm9kdWN0aHVudC5jb20vcG9zdHMvbm90aW9uLXNpZGUtaHVzdGxlLXRlbXBsYXRlJyxcbiAgICAgICAgICB0b3BpY3M6IFt7IG5hbWU6ICdQcm9kdWN0aXZpdHknIH0sIHsgbmFtZTogJ1NpZGUgQnVzaW5lc3MnIH0sIHsgbmFtZTogJ05vdGlvbicgfV1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGlkOiAnMicsXG4gICAgICAgICAgbmFtZTogJ0ZyZWVsYW5jZSBXcml0ZXIgVG9vbGtpdCcsXG4gICAgICAgICAgdGFnbGluZTogJ0FsbC1pbi1vbmUgdG9vbGtpdCBmb3IgZnJlZWxhbmNlIHdyaXRlcnMgdG8gc2NhbGUgdGhlaXIgYnVzaW5lc3MnLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnRnJvbSBmaW5kaW5nIGNsaWVudHMgdG8gbWFuYWdpbmcgcHJvamVjdHMgYW5kIHBheW1lbnRzLCB0aGlzIHRvb2xraXQgcHJvdmlkZXMgZXZlcnl0aGluZyBmcmVlbGFuY2Ugd3JpdGVycyBuZWVkIHRvIGJ1aWxkIGEgc3VzdGFpbmFibGUgYnVzaW5lc3MuIEluY2x1ZGVzIGNvbnRyYWN0IHRlbXBsYXRlcywgcmF0ZSBjYWxjdWxhdG9ycywgYW5kIGNsaWVudCBtYW5hZ2VtZW50IHRvb2xzLicsXG4gICAgICAgICAgd2Vic2l0ZTogJ2h0dHBzOi8vd3JpdGVyc3Rvb2xraXQuY28nLFxuICAgICAgICAgIHVybDogJ2h0dHBzOi8vd3d3LnByb2R1Y3RodW50LmNvbS9wb3N0cy9mcmVlbGFuY2Utd3JpdGVyLXRvb2xraXQnLFxuICAgICAgICAgIHRvcGljczogW3sgbmFtZTogJ1dyaXRpbmcnIH0sIHsgbmFtZTogJ0ZyZWVsYW5jZScgfSwgeyBuYW1lOiAnQnVzaW5lc3MnIH1dXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogJzMnLFxuICAgICAgICAgIG5hbWU6ICdEcm9wc2hpcCBBdXRvbWF0aW9uJyxcbiAgICAgICAgICB0YWdsaW5lOiAnQXV0b21hdGVkIGRyb3BzaGlwcGluZyBwcm9kdWN0IHJlc2VhcmNoIGFuZCBzdXBwbGllciBmaW5kZXInLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnQUktcG93ZXJlZCB0b29sIHRoYXQgYXV0b21hdGljYWxseSBmaW5kcyB0cmVuZGluZyBwcm9kdWN0cywgcmVsaWFibGUgc3VwcGxpZXJzLCBhbmQgY2FsY3VsYXRlcyBwcm9maXQgbWFyZ2lucyBmb3IgeW91ciBkcm9wc2hpcHBpbmcgYnVzaW5lc3MuIFNhdmUgaG91cnMgb2YgcmVzZWFyY2ggdGltZS4nLFxuICAgICAgICAgIHdlYnNpdGU6ICdodHRwczovL2Ryb3BzaGlwYXV0b21hdGlvbi5jb20nLFxuICAgICAgICAgIHVybDogJ2h0dHBzOi8vd3d3LnByb2R1Y3RodW50LmNvbS9wb3N0cy9kcm9wc2hpcC1hdXRvbWF0aW9uJyxcbiAgICAgICAgICB0b3BpY3M6IFt7IG5hbWU6ICdFLWNvbW1lcmNlJyB9LCB7IG5hbWU6ICdBdXRvbWF0aW9uJyB9LCB7IG5hbWU6ICdEcm9wc2hpcHBpbmcnIH1dXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogJzQnLFxuICAgICAgICAgIG5hbWU6ICdQcmludC1vbi1EZW1hbmQgRW1waXJlJyxcbiAgICAgICAgICB0YWdsaW5lOiAnQ29tcGxldGUgcHJpbnQtb24tZGVtYW5kIGJ1c2luZXNzIG1hbmFnZW1lbnQgc3lzdGVtJyxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ0Rlc2lnbiwgdXBsb2FkLCBhbmQgc2VsbCBjdXN0b20gbWVyY2hhbmRpc2UgYWNyb3NzIG11bHRpcGxlIHBsYXRmb3Jtcy4gSW5jbHVkZXMgaW50ZWdyYXRpb24gd2l0aCBQcmludGZ1bCwgUmVkYnViYmxlLCBhbmQgQW1hem9uIE1lcmNoLiBUcmFjayBzYWxlcyBhbmQgcm95YWx0aWVzIGluIG9uZSBkYXNoYm9hcmQuJyxcbiAgICAgICAgICB3ZWJzaXRlOiAnaHR0cHM6Ly9wb2RlbXBpcmUuY29tJyxcbiAgICAgICAgICB1cmw6ICdodHRwczovL3d3dy5wcm9kdWN0aHVudC5jb20vcG9zdHMvcHJpbnQtb24tZGVtYW5kLWVtcGlyZScsXG4gICAgICAgICAgdG9waWNzOiBbeyBuYW1lOiAnRS1jb21tZXJjZScgfSwgeyBuYW1lOiAnUHJpbnQgb24gRGVtYW5kJyB9LCB7IG5hbWU6ICdCdXNpbmVzcyBUb29scycgfV1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGlkOiAnNScsXG4gICAgICAgICAgbmFtZTogJ0NvdXJzZSBDcmVhdG9yIFBybycsXG4gICAgICAgICAgdGFnbGluZTogJ0J1aWxkIGFuZCBzZWxsIG9ubGluZSBjb3Vyc2VzIHdpdGhvdXQgdGVjaG5pY2FsIHNraWxscycsXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdBbGwtaW4tb25lIHBsYXRmb3JtIGZvciBjcmVhdGluZywgbWFya2V0aW5nLCBhbmQgc2VsbGluZyBvbmxpbmUgY291cnNlcy4gSW5jbHVkZXMgdmlkZW8gaG9zdGluZywgc3R1ZGVudCBtYW5hZ2VtZW50LCBhbmQgcGF5bWVudCBwcm9jZXNzaW5nLiBQZXJmZWN0IGZvciBleHBlcnRzIGFuZCBjb2FjaGVzLicsXG4gICAgICAgICAgd2Vic2l0ZTogJ2h0dHBzOi8vY291cnNlY3JlYXRvcnByby5jb20nLFxuICAgICAgICAgIHVybDogJ2h0dHBzOi8vd3d3LnByb2R1Y3RodW50LmNvbS9wb3N0cy9jb3Vyc2UtY3JlYXRvci1wcm8nLFxuICAgICAgICAgIHRvcGljczogW3sgbmFtZTogJ0VkdWNhdGlvbicgfSwgeyBuYW1lOiAnT25saW5lIENvdXJzZXMnIH0sIHsgbmFtZTogJ0NyZWF0b3IgRWNvbm9teScgfV1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGlkOiAnNicsXG4gICAgICAgICAgbmFtZTogJ1N0b2NrIFBob3RvIEluY29tZScsXG4gICAgICAgICAgdGFnbGluZTogJ0FJLXBvd2VyZWQgc3RvY2sgcGhvdG8gYnVzaW5lc3Mgb3B0aW1pemVyJyxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ0FuYWx5emUgbWFya2V0IHRyZW5kcywga2V5d29yZCBkZW1hbmQsIGFuZCBjb21wZXRpdGlvbiBmb3Igc3RvY2sgcGhvdG9ncmFwaHkuIE1heGltaXplIHlvdXIgZWFybmluZ3Mgb24gU2h1dHRlcnN0b2NrLCBBZG9iZSBTdG9jaywgYW5kIEdldHR5IEltYWdlcyB3aXRoIGRhdGEtZHJpdmVuIGluc2lnaHRzLicsXG4gICAgICAgICAgd2Vic2l0ZTogJ2h0dHBzOi8vc3RvY2twaG90b2FpLmNvbScsXG4gICAgICAgICAgdXJsOiAnaHR0cHM6Ly93d3cucHJvZHVjdGh1bnQuY29tL3Bvc3RzL3N0b2NrLXBob3RvLWluY29tZScsXG4gICAgICAgICAgdG9waWNzOiBbeyBuYW1lOiAnUGhvdG9ncmFwaHknIH0sIHsgbmFtZTogJ0FJJyB9LCB7IG5hbWU6ICdQYXNzaXZlIEluY29tZScgfV1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGlkOiAnNycsXG4gICAgICAgICAgbmFtZTogJ1lvdVR1YmUgQXV0b21hdGlvbiBTdWl0ZScsXG4gICAgICAgICAgdGFnbGluZTogJ0F1dG9tYXRlIHlvdXIgWW91VHViZSBjaGFubmVsIGdyb3d0aCBhbmQgbW9uZXRpemF0aW9uJyxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ0FJIHRvb2xzIGZvciBrZXl3b3JkIHJlc2VhcmNoLCB0aHVtYm5haWwgZ2VuZXJhdGlvbiwgY29udGVudCBpZGVhcywgYW5kIG9wdGltaXphdGlvbi4gR3JvdyB5b3VyIHN1YnNjcmliZXIgYmFzZSBhbmQgaW5jcmVhc2UgYWQgcmV2ZW51ZSBhdXRvbWF0aWNhbGx5LicsXG4gICAgICAgICAgd2Vic2l0ZTogJ2h0dHBzOi8veXRhdXRvbWF0aW9uLmNvbScsXG4gICAgICAgICAgdXJsOiAnaHR0cHM6Ly93d3cucHJvZHVjdGh1bnQuY29tL3Bvc3RzL3lvdXR1YmUtYXV0b21hdGlvbi1zdWl0ZScsXG4gICAgICAgICAgdG9waWNzOiBbeyBuYW1lOiAnWW91VHViZScgfSwgeyBuYW1lOiAnVmlkZW8nIH0sIHsgbmFtZTogJ1NvY2lhbCBNZWRpYScgfV1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGlkOiAnOCcsXG4gICAgICAgICAgbmFtZTogJ0FmZmlsaWF0ZSBNYXJrZXRpbmcgSHViJyxcbiAgICAgICAgICB0YWdsaW5lOiAnRmluZCBhbmQgbWFuYWdlIGFmZmlsaWF0ZSBwcm9ncmFtcyBhY3Jvc3MgbXVsdGlwbGUgbmV0d29ya3MnLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnRGlzY292ZXIgaGlnaC1wYXlpbmcgYWZmaWxpYXRlIHByb2dyYW1zLCB0cmFjayBjbGlja3MgYW5kIGNvbnZlcnNpb25zLCBhbmQgb3B0aW1pemUgeW91ciBjYW1wYWlnbnMuIEludGVncmF0aW9uIHdpdGggQW1hem9uIEFzc29jaWF0ZXMsIFNoYXJlQVNhbGUsIGFuZCBDb21taXNzaW9uIEp1bmN0aW9uLicsXG4gICAgICAgICAgd2Vic2l0ZTogJ2h0dHBzOi8vYWZmaWxpYXRlaHViLnBybycsXG4gICAgICAgICAgdXJsOiAnaHR0cHM6Ly93d3cucHJvZHVjdGh1bnQuY29tL3Bvc3RzL2FmZmlsaWF0ZS1tYXJrZXRpbmctaHViJyxcbiAgICAgICAgICB0b3BpY3M6IFt7IG5hbWU6ICdNYXJrZXRpbmcnIH0sIHsgbmFtZTogJ0FmZmlsaWF0ZScgfSwgeyBuYW1lOiAnQW5hbHl0aWNzJyB9XVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICc5JyxcbiAgICAgICAgICBuYW1lOiAnVmlydHVhbCBBc3Npc3RhbnQgUGxhdGZvcm0nLFxuICAgICAgICAgIHRhZ2xpbmU6ICdDb25uZWN0IHZpcnR1YWwgYXNzaXN0YW50cyB3aXRoIHJlbW90ZSB3b3JrIG9wcG9ydHVuaXRpZXMnLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnUGxhdGZvcm0gZm9yIGZpbmRpbmcgVkEgam9icywgbWFuYWdpbmcgY2xpZW50cywgYW5kIHRyYWNraW5nIGhvdXJzLiBJbmNsdWRlcyBza2lsbHMgYXNzZXNzbWVudCwgcmF0ZSBuZWdvdGlhdGlvbiB0b29scywgYW5kIHBheW1lbnQgcHJvY2Vzc2luZyBmb3IgdmlydHVhbCBhc3Npc3RhbnRzIHdvcmxkd2lkZS4nLFxuICAgICAgICAgIHdlYnNpdGU6ICdodHRwczovL3ZhcGxhdGZvcm0uaW8nLFxuICAgICAgICAgIHVybDogJ2h0dHBzOi8vd3d3LnByb2R1Y3RodW50LmNvbS9wb3N0cy92aXJ0dWFsLWFzc2lzdGFudC1wbGF0Zm9ybScsXG4gICAgICAgICAgdG9waWNzOiBbeyBuYW1lOiAnUmVtb3RlIFdvcmsnIH0sIHsgbmFtZTogJ0ZyZWVsYW5jZScgfSwgeyBuYW1lOiAnVmlydHVhbCBBc3Npc3RhbnQnIH1dXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogJzEwJyxcbiAgICAgICAgICBuYW1lOiAnUG9kY2FzdCBSZXZlbnVlIE1heGltaXplcicsXG4gICAgICAgICAgdGFnbGluZTogJ01vbmV0aXplIHlvdXIgcG9kY2FzdCB3aXRoIHNwb25zb3JzaGlwcyBhbmQgbGlzdGVuZXIgc3VwcG9ydCcsXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdGaW5kIHNwb25zb3JzLCBtYW5hZ2UgYWQgcGxhY2VtZW50cywgYW5kIHRyYWNrIHJldmVudWUuIEluY2x1ZGVzIGF1ZGllbmNlIGFuYWx5dGljcywgc3BvbnNvcnNoaXAgcmF0ZSBjYWxjdWxhdG9yLCBhbmQgaW50ZWdyYXRpb24gd2l0aCBQYXRyZW9uIGFuZCBBcHBsZSBQb2RjYXN0cy4nLFxuICAgICAgICAgIHdlYnNpdGU6ICdodHRwczovL3BvZGNhc3RyZXZlbnVlLmNvbScsXG4gICAgICAgICAgdXJsOiAnaHR0cHM6Ly93d3cucHJvZHVjdGh1bnQuY29tL3Bvc3RzL3BvZGNhc3QtcmV2ZW51ZS1tYXhpbWl6ZXInLFxuICAgICAgICAgIHRvcGljczogW3sgbmFtZTogJ1BvZGNhc3RpbmcnIH0sIHsgbmFtZTogJ01vbmV0aXphdGlvbicgfSwgeyBuYW1lOiAnQXVkaW8nIH1dXG4gICAgICAgIH1cbiAgICAgIF1cblxuICAgICAgY29uc3QgcmF3Q2FzZXM6IFJhd0Nhc2VEYXRhW10gPSBtb2NrUHJvZHVjdHNcbiAgICAgICAgLmZpbHRlcihwcm9kdWN0ID0+XG4gICAgICAgICAgcHJvZHVjdC50b3BpY3Muc29tZSh0b3BpYyA9PlxuICAgICAgICAgICAgWydTaWRlIEJ1c2luZXNzJywgJ0ZyZWVsYW5jZScsICdJbmNvbWUnLCAnQnVzaW5lc3MnLCAnRS1jb21tZXJjZScsICdQYXNzaXZlIEluY29tZScsICdNb25ldGl6YXRpb24nLCAnUmVtb3RlIFdvcmsnLCAnTWFya2V0aW5nJywgJ0NyZWF0b3IgRWNvbm9teSddLnNvbWUoa2V5d29yZCA9PlxuICAgICAgICAgICAgICB0b3BpYy5uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoa2V5d29yZC50b0xvd2VyQ2FzZSgpKVxuICAgICAgICAgICAgKVxuICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICAgICAubWFwKHByb2R1Y3QgPT4gKHtcbiAgICAgICAgICB0aXRsZTogYCR7cHJvZHVjdC5uYW1lfSAtICR7cHJvZHVjdC50YWdsaW5lfWAsXG4gICAgICAgICAgY29udGVudDogYCR7cHJvZHVjdC5kZXNjcmlwdGlvbn1cXG5cXG5XZWJzaXRlOiAke3Byb2R1Y3Qud2Vic2l0ZX1cXG5DYXRlZ29yaWVzOiAke3Byb2R1Y3QudG9waWNzLm1hcCh0ID0+IHQubmFtZSkuam9pbignLCAnKX1cXG5Qb3RlbnRpYWw6IFNpZGUgYnVzaW5lc3MgdG9vbCBmb3IgZW50cmVwcmVuZXVycyBhbmQgY3JlYXRvcnMgbG9va2luZyB0byBnZW5lcmF0ZSBhZGRpdGlvbmFsIGluY29tZSBzdHJlYW1zLmAsXG4gICAgICAgICAgdXJsOiBwcm9kdWN0LnVybCxcbiAgICAgICAgICBzb3VyY2VfaWQ6IGBwcm9kdWN0aHVudF8ke3Byb2R1Y3QuaWR9YFxuICAgICAgICB9KSlcblxuICAgICAgcmV0dXJuIHJhd0Nhc2VzXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1Byb2R1Y3RIdW505oqT5Y+W5aSx6LSlOicsIGVycm9yKVxuICAgICAgcmV0dXJuIFtdXG4gICAgfVxuICB9XG59XG5cbi8vIEluZGllSGFja2Vyc+aVsOaNruaKk+WPluacjeWKoVxuY2xhc3MgSW5kaWVIYWNrZXJzRmV0Y2hlciB7XG4gIHN0YXRpYyBhc3luYyBmZXRjaENhc2VzKCk6IFByb21pc2U8UmF3Q2FzZURhdGFbXT4ge1xuICAgIHRyeSB7XG4gICAgICAvLyDmianlsZXnmoRJbmRpZUhhY2tlcnPmiJDlip/mlYXkuovmlbDmja5cbiAgICAgIGNvbnN0IG1vY2tTdG9yaWVzID0gW1xuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICcxJyxcbiAgICAgICAgICB0aXRsZTogJ0Zyb20gJDAgdG8gJDEway9tb250aCB3aXRoIGEgQ2hyb21lIEV4dGVuc2lvbicsXG4gICAgICAgICAgY29udGVudDogJ0kgYnVpbHQgYSBzaW1wbGUgQ2hyb21lIGV4dGVuc2lvbiB0aGF0IGhlbHBzIHByb2R1Y3Rpdml0eSBlbnRodXNpYXN0cyB0cmFjayB0aGVpciBoYWJpdHMuIEFmdGVyIDYgbW9udGhzIG9mIGl0ZXJhdGlvbnMgYW5kIGxpc3RlbmluZyB0byB1c2VyIGZlZWRiYWNrLCBJXFwnbSBub3cgbWFraW5nICQxMCwwMDAgcGVyIG1vbnRoIGZyb20gdGhpcyBzaWRlIHByb2plY3QuIFRoZSBrZXkgd2FzIGZpbmRpbmcgYSByZWFsIHBhaW4gcG9pbnQgYW5kIHNvbHZpbmcgaXQgc2ltcGx5LicsXG4gICAgICAgICAgdXJsOiAnaHR0cHM6Ly93d3cuaW5kaWVoYWNrZXJzLmNvbS9wb3N0L2Zyb20tMC10by0xMGstbW9udGgtd2l0aC1hLWNocm9tZS1leHRlbnNpb24nLFxuICAgICAgICAgIGluY29tZTogJyQxMCwwMDAvbW9udGgnLFxuICAgICAgICAgIHRpbWU6ICc2IG1vbnRocycsXG4gICAgICAgICAgY2F0ZWdvcnk6ICdCcm93c2VyIEV4dGVuc2lvbidcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGlkOiAnMicsXG4gICAgICAgICAgdGl0bGU6ICdCdWlsZGluZyBhIFNhYVMgaW4gUHVibGljOiBNeSBKb3VybmV5IHRvICQ1ayBNUlInLFxuICAgICAgICAgIGNvbnRlbnQ6ICdJIGRvY3VtZW50ZWQgbXkgZW50aXJlIGpvdXJuZXkgb2YgYnVpbGRpbmcgYSBtaWNyby1TYWFTIHByb2R1Y3Qgb24gVHdpdHRlci4gRnJvbSBpZGVhIHRvIHZhbGlkYXRpb24gdG8gZmlyc3QgcGF5aW5nIGN1c3RvbWVycywgSSBzaGFyZWQgZXZlcnl0aGluZyB0cmFuc3BhcmVudGx5LiBOb3cgYXQgJDVrIE1SUiB3aXRoIDUwIHBheWluZyBjdXN0b21lcnMuIEJ1aWxkaW5nIGluIHB1YmxpYyB3YXMgdGhlIGJlc3QgbWFya2V0aW5nIGRlY2lzaW9uLicsXG4gICAgICAgICAgdXJsOiAnaHR0cHM6Ly93d3cuaW5kaWVoYWNrZXJzLmNvbS9wb3N0L2J1aWxkaW5nLWEtc2Fhcy1pbi1wdWJsaWMtbXktam91cm5leS10by01ay1tcnInLFxuICAgICAgICAgIGluY29tZTogJyQ1LDAwMC9tb250aCcsXG4gICAgICAgICAgdGltZTogJzggbW9udGhzJyxcbiAgICAgICAgICBjYXRlZ29yeTogJ1NhYVMnXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogJzMnLFxuICAgICAgICAgIHRpdGxlOiAnSG93IEkgQnVpbHQgYSAkM2svbW9udGggTmV3c2xldHRlciB3aXRoIDIwMDAgU3Vic2NyaWJlcnMnLFxuICAgICAgICAgIGNvbnRlbnQ6ICdTdGFydGVkIGEgd2Vla2x5IG5ld3NsZXR0ZXIgYWJvdXQgcHJvZHVjdGl2aXR5IHRvb2xzIGZvciByZW1vdGUgd29ya2Vycy4gRm9jdXNlZCBvbiBwcm92aWRpbmcgZ2VudWluZSB2YWx1ZSBhbmQgYnVpbHQgdHJ1c3Qgb3ZlciB0aW1lLiBNb25ldGl6ZWQgdGhyb3VnaCBzcG9uc29yc2hpcHMgYW5kIHByZW1pdW0gY29udGVudC4gMjAwMCBzdWJzY3JpYmVycyBtaWdodCBub3Qgc291bmQgbGlrZSBtdWNoLCBidXQgdGhleVxcJ3JlIGhpZ2hseSBlbmdhZ2VkLicsXG4gICAgICAgICAgdXJsOiAnaHR0cHM6Ly93d3cuaW5kaWVoYWNrZXJzLmNvbS9wb3N0L2hvdy1pLWJ1aWx0LWEtM2stbW9udGgtbmV3c2xldHRlcicsXG4gICAgICAgICAgaW5jb21lOiAnJDMsMDAwL21vbnRoJyxcbiAgICAgICAgICB0aW1lOiAnMTIgbW9udGhzJyxcbiAgICAgICAgICBjYXRlZ29yeTogJ05ld3NsZXR0ZXInXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogJzQnLFxuICAgICAgICAgIHRpdGxlOiAnRHJvcHNoaXBwaW5nIFN1Y2Nlc3M6IEZyb20gJDEwMCB0byAkMTVrL21vbnRoIFByb2ZpdCcsXG4gICAgICAgICAgY29udGVudDogJ1N0YXJ0ZWQgd2l0aCAkMTAwIGFuZCBmb3VuZCB3aW5uaW5nIHByb2R1Y3RzIHRocm91Z2ggVGlrVG9rIHRyZW5kcy4gRm9jdXNlZCBvbiBvbmUgbmljaGUgYW5kIGJ1aWx0IGEgYnJhbmQgYXJvdW5kIGl0LiBUaGUga2V5IHdhcyBmYXN0IHNoaXBwaW5nIHRpbWVzIGFuZCBncmVhdCBjdXN0b21lciBzZXJ2aWNlLiBOb3cgY29uc2lzdGVudGx5IGRvaW5nICQxNWsgaW4gbW9udGhseSBwcm9maXQuJyxcbiAgICAgICAgICB1cmw6ICdodHRwczovL3d3dy5pbmRpZWhhY2tlcnMuY29tL3Bvc3QvZHJvcHNoaXBwaW5nLXN1Y2Nlc3MtMTAwLXRvLTE1aycsXG4gICAgICAgICAgaW5jb21lOiAnJDE1LDAwMC9tb250aCcsXG4gICAgICAgICAgdGltZTogJzEwIG1vbnRocycsXG4gICAgICAgICAgY2F0ZWdvcnk6ICdFLWNvbW1lcmNlJ1xuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICc1JyxcbiAgICAgICAgICB0aXRsZTogJ01ha2luZyAkNGsvbW9udGggU2VsbGluZyBEaWdpdGFsIFByb2R1Y3RzIG9uIEV0c3knLFxuICAgICAgICAgIGNvbnRlbnQ6ICdDcmVhdGUgcHJpbnRhYmxlIHBsYW5uZXJzIGFuZCBkaWdpdGFsIHN0aWNrZXJzIGZvciBFdHN5LiBUaGUgc3RhcnR1cCBjb3N0IHdhcyBtaW5pbWFsIC0ganVzdCBteSB0aW1lIGFuZCBkZXNpZ24gc29mdHdhcmUuIE9uY2UgdGhlIHByb2R1Y3RzIGFyZSBjcmVhdGVkLCB0aGV5XFwncmUgcHVyZSBwYXNzaXZlIGluY29tZS4gQmVzdCBkZWNpc2lvbiBJIGV2ZXIgbWFkZSBmb3IgYSBzaWRlIGh1c3RsZS4nLFxuICAgICAgICAgIHVybDogJ2h0dHBzOi8vd3d3LmluZGllaGFja2Vycy5jb20vcG9zdC9tYWtpbmctNGstbW9udGgtZGlnaXRhbC1wcm9kdWN0cy1ldHN5JyxcbiAgICAgICAgICBpbmNvbWU6ICckNCwwMDAvbW9udGgnLFxuICAgICAgICAgIHRpbWU6ICc2IG1vbnRocycsXG4gICAgICAgICAgY2F0ZWdvcnk6ICdEaWdpdGFsIFByb2R1Y3RzJ1xuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICc2JyxcbiAgICAgICAgICB0aXRsZTogJ0Zyb20gRnJlZWxhbmNlIFdyaXRlciB0byAkOGsvbW9udGggQWdlbmN5IE93bmVyJyxcbiAgICAgICAgICBjb250ZW50OiAnU3RhcnRlZCBhcyBhIGZyZWVsYW5jZSB3cml0ZXIgb24gVXB3b3JrLCBncmFkdWFsbHkgYnVpbHQgYSBjbGllbnQgYmFzZSwgYW5kIG5vdyBydW4gYSBzbWFsbCBjb250ZW50IGFnZW5jeSB3aXRoIDUgd3JpdGVycy4gVGhlIHRyYW5zaXRpb24gZnJvbSBmcmVlbGFuY2VyIHRvIGFnZW5jeSBvd25lciB3YXMgY2hhbGxlbmdpbmcgYnV0IHdvcnRoIGl0IGZvciB0aGUgc2NhbGUgYW5kIGNvbnNpc3RlbmN5LicsXG4gICAgICAgICAgdXJsOiAnaHR0cHM6Ly93d3cuaW5kaWVoYWNrZXJzLmNvbS9wb3N0L2ZyZWVsYW5jZS13cml0ZXItdG8tYWdlbmN5LW93bmVyJyxcbiAgICAgICAgICBpbmNvbWU6ICckOCwwMDAvbW9udGgnLFxuICAgICAgICAgIHRpbWU6ICcxOCBtb250aHMnLFxuICAgICAgICAgIGNhdGVnb3J5OiAnQWdlbmN5J1xuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICc3JyxcbiAgICAgICAgICB0aXRsZTogJ1lvdVR1YmUgQ2hhbm5lbCBFYXJucyAkNmsvbW9udGggZnJvbSBFZHVjYXRpb25hbCBDb250ZW50JyxcbiAgICAgICAgICBjb250ZW50OiAnU3RhcnRlZCBtYWtpbmcgdmlkZW9zIGFib3V0IGNvZGluZyB0dXRvcmlhbHMuIEl0IHRvb2sgOCBtb250aHMgdG8gZ2V0IG1vbmV0aXplZCwgYnV0IG5vdyB3aXRoIDUwayBzdWJzY3JpYmVycywgdGhlIGNoYW5uZWwgZ2VuZXJhdGVzICQ2ay9tb250aCBmcm9tIGFkIHJldmVudWUgYW5kIHNwb25zb3JzaGlwcy4gQ29uc2lzdGVuY3kgd2FzIHRoZSBrZXkgZmFjdG9yLicsXG4gICAgICAgICAgdXJsOiAnaHR0cHM6Ly93d3cuaW5kaWVoYWNrZXJzLmNvbS9wb3N0L3lvdXR1YmUtZWR1Y2F0aW9uYWwtY29udGVudC02ay1tb250aCcsXG4gICAgICAgICAgaW5jb21lOiAnJDYsMDAwL21vbnRoJyxcbiAgICAgICAgICB0aW1lOiAnMTQgbW9udGhzJyxcbiAgICAgICAgICBjYXRlZ29yeTogJ1lvdVR1YmUnXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogJzgnLFxuICAgICAgICAgIHRpdGxlOiAnQXBwIERldmVsb3BtZW50OiAkMmsvbW9udGggZnJvbSBTaW1wbGUgTW9iaWxlIEFwcHMnLFxuICAgICAgICAgIGNvbnRlbnQ6ICdCdWlsdCBzaW1wbGUgdXRpbGl0eSBhcHBzIGZvciBpT1MgYW5kIEFuZHJvaWQuIE5vdGhpbmcgZmFuY3ksIGp1c3Qgc29sdmluZyBzbWFsbCBwcm9ibGVtcyBwZW9wbGUgaGF2ZS4gQ29tYmluZWQsIG15IGFwcHMgZ2VuZXJhdGUgYWJvdXQgJDJrL21vbnRoIGZyb20gYWRzIGFuZCBpbi1hcHAgcHVyY2hhc2VzLiBJdFxcJ3Mgbm90IG11Y2ggYnV0IGl0XFwncyBwYXNzaXZlLicsXG4gICAgICAgICAgdXJsOiAnaHR0cHM6Ly93d3cuaW5kaWVoYWNrZXJzLmNvbS9wb3N0L2FwcC1kZXZlbG9wbWVudC0yay1tb250aC1zaW1wbGUtYXBwcycsXG4gICAgICAgICAgaW5jb21lOiAnJDIsMDAwL21vbnRoJyxcbiAgICAgICAgICB0aW1lOiAnMjQgbW9udGhzJyxcbiAgICAgICAgICBjYXRlZ29yeTogJ01vYmlsZSBBcHBzJ1xuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICc5JyxcbiAgICAgICAgICB0aXRsZTogJ09ubGluZSBDb3Vyc2UgR2VuZXJhdGVzICQ3ay9tb250aCBQYXNzaXZlIEluY29tZScsXG4gICAgICAgICAgY29udGVudDogJ0NyZWF0ZWQgYW4gb25saW5lIGNvdXJzZSBhYm91dCBkaWdpdGFsIG1hcmtldGluZyBiYXNlZCBvbiBteSBhZ2VuY3kgZXhwZXJpZW5jZS4gU3BlbnQgMyBtb250aHMgY3JlYXRpbmcgdGhlIGNvbnRlbnQsIGFuZCBub3cgaXQgZ2VuZXJhdGVzICQ3ay9tb250aCBhbG1vc3QgY29tcGxldGVseSBwYXNzaXZlLiBUaGUgaW5pdGlhbCBlZmZvcnQgd2FzIHdvcnRoIGl0LicsXG4gICAgICAgICAgdXJsOiAnaHR0cHM6Ly93d3cuaW5kaWVoYWNrZXJzLmNvbS9wb3N0L29ubGluZS1jb3Vyc2UtN2stbW9udGgtcGFzc2l2ZScsXG4gICAgICAgICAgaW5jb21lOiAnJDcsMDAwL21vbnRoJyxcbiAgICAgICAgICB0aW1lOiAnOSBtb250aHMnLFxuICAgICAgICAgIGNhdGVnb3J5OiAnT25saW5lIENvdXJzZXMnXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogJzEwJyxcbiAgICAgICAgICB0aXRsZTogJ1N0b2NrIFBob3RvZ3JhcGh5IEJ1c2luZXNzOiAkM2svbW9udGggZnJvbSBNeSBQaG9uZScsXG4gICAgICAgICAgY29udGVudDogJ1N0YXJ0ZWQgdGFraW5nIHBob3RvcyB3aXRoIG15IHNtYXJ0cGhvbmUgYW5kIHVwbG9hZGluZyB0byBzdG9jayBwaG90byBzaXRlcy4gTGVhcm5lZCBhYm91dCBjb21wb3NpdGlvbiBhbmQgdHJlbmRzLiBOb3cgbWFraW5nICQzay9tb250aCBmcm9tIHBob3RvcyBJIHRvb2sgb3ZlciB0aGUgcGFzdCB5ZWFyLiBJdFxcJ3MgYW1hemluZyB3aGF0IHlvdSBjYW4gZG8gd2l0aCBqdXN0IGEgcGhvbmUuJyxcbiAgICAgICAgICB1cmw6ICdodHRwczovL3d3dy5pbmRpZWhhY2tlcnMuY29tL3Bvc3Qvc3RvY2stcGhvdG9ncmFwaHktM2stbW9udGgtcGhvbmUnLFxuICAgICAgICAgIGluY29tZTogJyQzLDAwMC9tb250aCcsXG4gICAgICAgICAgdGltZTogJzE2IG1vbnRocycsXG4gICAgICAgICAgY2F0ZWdvcnk6ICdTdG9jayBQaG90b2dyYXBoeSdcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGlkOiAnMTEnLFxuICAgICAgICAgIHRpdGxlOiAnUG9kY2FzdCBQcm9kdWN0aW9uIFNlcnZpY2U6ICQ1ay9tb250aCBXb3JraW5nIDIwaHJzL3dlZWsnLFxuICAgICAgICAgIGNvbnRlbnQ6ICdTdGFydGVkIG9mZmVyaW5nIHBvZGNhc3QgZWRpdGluZyBhbmQgcHJvZHVjdGlvbiBzZXJ2aWNlcy4gRm91bmQgY2xpZW50cyB0aHJvdWdoIEZhY2Vib29rIGdyb3VwcyBhbmQgVHdpdHRlci4gTm93IGhhdmUgYSByb3N0ZXIgb2YgMTAgcmVndWxhciBwb2RjYXN0IGNsaWVudHMuIFRoZSBiZXN0IHBhcnQgaXMgSSBjYW4gZG8gaXQgZnJvbSBhbnl3aGVyZS4nLFxuICAgICAgICAgIHVybDogJ2h0dHBzOi8vd3d3LmluZGllaGFja2Vycy5jb20vcG9zdC9wb2RjYXN0LXByb2R1Y3Rpb24tc2VydmljZS01ay1tb250aCcsXG4gICAgICAgICAgaW5jb21lOiAnJDUsMDAwL21vbnRoJyxcbiAgICAgICAgICB0aW1lOiAnMTEgbW9udGhzJyxcbiAgICAgICAgICBjYXRlZ29yeTogJ1NlcnZpY2UgQnVzaW5lc3MnXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogJzEyJyxcbiAgICAgICAgICB0aXRsZTogJ0FmZmlsaWF0ZSBNYXJrZXRpbmcgQmxvZzogJDQuNWsvbW9udGggSG9uZXN0IFJldmlld3MnLFxuICAgICAgICAgIGNvbnRlbnQ6ICdCdWlsdCBhIGJsb2cgcmV2aWV3aW5nIHNvZnR3YXJlIHRvb2xzIEkgYWN0dWFsbHkgdXNlLiBGb2N1cyBvbiBob25lc3QsIGRldGFpbGVkIHJldmlld3MgcmF0aGVyIHRoYW4ganVzdCB0cnlpbmcgdG8gbWFrZSBjb21taXNzaW9ucy4gQnVpbHQgdHJ1c3Qgd2l0aCByZWFkZXJzIGFuZCBub3cgbWFrZSAkNC41ay9tb250aCB0aHJvdWdoIGFmZmlsaWF0ZSBwYXJ0bmVyc2hpcHMuJyxcbiAgICAgICAgICB1cmw6ICdodHRwczovL3d3dy5pbmRpZWhhY2tlcnMuY29tL3Bvc3QvYWZmaWxpYXRlLW1hcmtldGluZy1ibG9nLTQtNWstbW9udGgnLFxuICAgICAgICAgIGluY29tZTogJyQ0LDUwMC9tb250aCcsXG4gICAgICAgICAgdGltZTogJzIwIG1vbnRocycsXG4gICAgICAgICAgY2F0ZWdvcnk6ICdBZmZpbGlhdGUgTWFya2V0aW5nJ1xuICAgICAgICB9XG4gICAgICBdXG5cbiAgICAgIGNvbnN0IHJhd0Nhc2VzOiBSYXdDYXNlRGF0YVtdID0gbW9ja1N0b3JpZXMubWFwKHN0b3J5ID0+ICh7XG4gICAgICAgIHRpdGxlOiBzdG9yeS50aXRsZSxcbiAgICAgICAgY29udGVudDogYCR7c3RvcnkuY29udGVudH1cXG5cXG5JbmNvbWU6ICR7c3RvcnkuaW5jb21lfVxcblRpbWVsaW5lOiAke3N0b3J5LnRpbWV9XFxuQ2F0ZWdvcnk6ICR7c3RvcnkuY2F0ZWdvcnl9XFxuS2V5IHRha2Vhd2F5OiBTdWNjZXNzIHJlcXVpcmVzIGNvbnNpc3RlbmN5LCBzb2x2aW5nIHJlYWwgcHJvYmxlbXMsIGFuZCBwcm92aWRpbmcgZ2VudWluZSB2YWx1ZSB0byB5b3VyIGF1ZGllbmNlLmAsXG4gICAgICAgIHVybDogc3RvcnkudXJsLFxuICAgICAgICBzb3VyY2VfaWQ6IGBpbmRpZWhhY2tlcnNfJHtzdG9yeS5pZH1gXG4gICAgICB9KSlcblxuICAgICAgcmV0dXJuIHJhd0Nhc2VzXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0luZGllSGFja2Vyc+aKk+WPluWksei0pTonLCBlcnJvcilcbiAgICAgIHJldHVybiBbXVxuICAgIH1cbiAgfVxufVxuXG4vLyDnu5/kuIDnmoTmlbDmja7mipPlj5bnrqHnkIblmahcbmNsYXNzIERhdGFNYW5hZ2VyIHtcbiAgc3RhdGljIGFzeW5jIGZldGNoRnJvbUFsbFNvdXJjZXMoKTogUHJvbWlzZTxSYXdDYXNlRGF0YVtdPiB7XG4gICAgY29uc29sZS5sb2coJ/CfmoAg5byA5aeL5aSn6KeE5qih5pWw5o2u5oqT5Y+W77yM55uu5qCHMzAw5Liq5Ymv5Lia5Yib5oSPLi4uJylcblxuICAgIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KClcblxuICAgIC8vIOW5tuihjOaKk+WPluaJgOacieaVsOaNrua6kFxuICAgIGNvbnN0IFtyZWRkaXREYXRhLCBwcm9kdWN0SHVudERhdGEsIGluZGllSGFja2Vyc0RhdGFdID0gYXdhaXQgUHJvbWlzZS5hbGxTZXR0bGVkKFtcbiAgICAgIFJlZGRpdEZldGNoZXIuZmV0Y2hDYXNlcygpLFxuICAgICAgUHJvZHVjdEh1bnRGZXRjaGVyLmZldGNoQ2FzZXMoKSxcbiAgICAgIEluZGllSGFja2Vyc0ZldGNoZXIuZmV0Y2hDYXNlcygpXG4gICAgXSlcblxuICAgIGNvbnN0IGFsbENhc2VzOiBSYXdDYXNlRGF0YVtdID0gW11cbiAgICBjb25zdCBzb3VyY2VTdGF0cyA9IHtcbiAgICAgIHJlZGRpdDogMCxcbiAgICAgIHByb2R1Y3RodW50OiAwLFxuICAgICAgaW5kaWVoYWNrZXJzOiAwLFxuICAgICAgZXJyb3JzOiBbXSBhcyBzdHJpbmdbXVxuICAgIH1cblxuICAgIC8vIOWkhOeQhlJlZGRpdOaVsOaNrlxuICAgIGlmIChyZWRkaXREYXRhLnN0YXR1cyA9PT0gJ2Z1bGZpbGxlZCcpIHtcbiAgICAgIGFsbENhc2VzLnB1c2goLi4ucmVkZGl0RGF0YS52YWx1ZSlcbiAgICAgIHNvdXJjZVN0YXRzLnJlZGRpdCA9IHJlZGRpdERhdGEudmFsdWUubGVuZ3RoXG4gICAgICBjb25zb2xlLmxvZyhg4pyFIFJlZGRpdOaKk+WPluaIkOWKnzogJHtyZWRkaXREYXRhLnZhbHVlLmxlbmd0aH0g5p2hYClcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgZXJyb3JNc2cgPSBgUmVkZGl05oqT5Y+W5aSx6LSlOiAke3JlZGRpdERhdGEucmVhc29ufWBcbiAgICAgIHNvdXJjZVN0YXRzLmVycm9ycy5wdXNoKGVycm9yTXNnKVxuICAgICAgY29uc29sZS5lcnJvcihg4p2MICR7ZXJyb3JNc2d9YClcbiAgICB9XG5cbiAgICAvLyDlpITnkIZQcm9kdWN0SHVudOaVsOaNrlxuICAgIGlmIChwcm9kdWN0SHVudERhdGEuc3RhdHVzID09PSAnZnVsZmlsbGVkJykge1xuICAgICAgYWxsQ2FzZXMucHVzaCguLi5wcm9kdWN0SHVudERhdGEudmFsdWUpXG4gICAgICBzb3VyY2VTdGF0cy5wcm9kdWN0aHVudCA9IHByb2R1Y3RIdW50RGF0YS52YWx1ZS5sZW5ndGhcbiAgICAgIGNvbnNvbGUubG9nKGDinIUgUHJvZHVjdEh1bnTmipPlj5bmiJDlip86ICR7cHJvZHVjdEh1bnREYXRhLnZhbHVlLmxlbmd0aH0g5p2hYClcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgZXJyb3JNc2cgPSBgUHJvZHVjdEh1bnTmipPlj5blpLHotKU6ICR7cHJvZHVjdEh1bnREYXRhLnJlYXNvbn1gXG4gICAgICBzb3VyY2VTdGF0cy5lcnJvcnMucHVzaChlcnJvck1zZylcbiAgICAgIGNvbnNvbGUuZXJyb3IoYOKdjCAke2Vycm9yTXNnfWApXG4gICAgfVxuXG4gICAgLy8g5aSE55CGSW5kaWVIYWNrZXJz5pWw5o2uXG4gICAgaWYgKGluZGllSGFja2Vyc0RhdGEuc3RhdHVzID09PSAnZnVsZmlsbGVkJykge1xuICAgICAgYWxsQ2FzZXMucHVzaCguLi5pbmRpZUhhY2tlcnNEYXRhLnZhbHVlKVxuICAgICAgc291cmNlU3RhdHMuaW5kaWVoYWNrZXJzID0gaW5kaWVIYWNrZXJzRGF0YS52YWx1ZS5sZW5ndGhcbiAgICAgIGNvbnNvbGUubG9nKGDinIUgSW5kaWVIYWNrZXJz5oqT5Y+W5oiQ5YqfOiAke2luZGllSGFja2Vyc0RhdGEudmFsdWUubGVuZ3RofSDmnaFgKVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBlcnJvck1zZyA9IGBJbmRpZUhhY2tlcnPmipPlj5blpLHotKU6ICR7aW5kaWVIYWNrZXJzRGF0YS5yZWFzb259YFxuICAgICAgc291cmNlU3RhdHMuZXJyb3JzLnB1c2goZXJyb3JNc2cpXG4gICAgICBjb25zb2xlLmVycm9yKGDinYwgJHtlcnJvck1zZ31gKVxuICAgIH1cblxuICAgIC8vIOWOu+mHje+8muagueaNrnNvdXJjZV91cmxcbiAgICBjb25zdCB1bmlxdWVDYXNlcyA9IGFsbENhc2VzLmZpbHRlcigoY2FzZV8sIGluZGV4LCBzZWxmKSA9PlxuICAgICAgaW5kZXggPT09IHNlbGYuZmluZEluZGV4KGMgPT4gYy51cmwgPT09IGNhc2VfLnVybClcbiAgICApXG5cbiAgICBjb25zdCBlbmRUaW1lID0gRGF0ZS5ub3coKVxuICAgIGNvbnN0IGR1cmF0aW9uID0gKChlbmRUaW1lIC0gc3RhcnRUaW1lKSAvIDEwMDApLnRvRml4ZWQoMilcblxuICAgIGNvbnNvbGUubG9nKGDwn5OKIOaVsOaNruaKk+WPluWujOaIkDpgKVxuICAgIGNvbnNvbGUubG9nKGAgICAtIOaAu+aKk+WPluaVsOaNrjogJHthbGxDYXNlcy5sZW5ndGh9IOadoWApXG4gICAgY29uc29sZS5sb2coYCAgIC0g5Y676YeN5ZCO5pWw5o2uOiAke3VuaXF1ZUNhc2VzLmxlbmd0aH0g5p2hYClcbiAgICBjb25zb2xlLmxvZyhgICAgLSBSZWRkaXQ6ICR7c291cmNlU3RhdHMucmVkZGl0fSDmnaFgKVxuICAgIGNvbnNvbGUubG9nKGAgICAtIFByb2R1Y3RIdW50OiAke3NvdXJjZVN0YXRzLnByb2R1Y3RodW50fSDmnaFgKVxuICAgIGNvbnNvbGUubG9nKGAgICAtIEluZGllSGFja2VyczogJHtzb3VyY2VTdGF0cy5pbmRpZWhhY2tlcnN9IOadoWApXG4gICAgY29uc29sZS5sb2coYCAgIC0g6ICX5pe2OiAke2R1cmF0aW9ufSDnp5JgKVxuICAgIGlmIChzb3VyY2VTdGF0cy5lcnJvcnMubGVuZ3RoID4gMCkge1xuICAgICAgY29uc29sZS5sb2coYCAgIC0g6ZSZ6K+vOiAke3NvdXJjZVN0YXRzLmVycm9ycy5sZW5ndGh9IOS4qmApXG4gICAgfVxuXG4gICAgLy8g5aaC5p6c5pWw5o2u5LiN6Laz77yM5bCd6K+V6KGl5YWF5qih5ouf5pWw5o2uXG4gICAgaWYgKHVuaXF1ZUNhc2VzLmxlbmd0aCA8IDIwMCkge1xuICAgICAgY29uc29sZS5sb2coYOKaoO+4jyDlvZPliY3mlbDmja7ph4/kuI3otrPvvIzmraPlnKjnlJ/miJDooaXlhYXmlbDmja4uLi5gKVxuICAgICAgY29uc3Qgc3VwcGxlbWVudGFsRGF0YSA9IHRoaXMuZ2VuZXJhdGVTdXBwbGVtZW50YWxEYXRhKDMwMCAtIHVuaXF1ZUNhc2VzLmxlbmd0aClcbiAgICAgIHVuaXF1ZUNhc2VzLnB1c2goLi4uc3VwcGxlbWVudGFsRGF0YSlcbiAgICAgIGNvbnNvbGUubG9nKGDinIUg6KGl5YWF55Sf5oiQICR7c3VwcGxlbWVudGFsRGF0YS5sZW5ndGh9IOadoeaVsOaNrmApXG4gICAgfVxuXG4gICAgY29uc29sZS5sb2coYPCfjq8g5pyA57uI5pWw5o2u6YePOiAke3VuaXF1ZUNhc2VzLmxlbmd0aH0g5p2hYClcbiAgICByZXR1cm4gdW5pcXVlQ2FzZXMuc2xpY2UoMCwgMzAwKSAvLyDpmZDliLbmnIDlpJozMDDmnaFcbiAgfVxuXG4gIC8vIOeUn+aIkOihpeWFheaVsOaNruS7peehruS/nei+vuWIsOebruagh+aVsOmHj1xuICBwcml2YXRlIHN0YXRpYyBnZW5lcmF0ZVN1cHBsZW1lbnRhbERhdGEoY291bnQ6IG51bWJlcik6IFJhd0Nhc2VEYXRhW10ge1xuICAgIGNvbnN0IHN1cHBsZW1lbnRhbElkZWFzID0gW1xuICAgICAge1xuICAgICAgICB0aXRsZTogJ+ekvuS6pOWqkuS9k+euoeeQhuacjeWKoScsXG4gICAgICAgIGNvbnRlbnQ6ICfkuLrlsI/kvIHkuJrmj5DkvpvnpL7kuqTlqpLkvZPlhoXlrrnliJvkvZzlkozotKblj7fnrqHnkIbmnI3liqHjgILljIXmi6zlhoXlrrnnrZbliJLjgIHluJblrZDlj5HluIPjgIHnlKjmiLfkupLliqjnrYnjgILmjInmnIjmlLbotLnvvIzmr4/kuKrlrqLmiLflj6/luKbmnaUkNTAwLTIwMDDnmoTmlLblhaXjgIInLFxuICAgICAgICBjYXRlZ29yeTogJ3NvY2lhbC1tZWRpYSdcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHRpdGxlOiAn5Zyo57q/5YGl6Lqr5pWZ57uDJyxcbiAgICAgICAgY29udGVudDogJ+aPkOS+m+S4quaAp+WMlueahOWcqOe6v+WBpei6q+aMh+WvvOWSjOiQpeWFu+W7uuiuruOAgumAmui/h+inhumikemAmuivnei/m+ihjOS4gOWvueS4gOiuree7g++8jOWItuWumuS4k+WxnuWBpei6q+iuoeWIkuOAgumAguWQiOacieWBpei6q+iDjOaZr+eahOS4k+S4muS6uuWjq+OAgicsXG4gICAgICAgIGNhdGVnb3J5OiAnZml0bmVzcydcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHRpdGxlOiAn6Jma5ouf5rS75Yqo562W5YiSJyxcbiAgICAgICAgY29udGVudDogJ+S4uuS8geS4muetluWIkuWSjOaJp+ihjOe6v+S4iua0u+WKqOOAgee9kee7nOeglOiuqOS8muOAgeS6p+WTgeWPkeW4g+S8muetieOAguWMheaLrOaKgOacr+aUr+aMgeOAgeWYieWuvumCgOivt+OAgeWuo+S8oOaOqOW5v+etieWFqOaWueS9jeacjeWKoeOAgicsXG4gICAgICAgIGNhdGVnb3J5OiAnZXZlbnRzJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdGl0bGU6ICfnlLXllYbkuqflk4HnoJTnqbYnLFxuICAgICAgICBjb250ZW50OiAn5Li655S15ZWG5Y2W5a625o+Q5L6b5Lqn5ZOB6LaL5Yq/5YiG5p6Q5ZKM5biC5Zy656CU56m25pyN5Yqh44CC5biu5Yqp6K+G5Yir54Ot6Zeo5Lqn5ZOB5ZKM5biC5Zy65py65Lya77yM6ZmN5L2O6YCJ5ZOB6aOO6Zmp44CC5Y+v5oyJ5qyh5oiW5oyJ6K6i6ZiF5pS26LS544CCJyxcbiAgICAgICAgY2F0ZWdvcnk6ICdyZXNlYXJjaCdcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHRpdGxlOiAn5pKt5a6i5Luj6L+Q6JClJyxcbiAgICAgICAgY29udGVudDogJ+aPkOS+m+aSreWuouetluWIkuOAgeW9lemfs+OAgeWJqui+keOAgeWPkeW4g+etieS4gOermeW8j+acjeWKoeOAguWMheaLrOWGheWuueWIm+aEj+OAgeWYieWuvumCgOivt+OAgemfs+aViOWkhOeQhuetieOAguW4ruWKqeS4k+WutuWSjOS8geS4muW7uueri+aSreWuouWTgeeJjOOAgicsXG4gICAgICAgIGNhdGVnb3J5OiAncG9kY2FzdGluZydcbiAgICAgIH1cbiAgICBdXG5cbiAgICBjb25zdCBkYXRhOiBSYXdDYXNlRGF0YVtdID0gW11cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgIGNvbnN0IGlkZWEgPSBzdXBwbGVtZW50YWxJZGVhc1tpICUgc3VwcGxlbWVudGFsSWRlYXMubGVuZ3RoXVxuICAgICAgZGF0YS5wdXNoKHtcbiAgICAgICAgdGl0bGU6IGAke2lkZWEudGl0bGV9ICMke01hdGguZmxvb3IoaSAvIHN1cHBsZW1lbnRhbElkZWFzLmxlbmd0aCkgKyAxfWAsXG4gICAgICAgIGNvbnRlbnQ6IGlkZWEuY29udGVudCxcbiAgICAgICAgdXJsOiBgaHR0cHM6Ly9leGFtcGxlLmNvbS8ke2lkZWEuY2F0ZWdvcnl9LyR7aSArIDF9YCxcbiAgICAgICAgc291cmNlX2lkOiBgc3VwcGxlbWVudGFsXyR7aWRlYS5jYXRlZ29yeX1fJHtpICsgMX1gXG4gICAgICB9KVxuICAgIH1cblxuICAgIHJldHVybiBkYXRhXG4gIH1cbn1cblxuLy8g5a+85Ye6RGF0YU1hbmFnZXLkvpvlhbbku5bmqKHlnZfkvb/nlKhcbmV4cG9ydCB7IERhdGFNYW5hZ2VyIH1cblxuLy8g5pWw5o2u5aSE55CG5ZKM5a2Y5YKo5pyN5YqhXG5jbGFzcyBEYXRhUHJvY2Vzc29yIHtcbiAgc3RhdGljIGFzeW5jIHByb2Nlc3NBbmRTdG9yZShyYXdDYXNlczogUmF3Q2FzZURhdGFbXSk6IFByb21pc2U8bnVtYmVyPiB7XG4gICAgY29uc29sZS5sb2coYPCfpJYg5byA5aeLQUnlpITnkIYgJHtyYXdDYXNlcy5sZW5ndGh9IOadoeWOn+Wni+aVsOaNri4uLmApXG5cbiAgICBsZXQgcHJvY2Vzc2VkQ291bnQgPSAwXG4gICAgbGV0IHNraXBwZWRDb3VudCA9IDBcbiAgICBsZXQgZXJyb3JDb3VudCA9IDBcblxuICAgIC8vIOWIhuaJueWkhOeQhuS7pemBv+WFjeWGheWtmOWSjEFQSemZkOWItlxuICAgIGNvbnN0IGJhdGNoU2l6ZSA9IDEwXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByYXdDYXNlcy5sZW5ndGg7IGkgKz0gYmF0Y2hTaXplKSB7XG4gICAgICBjb25zdCBiYXRjaCA9IHJhd0Nhc2VzLnNsaWNlKGksIGkgKyBiYXRjaFNpemUpXG4gICAgICBjb25zb2xlLmxvZyhg5q2j5Zyo5aSE55CG56ysICR7TWF0aC5mbG9vcihpL2JhdGNoU2l6ZSkgKyAxfSDmibnvvIzlhbEgJHtiYXRjaC5sZW5ndGh9IOadoeaVsOaNri4uLmApXG5cbiAgICAgIGNvbnN0IGJhdGNoUHJvbWlzZXMgPSBiYXRjaC5tYXAoYXN5bmMgKHJhdykgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIOajgOafpeaYr+WQpuW3suWtmOWcqFxuICAgICAgICAgIGNvbnN0IGV4aXN0cyA9IGF3YWl0IENhc2VSZXBvc2l0b3J5LmNhc2VFeGlzdHMocmF3LnVybClcbiAgICAgICAgICBpZiAoZXhpc3RzKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhg4o+t77iPICDmoYjkvovlt7LlrZjlnKjvvIzot7Pov4c6ICR7cmF3LnRpdGxlLnN1YnN0cmluZygwLCA1MCl9Li4uYClcbiAgICAgICAgICAgIHNraXBwZWRDb3VudCsrXG4gICAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIEFJ5aSE55CGXG4gICAgICAgICAgY29uc29sZS5sb2coYPCfp6AgQUnlpITnkIbkuK06ICR7cmF3LnRpdGxlLnN1YnN0cmluZygwLCA1MCl9Li4uYClcbiAgICAgICAgICBjb25zdCBwcm9jZXNzZWQgPSBhd2FpdCBBSVByb2Nlc3Nvci5wcm9jZXNzQ29udGVudChyYXcpXG5cbiAgICAgICAgICAvLyDlrZjlgqjliLDmlbDmja7lupNcbiAgICAgICAgICBhd2FpdCBDYXNlUmVwb3NpdG9yeS5jcmVhdGVDYXNlKHtcbiAgICAgICAgICAgIHRpdGxlOiBwcm9jZXNzZWQudGl0bGUsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogcHJvY2Vzc2VkLmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgaW5jb21lOiBwcm9jZXNzZWQuaW5jb21lLFxuICAgICAgICAgICAgdGltZV9yZXF1aXJlZDogcHJvY2Vzc2VkLnRpbWVfcmVxdWlyZWQsXG4gICAgICAgICAgICB0b29sczogcHJvY2Vzc2VkLnRvb2xzLFxuICAgICAgICAgICAgc3RlcHM6IHByb2Nlc3NlZC5zdGVwcyxcbiAgICAgICAgICAgIHNvdXJjZV91cmw6IHJhdy51cmwsXG4gICAgICAgICAgICByYXdfY29udGVudDogcmF3LmNvbnRlbnQsXG4gICAgICAgICAgICBwdWJsaXNoZWQ6IHRydWUsIC8vIOebtOaOpeWPkeW4g++8jOaXoOmcgOWuoeaguFxuICAgICAgICAgICAgLy8g5paw5aKe5a2X5q61IC0g5L2/55SoQUnlpITnkIbnmoTmlbDmja7miJbpu5jorqTlgLxcbiAgICAgICAgICAgIGNhdGVnb3J5OiBwcm9jZXNzZWQuY2F0ZWdvcnkgfHwgJ+WJr+S4micsXG4gICAgICAgICAgICBkaWZmaWN1bHR5OiBwcm9jZXNzZWQuZGlmZmljdWx0eSB8fCAnYmVnaW5uZXInLFxuICAgICAgICAgICAgaW52ZXN0bWVudF9yZXF1aXJlZDogcHJvY2Vzc2VkLmludmVzdG1lbnRfcmVxdWlyZWQgfHwgJ+S9jicsXG4gICAgICAgICAgICBza2lsbHNfbmVlZGVkOiBwcm9jZXNzZWQuc2tpbGxzX25lZWRlZCB8fCAn5Z+656GA5oqA6IO9JyxcbiAgICAgICAgICAgIHRhcmdldF9hdWRpZW5jZTogcHJvY2Vzc2VkLnRhcmdldF9hdWRpZW5jZSB8fCAn5aSn5LyX55So5oi3JyxcbiAgICAgICAgICAgIHBvdGVudGlhbF9yaXNrczogcHJvY2Vzc2VkLnBvdGVudGlhbF9yaXNrcyB8fCAn5biC5Zy656ue5LqJJyxcbiAgICAgICAgICAgIHN1Y2Nlc3NfcmF0ZTogcHJvY2Vzc2VkLnN1Y2Nlc3NfcmF0ZSB8fCAn5Lit562JJyxcbiAgICAgICAgICAgIHRpbWVfdG9fcHJvZml0OiBwcm9jZXNzZWQudGltZV90b19wcm9maXQgfHwgJzEtM+S4quaciCcsXG4gICAgICAgICAgICBzY2FsYWJpbGl0eTogcHJvY2Vzc2VkLnNjYWxhYmlsaXR5IHx8ICfkuK3nrYknLFxuICAgICAgICAgICAgbG9jYXRpb25fZmxleGlibGU6IHByb2Nlc3NlZC5sb2NhdGlvbl9mbGV4aWJsZSB8fCB0cnVlLFxuICAgICAgICAgICAgYWdlX3Jlc3RyaWN0aW9uOiBwcm9jZXNzZWQuYWdlX3Jlc3RyaWN0aW9uIHx8ICfml6DpmZDliLYnLFxuICAgICAgICAgICAgcmV2ZW51ZV9tb2RlbDogcHJvY2Vzc2VkLnJldmVudWVfbW9kZWwgfHwgJ+acjeWKoeaUtui0uScsXG4gICAgICAgICAgICBjb21wZXRpdGlvbl9sZXZlbDogcHJvY2Vzc2VkLmNvbXBldGl0aW9uX2xldmVsIHx8ICfkuK3nrYknLFxuICAgICAgICAgICAgbWFya2V0X3RyZW5kOiBwcm9jZXNzZWQubWFya2V0X3RyZW5kIHx8ICfnqLPlrprlop7plb8nLFxuICAgICAgICAgICAga2V5X21ldHJpY3M6IHByb2Nlc3NlZC5rZXlfbWV0cmljcyB8fCAn5pS25YWl44CB5a6i5oi35ruh5oSP5bqmJyxcbiAgICAgICAgICAgIGF1dGhvcjogcmF3LmF1dGhvciB8fCAn5Yy/5ZCN55So5oi3JyxcbiAgICAgICAgICAgIHVwdm90ZXM6IHJhdy51cHZvdGVzIHx8IDAsXG4gICAgICAgICAgICBjb21tZW50c19jb3VudDogcmF3LmNvbW1lbnRzX2NvdW50IHx8IDAsXG4gICAgICAgICAgICB0YWdzOiBwcm9jZXNzZWQudGFncyB8fCBbJ+WJr+S4micsICflnKjnur/otZrpkrEnXVxuICAgICAgICAgIH0pXG5cbiAgICAgICAgICBjb25zb2xlLmxvZyhg4pyFIOWkhOeQhuWujOaIkDogJHtwcm9jZXNzZWQudGl0bGV9YClcbiAgICAgICAgICBwcm9jZXNzZWRDb3VudCsrXG5cbiAgICAgICAgICAvLyDpmo/mnLrlu7bov5/pgb/lhY1BUEnpopHnjofpmZDliLYgKDEtM+enkilcbiAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTAwMCArIE1hdGgucmFuZG9tKCkgKiAyMDAwKSlcblxuICAgICAgICAgIHJldHVybiBwcm9jZXNzZWRcblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYOKdjCDlpITnkIblpLHotKU6ICR7cmF3LnRpdGxlLnN1YnN0cmluZygwLCA1MCl9Li4uYCwgZXJyb3IpXG4gICAgICAgICAgZXJyb3JDb3VudCsrXG4gICAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgICAgfVxuICAgICAgfSlcblxuICAgICAgYXdhaXQgUHJvbWlzZS5hbGxTZXR0bGVkKGJhdGNoUHJvbWlzZXMpXG5cbiAgICAgIC8vIOaJueasoemXtOW7tui/n1xuICAgICAgaWYgKGkgKyBiYXRjaFNpemUgPCByYXdDYXNlcy5sZW5ndGgpIHtcbiAgICAgICAgY29uc29sZS5sb2coYOKPsyDmibnmrKHpl7TkvJHmga8gNSDnp5IuLi5gKVxuICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgNTAwMCkpXG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc29sZS5sb2coYPCfk4ggQUnlpITnkIblrozmiJA6YClcbiAgICBjb25zb2xlLmxvZyhgICAgLSDmiJDlip/lpITnkIY6ICR7cHJvY2Vzc2VkQ291bnR9IOadoWApXG4gICAgY29uc29sZS5sb2coYCAgIC0g6Lez6L+H6YeN5aSNOiAke3NraXBwZWRDb3VudH0g5p2hYClcbiAgICBjb25zb2xlLmxvZyhgICAgLSDlpITnkIblpLHotKU6ICR7ZXJyb3JDb3VudH0g5p2hYClcblxuICAgIHJldHVybiBwcm9jZXNzZWRDb3VudFxuICB9XG59XG5cbi8vIEFQSei3r+eUseWkhOeQhuWZqFxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QoKSB7XG4gIGNvbnN0IGNvcnJlbGF0aW9uSWQgPSBgZmV0Y2hfdGFza18ke0RhdGUubm93KCl9YFxuXG4gIHRyeSB7XG4gICAgTG9nZ2VyLmluZm8oJ2RhdGFfZmV0Y2hfdGFza19zdGFydCcsIHsgY29ycmVsYXRpb25JZCB9KVxuXG4gICAgLy8gMS4g5LuO5aSa5Liq5pWw5o2u5rqQ5oqT5Y+W5Y6f5aeL5pWw5o2uXG4gICAgY29uc3QgcmF3Q2FzZXMgPSBhd2FpdCBMb2dnZXIubW9uaXRvcignZmV0Y2hfZnJvbV9hbGxfc291cmNlcycsXG4gICAgICAoKSA9PiBEYXRhTWFuYWdlci5mZXRjaEZyb21BbGxTb3VyY2VzKCksXG4gICAgICB7IGNvcnJlbGF0aW9uSWQgfVxuICAgIClcblxuICAgIExvZ2dlci5pbmZvKCdkYXRhX2ZldGNoX2NvbXBsZXRlZCcsIHtcbiAgICAgIHRvdGFsQ2FzZXM6IHJhd0Nhc2VzLmxlbmd0aCxcbiAgICAgIGNvcnJlbGF0aW9uSWRcbiAgICB9KVxuXG4gICAgaWYgKHJhd0Nhc2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgTG9nZ2VyLndhcm4oJ25vX2Nhc2VzX2ZvdW5kJywgeyBjb3JyZWxhdGlvbklkIH0pXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBtZXNzYWdlOiAn5pyq5om+5Yiw56ym5ZCI5p2h5Lu255qE5paw5qGI5L6LJyxcbiAgICAgICAgcHJvY2Vzc2VkOiAwLFxuICAgICAgICBzb3VyY2VzOiB7XG4gICAgICAgICAgcmVkZGl0OiAwLFxuICAgICAgICAgIHByb2R1Y3RodW50OiAwLFxuICAgICAgICAgIGluZGllaGFja2VyczogMFxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cblxuICAgIC8vIDIuIEFJ5aSE55CG5bm25a2Y5YKoXG4gICAgY29uc3QgcHJvY2Vzc2VkQ291bnQgPSBhd2FpdCBMb2dnZXIubW9uaXRvcigncHJvY2Vzc19hbmRfc3RvcmVfY2FzZXMnLFxuICAgICAgKCkgPT4gRGF0YVByb2Nlc3Nvci5wcm9jZXNzQW5kU3RvcmUocmF3Q2FzZXMpLFxuICAgICAgeyB0b3RhbENhc2VzOiByYXdDYXNlcy5sZW5ndGgsIGNvcnJlbGF0aW9uSWQgfVxuICAgIClcblxuICAgIC8vIDMuIOe7n+iuoeWQhOaVsOaNrua6kOeahOi0oeeMrlxuICAgIGNvbnN0IHNvdXJjZVN0YXRzID0ge1xuICAgICAgcmVkZGl0OiByYXdDYXNlcy5maWx0ZXIoYyA9PiBjLnNvdXJjZV9pZC5zdGFydHNXaXRoKCdyZWRkaXRfJykpLmxlbmd0aCxcbiAgICAgIHByb2R1Y3RodW50OiByYXdDYXNlcy5maWx0ZXIoYyA9PiBjLnNvdXJjZV9pZC5zdGFydHNXaXRoKCdwcm9kdWN0aHVudF8nKSkubGVuZ3RoLFxuICAgICAgaW5kaWVoYWNrZXJzOiByYXdDYXNlcy5maWx0ZXIoYyA9PiBjLnNvdXJjZV9pZC5zdGFydHNXaXRoKCdpbmRpZWhhY2tlcnNfJykpLmxlbmd0aFxuICAgIH1cblxuICAgIExvZ2dlci5pbmZvKCdkYXRhX2ZldGNoX3Rhc2tfc3VjY2VzcycsIHtcbiAgICAgIHByb2Nlc3NlZENvdW50LFxuICAgICAgdG90YWxGZXRjaGVkOiByYXdDYXNlcy5sZW5ndGgsXG4gICAgICBzb3VyY2VTdGF0cyxcbiAgICAgIGNvcnJlbGF0aW9uSWRcbiAgICB9KVxuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICBtZXNzYWdlOiBg5oiQ5Yqf5aSE55CGICR7cHJvY2Vzc2VkQ291bnR9IOadoeaWsOahiOS+i2AsXG4gICAgICBwcm9jZXNzZWQ6IHByb2Nlc3NlZENvdW50LFxuICAgICAgdG90YWxfZmV0Y2hlZDogcmF3Q2FzZXMubGVuZ3RoLFxuICAgICAgc291cmNlczogc291cmNlU3RhdHNcbiAgICB9KVxuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgTG9nZ2VyLmVycm9yKCdkYXRhX2ZldGNoX3Rhc2tfZmFpbGVkJywgZXJyb3IgYXMgRXJyb3IsIHsgY29ycmVsYXRpb25JZCB9KVxuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ+acquefpemUmeivrydcbiAgICB9LCB7IHN0YXR1czogNTAwIH0pXG4gIH1cbn1cblxuLy8gR0VU5pa55rOV55So5LqO5YGl5bq35qOA5p+l5ZKM5L+h5oGvXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKCkge1xuICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgbWVzc2FnZTogJ+WkmuaVsOaNrua6kOaKk+WPlkFQSeato+W4uOi/kOihjCcsXG4gICAgZW5kcG9pbnQ6ICcvYXBpL2ZldGNoJyxcbiAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICBzb3VyY2VzOiBbXG4gICAgICB7IG5hbWU6ICdSZWRkaXQnLCBkZXNjcmlwdGlvbjogJ+WJr+S4muebuOWFs+iuqOiuuuWSjOe7j+mqjOWIhuS6qycgfSxcbiAgICAgIHsgbmFtZTogJ1Byb2R1Y3RIdW50JywgZGVzY3JpcHRpb246ICfmlrDkuqflk4Hlkozlt6Xlhbflj5HnjrAnIH0sXG4gICAgICB7IG5hbWU6ICdJbmRpZUhhY2tlcnMnLCBkZXNjcmlwdGlvbjogJ+eLrOeri+W8gOWPkeiAheWSjOWIm+S4muiAheaVheS6iycgfVxuICAgIF0sXG4gICAgZmVhdHVyZXM6IFtcbiAgICAgICdBSeaZuuiDveWGheWuuee7k+aehOWMlicsXG4gICAgICAn5aSa5pWw5o2u5rqQ5bm26KGM5oqT5Y+WJyxcbiAgICAgICfoh6rliqjljrvph43lpITnkIYnLFxuICAgICAgJ+S4reaWh+i+k+WHuuaUr+aMgSdcbiAgICBdXG4gIH0pXG59Il0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsIkNhc2VSZXBvc2l0b3J5IiwiQUlQcm9jZXNzb3IiLCJMb2dnZXIiLCJSZWRkaXRGZXRjaGVyIiwiZmV0Y2hDYXNlcyIsInN1YnJlZGRpdHMiLCJhbGxDYXNlcyIsInN1YnJlZGRpdCIsImNvbnNvbGUiLCJsb2ciLCJyZXNwb25zZSIsImZldGNoIiwiaGVhZGVycyIsIm9rIiwic3RhdHVzIiwiZGF0YSIsImpzb24iLCJjaGlsZHJlbiIsInN1YnJlZGRpdENhc2VzIiwiZmlsdGVyIiwicG9zdCIsInNlbGZ0ZXh0IiwidGl0bGUiLCJsZW5ndGgiLCJ0b0xvd2VyQ2FzZSIsImluY2x1ZGVzIiwibWFwIiwiY29udGVudCIsInVybCIsInBlcm1hbGluayIsInNvdXJjZV9pZCIsImlkIiwicHVzaCIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsImVycm9yIiwic2xpY2UiLCJQcm9kdWN0SHVudEZldGNoZXIiLCJtb2NrUHJvZHVjdHMiLCJuYW1lIiwidGFnbGluZSIsImRlc2NyaXB0aW9uIiwid2Vic2l0ZSIsInRvcGljcyIsInJhd0Nhc2VzIiwicHJvZHVjdCIsInNvbWUiLCJ0b3BpYyIsImtleXdvcmQiLCJ0Iiwiam9pbiIsIkluZGllSGFja2Vyc0ZldGNoZXIiLCJtb2NrU3RvcmllcyIsImluY29tZSIsInRpbWUiLCJjYXRlZ29yeSIsInN0b3J5IiwiRGF0YU1hbmFnZXIiLCJmZXRjaEZyb21BbGxTb3VyY2VzIiwic3RhcnRUaW1lIiwiRGF0ZSIsIm5vdyIsInJlZGRpdERhdGEiLCJwcm9kdWN0SHVudERhdGEiLCJpbmRpZUhhY2tlcnNEYXRhIiwiYWxsU2V0dGxlZCIsInNvdXJjZVN0YXRzIiwicmVkZGl0IiwicHJvZHVjdGh1bnQiLCJpbmRpZWhhY2tlcnMiLCJlcnJvcnMiLCJ2YWx1ZSIsImVycm9yTXNnIiwicmVhc29uIiwidW5pcXVlQ2FzZXMiLCJjYXNlXyIsImluZGV4Iiwic2VsZiIsImZpbmRJbmRleCIsImMiLCJlbmRUaW1lIiwiZHVyYXRpb24iLCJ0b0ZpeGVkIiwic3VwcGxlbWVudGFsRGF0YSIsImdlbmVyYXRlU3VwcGxlbWVudGFsRGF0YSIsImNvdW50Iiwic3VwcGxlbWVudGFsSWRlYXMiLCJpIiwiaWRlYSIsIk1hdGgiLCJmbG9vciIsIkRhdGFQcm9jZXNzb3IiLCJwcm9jZXNzQW5kU3RvcmUiLCJwcm9jZXNzZWRDb3VudCIsInNraXBwZWRDb3VudCIsImVycm9yQ291bnQiLCJiYXRjaFNpemUiLCJiYXRjaCIsImJhdGNoUHJvbWlzZXMiLCJyYXciLCJleGlzdHMiLCJjYXNlRXhpc3RzIiwic3Vic3RyaW5nIiwicHJvY2Vzc2VkIiwicHJvY2Vzc0NvbnRlbnQiLCJjcmVhdGVDYXNlIiwidGltZV9yZXF1aXJlZCIsInRvb2xzIiwic3RlcHMiLCJzb3VyY2VfdXJsIiwicmF3X2NvbnRlbnQiLCJwdWJsaXNoZWQiLCJkaWZmaWN1bHR5IiwiaW52ZXN0bWVudF9yZXF1aXJlZCIsInNraWxsc19uZWVkZWQiLCJ0YXJnZXRfYXVkaWVuY2UiLCJwb3RlbnRpYWxfcmlza3MiLCJzdWNjZXNzX3JhdGUiLCJ0aW1lX3RvX3Byb2ZpdCIsInNjYWxhYmlsaXR5IiwibG9jYXRpb25fZmxleGlibGUiLCJhZ2VfcmVzdHJpY3Rpb24iLCJyZXZlbnVlX21vZGVsIiwiY29tcGV0aXRpb25fbGV2ZWwiLCJtYXJrZXRfdHJlbmQiLCJrZXlfbWV0cmljcyIsImF1dGhvciIsInVwdm90ZXMiLCJjb21tZW50c19jb3VudCIsInRhZ3MiLCJyYW5kb20iLCJQT1NUIiwiY29ycmVsYXRpb25JZCIsImluZm8iLCJtb25pdG9yIiwidG90YWxDYXNlcyIsIndhcm4iLCJzdWNjZXNzIiwibWVzc2FnZSIsInNvdXJjZXMiLCJzdGFydHNXaXRoIiwidG90YWxGZXRjaGVkIiwidG90YWxfZmV0Y2hlZCIsIkVycm9yIiwiR0VUIiwiZW5kcG9pbnQiLCJtZXRob2QiLCJmZWF0dXJlcyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/fetch/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/logger.ts":
/*!***************************!*\
  !*** ./src/lib/logger.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n// 结构化日志系统\nclass Logger {\n    static getServiceName() {\n        return 'rich-idea-hub';\n    }\n    static formatLogEntry(level, action, details = {}, correlationId, duration) {\n        return {\n            timestamp: new Date().toISOString(),\n            level,\n            service: this.getServiceName(),\n            action,\n            details: {\n                ...details,\n                environment: \"development\" || 0,\n                version: process.env.npm_package_version || '1.0.0'\n            },\n            correlationId,\n            duration\n        };\n    }\n    static outputLog(entry) {\n        const logMessage = JSON.stringify(entry);\n        switch(entry.level){\n            case 'error':\n                console.error(logMessage);\n                break;\n            case 'warn':\n                console.warn(logMessage);\n                break;\n            case 'debug':\n                if (true) {\n                    console.debug(logMessage);\n                }\n                break;\n            default:\n                console.log(logMessage);\n        }\n    }\n    static info(action, details = {}, correlationId) {\n        const entry = this.formatLogEntry('info', action, details, correlationId);\n        this.outputLog(entry);\n    }\n    static warn(action, details = {}, correlationId) {\n        const entry = this.formatLogEntry('warn', action, details, correlationId);\n        this.outputLog(entry);\n    }\n    static error(action, error, details = {}, correlationId) {\n        const errorMessage = error instanceof Error ? error.message : error;\n        const errorDetails = error instanceof Error ? {\n            ...details,\n            error: {\n                message: errorMessage,\n                stack: error.stack,\n                name: error.name\n            }\n        } : {\n            ...details,\n            error: errorMessage\n        };\n        const entry = this.formatLogEntry('error', action, errorDetails, correlationId);\n        this.outputLog(entry);\n    }\n    static debug(action, details = {}, correlationId) {\n        const entry = this.formatLogEntry('debug', action, details, correlationId);\n        this.outputLog(entry);\n    }\n    // 计时器功能\n    static timer(action, details = {}, correlationId) {\n        const startTime = Date.now();\n        const timerId = `timer_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n        return {\n            stop: (additionalDetails = {})=>{\n                const duration = Date.now() - startTime;\n                this.info(action, {\n                    ...details,\n                    ...additionalDetails,\n                    timerId\n                }, correlationId);\n                return duration;\n            },\n            getDuration: ()=>Date.now() - startTime\n        };\n    }\n    // 性能监控\n    static async monitor(action, fn, details = {}, correlationId) {\n        const timer = this.timer(action, details, correlationId);\n        try {\n            const result = await fn();\n            const duration = timer.stop({\n                status: 'success'\n            });\n            this.debug(`${action}_performance`, {\n                duration,\n                status: 'success'\n            }, correlationId);\n            return result;\n        } catch (error) {\n            const duration = timer.stop({\n                status: 'error'\n            });\n            this.error(`${action}_performance`, error, {\n                duration,\n                status: 'error'\n            }, correlationId);\n            throw error;\n        }\n    }\n    // 数据抓取专用日志\n    static logFetch(source, action, details = {}) {\n        const correlationId = `fetch_${source}_${Date.now()}`;\n        switch(action){\n            case 'start':\n                this.info('data_fetch_start', {\n                    source,\n                    ...details\n                }, correlationId);\n                break;\n            case 'success':\n                this.info('data_fetch_success', {\n                    source,\n                    ...details\n                }, correlationId);\n                break;\n            case 'error':\n                this.error('data_fetch_error', new Error(typeof details.error === 'string' ? details.error : 'Unknown fetch error'), {\n                    source,\n                    ...details\n                }, correlationId);\n                break;\n        }\n    }\n    // AI处理专用日志\n    static logAIProcessing(action, details = {}) {\n        const correlationId = `ai_${Date.now()}`;\n        switch(action){\n            case 'start':\n                this.info('ai_processing_start', {\n                    ...details\n                }, correlationId);\n                break;\n            case 'success':\n                this.info('ai_processing_success', {\n                    ...details\n                }, correlationId);\n                break;\n            case 'error':\n                this.error('ai_processing_error', new Error(typeof details.error === 'string' ? details.error : 'AI processing failed'), {\n                    ...details\n                }, correlationId);\n                break;\n        }\n    }\n    // 数据库操作专用日志\n    static logDatabase(operation, action, details = {}) {\n        const correlationId = `db_${operation}_${Date.now()}`;\n        switch(action){\n            case 'start':\n                this.debug('database_operation_start', {\n                    operation,\n                    ...details\n                }, correlationId);\n                break;\n            case 'success':\n                this.debug('database_operation_success', {\n                    operation,\n                    ...details\n                }, correlationId);\n                break;\n            case 'error':\n                this.error('database_operation_error', new Error(typeof details.error === 'string' ? details.error : 'Database operation failed'), {\n                    operation,\n                    ...details\n                }, correlationId);\n                break;\n        }\n    }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Logger);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RTVDLEtBQUsyQixHQUFHLElBQUk7UUFFckQsT0FBUWhDO1lBQ04sS0FBSztnQkFDSCxJQUFJLENBQUNxQixLQUFLLENBQUMsNEJBQTRCO29CQUFFNEI7b0JBQVcsR0FBR2hELE9BQU87Z0JBQUMsR0FBR0M7Z0JBQ2xFO1lBQ0YsS0FBSztnQkFDSCxJQUFJLENBQUNtQixLQUFLLENBQUMsOEJBQThCO29CQUFFNEI7b0JBQVcsR0FBR2hELE9BQU87Z0JBQUMsR0FBR0M7Z0JBQ3BFO1lBQ0YsS0FBSztnQkFDSCxJQUFJLENBQUNpQixLQUFLLENBQUMsNEJBQTRCLElBQUlNLE1BQU0sT0FBT3hCLFFBQVFrQixLQUFLLEtBQUssV0FBV2xCLFFBQVFrQixLQUFLLEdBQUcsOEJBQThCO29CQUFFOEI7b0JBQVcsR0FBR2hELE9BQU87Z0JBQUMsR0FBR0M7Z0JBQzlKO1FBQ0o7SUFDRjtBQUNGO0FBRUEsaUVBQWVOLE1BQU1BLEVBQUMiLCJzb3VyY2VzIjpbIi9yb290L1JpY2hJZGVhSHViL3NyYy9saWIvbG9nZ2VyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIOe7k+aehOWMluaXpeW/l+ezu+e7n1xuaW50ZXJmYWNlIExvZ0VudHJ5IHtcbiAgdGltZXN0YW1wOiBzdHJpbmc7XG4gIGxldmVsOiAnaW5mbycgfCAnd2FybicgfCAnZXJyb3InIHwgJ2RlYnVnJztcbiAgc2VydmljZTogc3RyaW5nO1xuICBhY3Rpb246IHN0cmluZztcbiAgZGV0YWlsczogUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG4gIGNvcnJlbGF0aW9uSWQ/OiBzdHJpbmc7XG4gIGR1cmF0aW9uPzogbnVtYmVyO1xufVxuXG5jbGFzcyBMb2dnZXIge1xuICBwcml2YXRlIHN0YXRpYyBnZXRTZXJ2aWNlTmFtZSgpOiBzdHJpbmcge1xuICAgIHJldHVybiAncmljaC1pZGVhLWh1Yic7XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBmb3JtYXRMb2dFbnRyeShcbiAgICBsZXZlbDogTG9nRW50cnlbJ2xldmVsJ10sXG4gICAgYWN0aW9uOiBzdHJpbmcsXG4gICAgZGV0YWlsczogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fSxcbiAgICBjb3JyZWxhdGlvbklkPzogc3RyaW5nLFxuICAgIGR1cmF0aW9uPzogbnVtYmVyXG4gICk6IExvZ0VudHJ5IHtcbiAgICByZXR1cm4ge1xuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICBsZXZlbCxcbiAgICAgIHNlcnZpY2U6IHRoaXMuZ2V0U2VydmljZU5hbWUoKSxcbiAgICAgIGFjdGlvbixcbiAgICAgIGRldGFpbHM6IHtcbiAgICAgICAgLi4uZGV0YWlscyxcbiAgICAgICAgZW52aXJvbm1lbnQ6IHByb2Nlc3MuZW52Lk5PREVfRU5WIHx8ICdkZXZlbG9wbWVudCcsXG4gICAgICAgIHZlcnNpb246IHByb2Nlc3MuZW52Lm5wbV9wYWNrYWdlX3ZlcnNpb24gfHwgJzEuMC4wJ1xuICAgICAgfSxcbiAgICAgIGNvcnJlbGF0aW9uSWQsXG4gICAgICBkdXJhdGlvblxuICAgIH07XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBvdXRwdXRMb2coZW50cnk6IExvZ0VudHJ5KTogdm9pZCB7XG4gICAgY29uc3QgbG9nTWVzc2FnZSA9IEpTT04uc3RyaW5naWZ5KGVudHJ5KTtcblxuICAgIHN3aXRjaCAoZW50cnkubGV2ZWwpIHtcbiAgICAgIGNhc2UgJ2Vycm9yJzpcbiAgICAgICAgY29uc29sZS5lcnJvcihsb2dNZXNzYWdlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd3YXJuJzpcbiAgICAgICAgY29uc29sZS53YXJuKGxvZ01lc3NhZ2UpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2RlYnVnJzpcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnKSB7XG4gICAgICAgICAgY29uc29sZS5kZWJ1Zyhsb2dNZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGNvbnNvbGUubG9nKGxvZ01lc3NhZ2UpO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBpbmZvKGFjdGlvbjogc3RyaW5nLCBkZXRhaWxzOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9LCBjb3JyZWxhdGlvbklkPzogc3RyaW5nKTogdm9pZCB7XG4gICAgY29uc3QgZW50cnkgPSB0aGlzLmZvcm1hdExvZ0VudHJ5KCdpbmZvJywgYWN0aW9uLCBkZXRhaWxzLCBjb3JyZWxhdGlvbklkKTtcbiAgICB0aGlzLm91dHB1dExvZyhlbnRyeSk7XG4gIH1cblxuICBzdGF0aWMgd2FybihhY3Rpb246IHN0cmluZywgZGV0YWlsczogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fSwgY29ycmVsYXRpb25JZD86IHN0cmluZyk6IHZvaWQge1xuICAgIGNvbnN0IGVudHJ5ID0gdGhpcy5mb3JtYXRMb2dFbnRyeSgnd2FybicsIGFjdGlvbiwgZGV0YWlscywgY29ycmVsYXRpb25JZCk7XG4gICAgdGhpcy5vdXRwdXRMb2coZW50cnkpO1xuICB9XG5cbiAgc3RhdGljIGVycm9yKGFjdGlvbjogc3RyaW5nLCBlcnJvcjogRXJyb3IgfCBzdHJpbmcsIGRldGFpbHM6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge30sIGNvcnJlbGF0aW9uSWQ/OiBzdHJpbmcpOiB2b2lkIHtcbiAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IGVycm9yO1xuICAgIGNvbnN0IGVycm9yRGV0YWlscyA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyB7XG4gICAgICAuLi5kZXRhaWxzLFxuICAgICAgZXJyb3I6IHtcbiAgICAgICAgbWVzc2FnZTogZXJyb3JNZXNzYWdlLFxuICAgICAgICBzdGFjazogZXJyb3Iuc3RhY2ssXG4gICAgICAgIG5hbWU6IGVycm9yLm5hbWVcbiAgICAgIH1cbiAgICB9IDoge1xuICAgICAgLi4uZGV0YWlscyxcbiAgICAgIGVycm9yOiBlcnJvck1lc3NhZ2VcbiAgICB9O1xuXG4gICAgY29uc3QgZW50cnkgPSB0aGlzLmZvcm1hdExvZ0VudHJ5KCdlcnJvcicsIGFjdGlvbiwgZXJyb3JEZXRhaWxzLCBjb3JyZWxhdGlvbklkKTtcbiAgICB0aGlzLm91dHB1dExvZyhlbnRyeSk7XG4gIH1cblxuICBzdGF0aWMgZGVidWcoYWN0aW9uOiBzdHJpbmcsIGRldGFpbHM6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge30sIGNvcnJlbGF0aW9uSWQ/OiBzdHJpbmcpOiB2b2lkIHtcbiAgICBjb25zdCBlbnRyeSA9IHRoaXMuZm9ybWF0TG9nRW50cnkoJ2RlYnVnJywgYWN0aW9uLCBkZXRhaWxzLCBjb3JyZWxhdGlvbklkKTtcbiAgICB0aGlzLm91dHB1dExvZyhlbnRyeSk7XG4gIH1cblxuICAvLyDorqHml7blmajlip/og71cbiAgc3RhdGljIHRpbWVyKGFjdGlvbjogc3RyaW5nLCBkZXRhaWxzOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9LCBjb3JyZWxhdGlvbklkPzogc3RyaW5nKSB7XG4gICAgY29uc3Qgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICBjb25zdCB0aW1lcklkID0gYHRpbWVyXyR7RGF0ZS5ub3coKX1fJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSl9YDtcblxuICAgIHJldHVybiB7XG4gICAgICBzdG9wOiAoYWRkaXRpb25hbERldGFpbHM6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge30pID0+IHtcbiAgICAgICAgY29uc3QgZHVyYXRpb24gPSBEYXRlLm5vdygpIC0gc3RhcnRUaW1lO1xuICAgICAgICB0aGlzLmluZm8oYWN0aW9uLCB7XG4gICAgICAgICAgLi4uZGV0YWlscyxcbiAgICAgICAgICAuLi5hZGRpdGlvbmFsRGV0YWlscyxcbiAgICAgICAgICB0aW1lcklkXG4gICAgICAgIH0sIGNvcnJlbGF0aW9uSWQpO1xuICAgICAgICByZXR1cm4gZHVyYXRpb247XG4gICAgICB9LFxuICAgICAgZ2V0RHVyYXRpb246ICgpID0+IERhdGUubm93KCkgLSBzdGFydFRpbWVcbiAgICB9O1xuICB9XG5cbiAgLy8g5oCn6IO955uR5o6nXG4gIHN0YXRpYyBhc3luYyBtb25pdG9yPFQ+KFxuICAgIGFjdGlvbjogc3RyaW5nLFxuICAgIGZuOiAoKSA9PiBQcm9taXNlPFQ+LFxuICAgIGRldGFpbHM6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge30sXG4gICAgY29ycmVsYXRpb25JZD86IHN0cmluZ1xuICApOiBQcm9taXNlPFQ+IHtcbiAgICBjb25zdCB0aW1lciA9IHRoaXMudGltZXIoYWN0aW9uLCBkZXRhaWxzLCBjb3JyZWxhdGlvbklkKTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZm4oKTtcbiAgICAgIGNvbnN0IGR1cmF0aW9uID0gdGltZXIuc3RvcCh7IHN0YXR1czogJ3N1Y2Nlc3MnIH0pO1xuICAgICAgdGhpcy5kZWJ1ZyhgJHthY3Rpb259X3BlcmZvcm1hbmNlYCwgeyBkdXJhdGlvbiwgc3RhdHVzOiAnc3VjY2VzcycgfSwgY29ycmVsYXRpb25JZCk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zdCBkdXJhdGlvbiA9IHRpbWVyLnN0b3AoeyBzdGF0dXM6ICdlcnJvcicgfSk7XG4gICAgICB0aGlzLmVycm9yKGAke2FjdGlvbn1fcGVyZm9ybWFuY2VgLCBlcnJvciBhcyBFcnJvciwgeyBkdXJhdGlvbiwgc3RhdHVzOiAnZXJyb3InIH0sIGNvcnJlbGF0aW9uSWQpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLy8g5pWw5o2u5oqT5Y+W5LiT55So5pel5b+XXG4gIHN0YXRpYyBsb2dGZXRjaChcbiAgICBzb3VyY2U6IHN0cmluZyxcbiAgICBhY3Rpb246ICdzdGFydCcgfCAnc3VjY2VzcycgfCAnZXJyb3InLFxuICAgIGRldGFpbHM6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge31cbiAgKTogdm9pZCB7XG4gICAgY29uc3QgY29ycmVsYXRpb25JZCA9IGBmZXRjaF8ke3NvdXJjZX1fJHtEYXRlLm5vdygpfWA7XG5cbiAgICBzd2l0Y2ggKGFjdGlvbikge1xuICAgICAgY2FzZSAnc3RhcnQnOlxuICAgICAgICB0aGlzLmluZm8oJ2RhdGFfZmV0Y2hfc3RhcnQnLCB7IHNvdXJjZSwgLi4uZGV0YWlscyB9LCBjb3JyZWxhdGlvbklkKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdzdWNjZXNzJzpcbiAgICAgICAgdGhpcy5pbmZvKCdkYXRhX2ZldGNoX3N1Y2Nlc3MnLCB7IHNvdXJjZSwgLi4uZGV0YWlscyB9LCBjb3JyZWxhdGlvbklkKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdlcnJvcic6XG4gICAgICAgIHRoaXMuZXJyb3IoJ2RhdGFfZmV0Y2hfZXJyb3InLCBuZXcgRXJyb3IodHlwZW9mIGRldGFpbHMuZXJyb3IgPT09ICdzdHJpbmcnID8gZGV0YWlscy5lcnJvciA6ICdVbmtub3duIGZldGNoIGVycm9yJyksIHsgc291cmNlLCAuLi5kZXRhaWxzIH0sIGNvcnJlbGF0aW9uSWQpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICAvLyBBSeWkhOeQhuS4k+eUqOaXpeW/l1xuICBzdGF0aWMgbG9nQUlQcm9jZXNzaW5nKFxuICAgIGFjdGlvbjogJ3N0YXJ0JyB8ICdzdWNjZXNzJyB8ICdlcnJvcicsXG4gICAgZGV0YWlsczogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fVxuICApOiB2b2lkIHtcbiAgICBjb25zdCBjb3JyZWxhdGlvbklkID0gYGFpXyR7RGF0ZS5ub3coKX1gO1xuXG4gICAgc3dpdGNoIChhY3Rpb24pIHtcbiAgICAgIGNhc2UgJ3N0YXJ0JzpcbiAgICAgICAgdGhpcy5pbmZvKCdhaV9wcm9jZXNzaW5nX3N0YXJ0JywgeyAuLi5kZXRhaWxzIH0sIGNvcnJlbGF0aW9uSWQpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3N1Y2Nlc3MnOlxuICAgICAgICB0aGlzLmluZm8oJ2FpX3Byb2Nlc3Npbmdfc3VjY2VzcycsIHsgLi4uZGV0YWlscyB9LCBjb3JyZWxhdGlvbklkKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdlcnJvcic6XG4gICAgICAgIHRoaXMuZXJyb3IoJ2FpX3Byb2Nlc3NpbmdfZXJyb3InLCBuZXcgRXJyb3IodHlwZW9mIGRldGFpbHMuZXJyb3IgPT09ICdzdHJpbmcnID8gZGV0YWlscy5lcnJvciA6ICdBSSBwcm9jZXNzaW5nIGZhaWxlZCcpLCB7IC4uLmRldGFpbHMgfSwgY29ycmVsYXRpb25JZCk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIC8vIOaVsOaNruW6k+aTjeS9nOS4k+eUqOaXpeW/l1xuICBzdGF0aWMgbG9nRGF0YWJhc2UoXG4gICAgb3BlcmF0aW9uOiBzdHJpbmcsXG4gICAgYWN0aW9uOiAnc3RhcnQnIHwgJ3N1Y2Nlc3MnIHwgJ2Vycm9yJyxcbiAgICBkZXRhaWxzOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9XG4gICk6IHZvaWQge1xuICAgIGNvbnN0IGNvcnJlbGF0aW9uSWQgPSBgZGJfJHtvcGVyYXRpb259XyR7RGF0ZS5ub3coKX1gO1xuXG4gICAgc3dpdGNoIChhY3Rpb24pIHtcbiAgICAgIGNhc2UgJ3N0YXJ0JzpcbiAgICAgICAgdGhpcy5kZWJ1ZygnZGF0YWJhc2Vfb3BlcmF0aW9uX3N0YXJ0JywgeyBvcGVyYXRpb24sIC4uLmRldGFpbHMgfSwgY29ycmVsYXRpb25JZCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnc3VjY2Vzcyc6XG4gICAgICAgIHRoaXMuZGVidWcoJ2RhdGFiYXNlX29wZXJhdGlvbl9zdWNjZXNzJywgeyBvcGVyYXRpb24sIC4uLmRldGFpbHMgfSwgY29ycmVsYXRpb25JZCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnZXJyb3InOlxuICAgICAgICB0aGlzLmVycm9yKCdkYXRhYmFzZV9vcGVyYXRpb25fZXJyb3InLCBuZXcgRXJyb3IodHlwZW9mIGRldGFpbHMuZXJyb3IgPT09ICdzdHJpbmcnID8gZGV0YWlscy5lcnJvciA6ICdEYXRhYmFzZSBvcGVyYXRpb24gZmFpbGVkJyksIHsgb3BlcmF0aW9uLCAuLi5kZXRhaWxzIH0sIGNvcnJlbGF0aW9uSWQpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTG9nZ2VyOyJdLCJuYW1lcyI6WyJMb2dnZXIiLCJnZXRTZXJ2aWNlTmFtZSIsImZvcm1hdExvZ0VudHJ5IiwibGV2ZWwiLCJhY3Rpb24iLCJkZXRhaWxzIiwiY29ycmVsYXRpb25JZCIsImR1cmF0aW9uIiwidGltZXN0YW1wIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwic2VydmljZSIsImVudmlyb25tZW50IiwicHJvY2VzcyIsInZlcnNpb24iLCJlbnYiLCJucG1fcGFja2FnZV92ZXJzaW9uIiwib3V0cHV0TG9nIiwiZW50cnkiLCJsb2dNZXNzYWdlIiwiSlNPTiIsInN0cmluZ2lmeSIsImNvbnNvbGUiLCJlcnJvciIsIndhcm4iLCJkZWJ1ZyIsImxvZyIsImluZm8iLCJlcnJvck1lc3NhZ2UiLCJFcnJvciIsIm1lc3NhZ2UiLCJlcnJvckRldGFpbHMiLCJzdGFjayIsIm5hbWUiLCJ0aW1lciIsInN0YXJ0VGltZSIsIm5vdyIsInRpbWVySWQiLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHIiLCJzdG9wIiwiYWRkaXRpb25hbERldGFpbHMiLCJnZXREdXJhdGlvbiIsIm1vbml0b3IiLCJmbiIsInJlc3VsdCIsInN0YXR1cyIsImxvZ0ZldGNoIiwic291cmNlIiwibG9nQUlQcm9jZXNzaW5nIiwibG9nRGF0YWJhc2UiLCJvcGVyYXRpb24iXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/logger.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/openai.ts":
/*!***************************!*\
  !*** ./src/lib/openai.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AIProcessor: () => (/* binding */ AIProcessor),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./logger */ \"(rsc)/./src/lib/logger.ts\");\n\n// 获取AI配置\nfunction getAIConfig() {\n    const provider = process.env.AI_PROVIDER || 'deepseek';\n    const configs = {\n        openai: {\n            provider: 'openai',\n            apiKey: process.env.OPENAI_API_KEY || '',\n            baseURL: 'https://api.openai.com/v1',\n            model: 'gpt-3.5-turbo'\n        },\n        deepseek: {\n            provider: 'deepseek',\n            apiKey: process.env.DEEPSEEK_API_KEY || '',\n            baseURL: 'https://api.deepseek.com/v1',\n            model: 'deepseek-chat'\n        },\n        doubao: {\n            provider: 'doubao',\n            apiKey: process.env.DOUBAO_API_KEY || '',\n            baseURL: 'https://ark.cn-beijing.volces.com/api/v3',\n            model: 'doubao-lite-4k'\n        },\n        qwen: {\n            provider: 'qwen',\n            apiKey: process.env.QWEN_API_KEY || '',\n            baseURL: 'https://dashscope.aliyuncs.com/compatible-mode/v1',\n            model: 'qwen-turbo'\n        }\n    };\n    return configs[provider];\n}\n// 通用AI调用客户端\nclass UniversalAIClient {\n    constructor(config){\n        this.config = config;\n    }\n    async chat(messages) {\n        try {\n            const response = await fetch(`${this.config.baseURL}/chat/completions`, {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'Authorization': `Bearer ${this.config.apiKey}`\n                },\n                body: JSON.stringify({\n                    model: this.config.model,\n                    messages,\n                    temperature: 0.3,\n                    max_tokens: 800\n                })\n            });\n            if (!response.ok) {\n                throw new Error(`AI API调用失败: ${response.status} ${response.statusText}`);\n            }\n            const data = await response.json();\n            return data.choices?.[0]?.message?.content || '';\n        } catch (error) {\n            console.error(`${this.config.provider} API调用失败:`, error);\n            throw new Error(`${this.config.provider} API调用失败`);\n        }\n    }\n}\nclass AIProcessor {\n    static{\n        this.fallbackMode = process.env.ENABLE_FALLBACK_MODE === 'true';\n    }\n    static getClient() {\n        if (!this.client) {\n            const config = getAIConfig();\n            if (!config.apiKey) {\n                if (this.fallbackMode) {\n                    console.log('AI API密钥未配置，使用备用模式处理数据');\n                    return null;\n                }\n                throw new Error(`未配置 ${config.provider} API密钥`);\n            }\n            this.client = new UniversalAIClient(config);\n        }\n        return this.client;\n    }\n    static async processContent(raw) {\n        const correlationId = `ai_process_${raw.source_id}_${Date.now()}`;\n        _logger__WEBPACK_IMPORTED_MODULE_0__[\"default\"].logAIProcessing('start', {\n            sourceId: raw.source_id,\n            titleLength: raw.title.length,\n            contentLength: raw.content.length\n        });\n        // 检查是否为备用模式\n        const client = this.getClient();\n        if (!client) {\n            console.log(`使用备用模式处理案例: ${raw.title}`);\n            return this.generateFallbackData(raw);\n        }\n        const prompt = `\n请将以下副业内容智能结构化为详细的JSON格式。基于原文内容进行分析和推理，提供尽可能完整的信息。\n\n原始内容：\n标题: ${raw.title}\n内容: ${raw.content.slice(0, 3000)}\n\n请返回以下格式的JSON（只返回JSON，不要任何其他文字）：\n{\n  \"title\": \"简洁标题（15字以内）\",\n  \"description\": \"详细描述（100字以内）\",\n  \"income\": \"收入范围（如：$500-2000/月）\",\n  \"time_required\": \"时间投入（如：10-20小时/周）\",\n  \"tools\": \"工具列表，逗号分隔\",\n  \"steps\": \"实施步骤，换行分隔\",\n  \"category\": \"分类（如：电商、服务、数字产品等）\",\n  \"difficulty\": \"难度等级（beginner/intermediate/advanced）\",\n  \"investment_required\": \"投资需求（如：低、中、高或具体金额）\",\n  \"skills_needed\": \"所需技能，逗号分隔\",\n  \"target_audience\": \"目标用户群体\",\n  \"potential_risks\": \"潜在风险和挑战\",\n  \"success_rate\": \"成功率估计（如：高、中等、低）\",\n  \"time_to_profit\": \"盈利时间（如：1-3个月）\",\n  \"scalability\": \"可扩展性（如：低、中等、高）\",\n  \"location_flexible\": true/false,\n  \"age_restriction\": \"年龄限制或要求\",\n  \"revenue_model\": \"收入模式（如：服务收费、产品销售、订阅等）\",\n  \"competition_level\": \"竞争程度（低、中等、高）\",\n  \"market_trend\": \"市场趋势（如：增长、稳定、下降）\",\n  \"key_metrics\": \"关键成功指标\",\n  \"tags\": [\"标签1\", \"标签2\", \"标签3\"]\n}\n\n分析原则：\n1. 基于原文内容进行智能推理，如果原文没有明确信息，根据上下文合理推断\n2. 收入和时间投入要根据内容线索合理估计\n3. 难度等级根据所需技能和投资综合判断\n4. 目标用户和风险因素要基于内容特点分析\n5. 只返回JSON格式，不要任何解释文字\n6. 所有字段都要填写，不要留空\n`;\n        try {\n            const timer = _logger__WEBPACK_IMPORTED_MODULE_0__[\"default\"].timer('ai_content_processing', {\n                sourceId: raw.source_id\n            }, correlationId);\n            const response = await client.chat([\n                {\n                    role: 'user',\n                    content: prompt\n                }\n            ]);\n            const content = response.trim();\n            if (!content) {\n                throw new Error('AI返回空内容');\n            }\n            // 尝试解析JSON\n            let parsedContent;\n            try {\n                // 清理可能的markdown格式\n                const cleanContent = content.replace(/```json\\n?|\\n?```/g, '').trim();\n                parsedContent = JSON.parse(cleanContent);\n            } catch (parseError) {\n                _logger__WEBPACK_IMPORTED_MODULE_0__[\"default\"].error('ai_json_parse_failed', parseError, {\n                    sourceId: raw.source_id,\n                    rawContent: content.slice(0, 200)\n                }, correlationId);\n                // 如果解析失败，返回默认结构\n                parsedContent = {\n                    title: raw.title.slice(0, 50),\n                    description: raw.content || '这是一个来自社区的副业创意分享',\n                    income: '视情况而定',\n                    time_required: '灵活安排',\n                    tools: '请参考原始内容',\n                    steps: '1. 查看原始链接\\n2. 了解具体实施方法\\n3. 根据实际情况调整',\n                    category: '副业',\n                    difficulty: 'beginner',\n                    investment_required: '低',\n                    skills_needed: '基础技能',\n                    target_audience: '大众用户',\n                    potential_risks: '市场竞争',\n                    success_rate: '中等',\n                    time_to_profit: '1-3个月',\n                    scalability: '中等',\n                    location_flexible: true,\n                    age_restriction: '无限制',\n                    revenue_model: '服务收费',\n                    competition_level: '中等',\n                    market_trend: '稳定增长',\n                    key_metrics: '收入、客户满意度',\n                    tags: [\n                        '副业',\n                        '在线赚钱'\n                    ]\n                };\n            }\n            // 验证和清理数据\n            const result = {\n                title: this.cleanText(parsedContent.title || raw.title, 50),\n                description: this.cleanText(parsedContent.description || '', 100),\n                income: this.cleanText(parsedContent.income || '未知', 30),\n                time_required: this.cleanText(parsedContent.time_required || '未知', 30),\n                tools: this.cleanText(parsedContent.tools || '', 200),\n                steps: this.cleanText(parsedContent.steps || '', 500),\n                category: this.cleanText(parsedContent.category || '副业', 20),\n                difficulty: parsedContent.difficulty || 'beginner',\n                investment_required: this.cleanText(parsedContent.investment_required || '低', 20),\n                skills_needed: this.cleanText(parsedContent.skills_needed || '基础技能', 100),\n                target_audience: this.cleanText(parsedContent.target_audience || '大众用户', 50),\n                potential_risks: this.cleanText(parsedContent.potential_risks || '市场竞争', 100),\n                success_rate: this.cleanText(parsedContent.success_rate || '中等', 20),\n                time_to_profit: this.cleanText(parsedContent.time_to_profit || '1-3个月', 20),\n                scalability: this.cleanText(parsedContent.scalability || '中等', 20),\n                location_flexible: parsedContent.location_flexible ?? true,\n                age_restriction: this.cleanText(parsedContent.age_restriction || '无限制', 20),\n                revenue_model: this.cleanText(parsedContent.revenue_model || '服务收费', 30),\n                competition_level: this.cleanText(parsedContent.competition_level || '中等', 20),\n                market_trend: this.cleanText(parsedContent.market_trend || '稳定增长', 20),\n                key_metrics: this.cleanText(parsedContent.key_metrics || '收入、客户满意度', 50),\n                tags: parsedContent.tags || [\n                    '副业',\n                    '在线赚钱'\n                ]\n            };\n            const duration = timer.stop({\n                category: result.category,\n                difficulty: result.difficulty\n            });\n            _logger__WEBPACK_IMPORTED_MODULE_0__[\"default\"].logAIProcessing('success', {\n                sourceId: raw.source_id,\n                duration,\n                category: result.category\n            });\n            return result;\n        } catch (error) {\n            _logger__WEBPACK_IMPORTED_MODULE_0__[\"default\"].error('ai_processing_failed', error, {\n                sourceId: raw.source_id,\n                title: raw.title.slice(0, 50)\n            }, correlationId);\n            // 返回基础结构化数据\n            return this.generateFallbackData(raw);\n        }\n    }\n    // 生成备用数据（当AI不可用时）\n    static generateFallbackData(raw) {\n        // 简单的关键词匹配来分类\n        const contentLower = (raw.title + ' ' + raw.content).toLowerCase();\n        let category = '副业';\n        let difficulty = 'beginner';\n        let investment = '低';\n        if (contentLower.includes('编程') || contentLower.includes('开发') || contentLower.includes('coding')) {\n            category = '技术开发';\n            difficulty = 'intermediate';\n        } else if (contentLower.includes('电商') || contentLower.includes('amazon') || contentLower.includes('shopify')) {\n            category = '电商';\n            investment = '中';\n        } else if (contentLower.includes('写作') || contentLower.includes('content') || contentLower.includes('blog')) {\n            category = '内容创作';\n            difficulty = 'beginner';\n        } else if (contentLower.includes('设计') || contentLower.includes('design')) {\n            category = '设计';\n            difficulty = 'intermediate';\n        } else if (contentLower.includes('营销') || contentLower.includes('marketing')) {\n            category = '营销推广';\n            difficulty = 'intermediate';\n        }\n        return {\n            title: raw.title.slice(0, 50),\n            description: raw.content ? raw.content.slice(0, 100) + '...' : '这是一个来自社区的副业创意分享',\n            income: '视情况而定',\n            time_required: '灵活安排',\n            tools: '请参考原始内容',\n            steps: `1. 查看原始链接: ${raw.source_url}\\n2. 了解详细实施步骤\\n3. 评估是否适合自己`,\n            category: category,\n            difficulty: difficulty,\n            investment_required: investment,\n            skills_needed: '请参考原始内容',\n            target_audience: '大众用户',\n            potential_risks: '市场竞争',\n            success_rate: '中等',\n            time_to_profit: '1-3个月',\n            scalability: '中等',\n            location_flexible: true,\n            age_restriction: '无限制',\n            revenue_model: '服务收费',\n            competition_level: '中等',\n            market_trend: '稳定增长',\n            key_metrics: '收入、客户满意度',\n            tags: [\n                category,\n                '副业',\n                '在线赚钱'\n            ]\n        };\n    }\n    // 清理和验证文本内容\n    static cleanText(text, maxLength) {\n        if (!text) return '';\n        return text.trim().slice(0, maxLength).replace(/\\r\\n/g, '\\n').replace(/\\r/g, '\\n');\n    }\n    // 批量处理多个案例\n    static async processBatch(rawCases) {\n        const results = [];\n        // 控制并发数量，避免API限制\n        const batchSize = 3;\n        for(let i = 0; i < rawCases.length; i += batchSize){\n            const batch = rawCases.slice(i, i + batchSize);\n            const batchPromises = batch.map((raw)=>this.processContent(raw).catch((error)=>{\n                    console.error(`处理案例失败: ${raw.title}`, error);\n                    return {\n                        title: raw.title.slice(0, 50),\n                        description: raw.content || '这是一个来自社区的副业创意分享，处理过程中遇到一些问题',\n                        income: '视情况而定',\n                        time_required: '灵活安排',\n                        tools: '请参考原始内容',\n                        steps: '1. 查看原始链接获取完整信息\\n2. 根据个人情况调整方案',\n                        category: '副业',\n                        difficulty: 'beginner',\n                        investment_required: '低',\n                        skills_needed: '基础技能',\n                        target_audience: '大众用户',\n                        potential_risks: '市场竞争',\n                        success_rate: '中等',\n                        time_to_profit: '1-3个月',\n                        scalability: '中等',\n                        location_flexible: true,\n                        age_restriction: '无限制',\n                        revenue_model: '服务收费',\n                        competition_level: '中等',\n                        market_trend: '稳定增长',\n                        key_metrics: '收入、客户满意度',\n                        tags: [\n                            '副业',\n                            '在线赚钱'\n                        ]\n                    };\n                }));\n            const batchResults = await Promise.all(batchPromises);\n            results.push(...batchResults);\n            // 批次间延迟，避免API频率限制\n            if (i + batchSize < rawCases.length) {\n                await new Promise((resolve)=>setTimeout(resolve, 1000));\n            }\n        }\n        return results;\n    }\n    // 获取当前使用的AI提供商\n    static getCurrentProvider() {\n        return getAIConfig().provider;\n    }\n    // 测试AI连接\n    static async testConnection() {\n        try {\n            const client = this.getClient();\n            await client.chat([\n                {\n                    role: 'user',\n                    content: '测试连接'\n                }\n            ]);\n            return true;\n        } catch (error) {\n            console.error('AI连接测试失败:', error);\n            return false;\n        }\n    }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AIProcessor);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL29wZW5haS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFDNkI7QUFZN0IsU0FBUztBQUNULFNBQVNDO0lBQ1AsTUFBTUMsV0FBWUMsUUFBUUMsR0FBRyxDQUFDQyxXQUFXLElBQUk7SUFFN0MsTUFBTUMsVUFBd0M7UUFDNUNDLFFBQVE7WUFDTkwsVUFBVTtZQUNWTSxRQUFRTCxRQUFRQyxHQUFHLENBQUNLLGNBQWMsSUFBSTtZQUN0Q0MsU0FBUztZQUNUQyxPQUFPO1FBQ1Q7UUFDQUMsVUFBVTtZQUNSVixVQUFVO1lBQ1ZNLFFBQVFMLFFBQVFDLEdBQUcsQ0FBQ1MsZ0JBQWdCLElBQUk7WUFDeENILFNBQVM7WUFDVEMsT0FBTztRQUNUO1FBQ0FHLFFBQVE7WUFDTlosVUFBVTtZQUNWTSxRQUFRTCxRQUFRQyxHQUFHLENBQUNXLGNBQWMsSUFBSTtZQUN0Q0wsU0FBUztZQUNUQyxPQUFPO1FBQ1Q7UUFDQUssTUFBTTtZQUNKZCxVQUFVO1lBQ1ZNLFFBQVFMLFFBQVFDLEdBQUcsQ0FBQ2EsWUFBWSxJQUFJO1lBQ3BDUCxTQUFTO1lBQ1RDLE9BQU87UUFDVDtJQUNGO0lBRUEsT0FBT0wsT0FBTyxDQUFDSixTQUFTO0FBQzFCO0FBRUEsWUFBWTtBQUNaLE1BQU1nQjtJQUdKLFlBQVlDLE1BQWdCLENBQUU7UUFDNUIsSUFBSSxDQUFDQSxNQUFNLEdBQUdBO0lBQ2hCO0lBRUEsTUFBTUMsS0FBS0MsUUFBZ0QsRUFBbUI7UUFDNUUsSUFBSTtZQUNGLE1BQU1DLFdBQVcsTUFBTUMsTUFBTSxHQUFHLElBQUksQ0FBQ0osTUFBTSxDQUFDVCxPQUFPLENBQUMsaUJBQWlCLENBQUMsRUFBRTtnQkFDdEVjLFFBQVE7Z0JBQ1JDLFNBQVM7b0JBQ1AsZ0JBQWdCO29CQUNoQixpQkFBaUIsQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDTixNQUFNLENBQUNYLE1BQU0sRUFBRTtnQkFDakQ7Z0JBQ0FrQixNQUFNQyxLQUFLQyxTQUFTLENBQUM7b0JBQ25CakIsT0FBTyxJQUFJLENBQUNRLE1BQU0sQ0FBQ1IsS0FBSztvQkFDeEJVO29CQUNBUSxhQUFhO29CQUNiQyxZQUFZO2dCQUNkO1lBQ0Y7WUFFQSxJQUFJLENBQUNSLFNBQVNTLEVBQUUsRUFBRTtnQkFDaEIsTUFBTSxJQUFJQyxNQUFNLENBQUMsWUFBWSxFQUFFVixTQUFTVyxNQUFNLENBQUMsQ0FBQyxFQUFFWCxTQUFTWSxVQUFVLEVBQUU7WUFDekU7WUFFQSxNQUFNQyxPQUFPLE1BQU1iLFNBQVNjLElBQUk7WUFDaEMsT0FBT0QsS0FBS0UsT0FBTyxFQUFFLENBQUMsRUFBRSxFQUFFQyxTQUFTQyxXQUFXO1FBQ2hELEVBQUUsT0FBT0MsT0FBTztZQUNkQyxRQUFRRCxLQUFLLENBQUMsR0FBRyxJQUFJLENBQUNyQixNQUFNLENBQUNqQixRQUFRLENBQUMsU0FBUyxDQUFDLEVBQUVzQztZQUNsRCxNQUFNLElBQUlSLE1BQU0sR0FBRyxJQUFJLENBQUNiLE1BQU0sQ0FBQ2pCLFFBQVEsQ0FBQyxRQUFRLENBQUM7UUFDbkQ7SUFDRjtBQUNGO0FBRU8sTUFBTXdDOzthQUVJQyxlQUF3QnhDLFFBQVFDLEdBQUcsQ0FBQ3dDLG9CQUFvQixLQUFLOztJQUU1RSxPQUFlQyxZQUErQjtRQUM1QyxJQUFJLENBQUMsSUFBSSxDQUFDQyxNQUFNLEVBQUU7WUFDaEIsTUFBTTNCLFNBQVNsQjtZQUNmLElBQUksQ0FBQ2tCLE9BQU9YLE1BQU0sRUFBRTtnQkFDbEIsSUFBSSxJQUFJLENBQUNtQyxZQUFZLEVBQUU7b0JBQ3JCRixRQUFRTSxHQUFHLENBQUM7b0JBQ1osT0FBTztnQkFDVDtnQkFDQSxNQUFNLElBQUlmLE1BQU0sQ0FBQyxJQUFJLEVBQUViLE9BQU9qQixRQUFRLENBQUMsTUFBTSxDQUFDO1lBQ2hEO1lBQ0EsSUFBSSxDQUFDNEMsTUFBTSxHQUFHLElBQUk1QixrQkFBa0JDO1FBQ3RDO1FBQ0EsT0FBTyxJQUFJLENBQUMyQixNQUFNO0lBQ3BCO0lBRUEsYUFBYUUsZUFBZUMsR0FBZ0IsRUFBMEI7UUFDcEUsTUFBTUMsZ0JBQWdCLENBQUMsV0FBVyxFQUFFRCxJQUFJRSxTQUFTLENBQUMsQ0FBQyxFQUFFQyxLQUFLQyxHQUFHLElBQUk7UUFDakVyRCwrQ0FBTUEsQ0FBQ3NELGVBQWUsQ0FBQyxTQUFTO1lBQzlCQyxVQUFVTixJQUFJRSxTQUFTO1lBQ3ZCSyxhQUFhUCxJQUFJUSxLQUFLLENBQUNDLE1BQU07WUFDN0JDLGVBQWVWLElBQUlWLE9BQU8sQ0FBQ21CLE1BQU07UUFDbkM7UUFFQSxZQUFZO1FBQ1osTUFBTVosU0FBUyxJQUFJLENBQUNELFNBQVM7UUFDN0IsSUFBSSxDQUFDQyxRQUFRO1lBQ1hMLFFBQVFNLEdBQUcsQ0FBQyxDQUFDLFlBQVksRUFBRUUsSUFBSVEsS0FBSyxFQUFFO1lBQ3RDLE9BQU8sSUFBSSxDQUFDRyxvQkFBb0IsQ0FBQ1g7UUFDbkM7UUFFQSxNQUFNWSxTQUFTLENBQUM7Ozs7SUFJaEIsRUFBRVosSUFBSVEsS0FBSyxDQUFDO0lBQ1osRUFBRVIsSUFBSVYsT0FBTyxDQUFDdUIsS0FBSyxDQUFDLEdBQUcsTUFBTTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFtQ2pDLENBQUM7UUFFRyxJQUFJO1lBQ0YsTUFBTUMsUUFBUS9ELCtDQUFNQSxDQUFDK0QsS0FBSyxDQUFDLHlCQUF5QjtnQkFBRVIsVUFBVU4sSUFBSUUsU0FBUztZQUFDLEdBQUdEO1lBRWpGLE1BQU01QixXQUFXLE1BQU13QixPQUFPMUIsSUFBSSxDQUFDO2dCQUNqQztvQkFBRTRDLE1BQU07b0JBQVF6QixTQUFTc0I7Z0JBQU87YUFDakM7WUFFRCxNQUFNdEIsVUFBVWpCLFNBQVMyQyxJQUFJO1lBQzdCLElBQUksQ0FBQzFCLFNBQVM7Z0JBQ1osTUFBTSxJQUFJUCxNQUFNO1lBQ2xCO1lBRUEsV0FBVztZQUNYLElBQUlrQztZQUNKLElBQUk7Z0JBQ0Ysa0JBQWtCO2dCQUNsQixNQUFNQyxlQUFlNUIsUUFBUTZCLE9BQU8sQ0FBQyxzQkFBc0IsSUFBSUgsSUFBSTtnQkFDbkVDLGdCQUFnQnZDLEtBQUswQyxLQUFLLENBQUNGO1lBQzdCLEVBQUUsT0FBT0csWUFBWTtnQkFDbkJ0RSwrQ0FBTUEsQ0FBQ3dDLEtBQUssQ0FBQyx3QkFBd0I4QixZQUFxQjtvQkFDeERmLFVBQVVOLElBQUlFLFNBQVM7b0JBQ3ZCb0IsWUFBWWhDLFFBQVF1QixLQUFLLENBQUMsR0FBRztnQkFDL0IsR0FBR1o7Z0JBRUgsZ0JBQWdCO2dCQUNoQmdCLGdCQUFnQjtvQkFDZFQsT0FBT1IsSUFBSVEsS0FBSyxDQUFDSyxLQUFLLENBQUMsR0FBRztvQkFDMUJVLGFBQWF2QixJQUFJVixPQUFPLElBQUk7b0JBQzVCa0MsUUFBUTtvQkFDUkMsZUFBZTtvQkFDZkMsT0FBTztvQkFDUEMsT0FBTztvQkFDUEMsVUFBVTtvQkFDVkMsWUFBWTtvQkFDWkMscUJBQXFCO29CQUNyQkMsZUFBZTtvQkFDZkMsaUJBQWlCO29CQUNqQkMsaUJBQWlCO29CQUNqQkMsY0FBYztvQkFDZEMsZ0JBQWdCO29CQUNoQkMsYUFBYTtvQkFDYkMsbUJBQW1CO29CQUNuQkMsaUJBQWlCO29CQUNqQkMsZUFBZTtvQkFDZkMsbUJBQW1CO29CQUNuQkMsY0FBYztvQkFDZEMsYUFBYTtvQkFDYkMsTUFBTTt3QkFBQzt3QkFBTTtxQkFBTztnQkFDdEI7WUFDRjtZQUVBLFVBQVU7WUFDVixNQUFNQyxTQUFTO2dCQUNicEMsT0FBTyxJQUFJLENBQUNxQyxTQUFTLENBQUM1QixjQUFjVCxLQUFLLElBQUlSLElBQUlRLEtBQUssRUFBRTtnQkFDeERlLGFBQWEsSUFBSSxDQUFDc0IsU0FBUyxDQUFDNUIsY0FBY00sV0FBVyxJQUFJLElBQUk7Z0JBQzdEQyxRQUFRLElBQUksQ0FBQ3FCLFNBQVMsQ0FBQzVCLGNBQWNPLE1BQU0sSUFBSSxNQUFNO2dCQUNyREMsZUFBZSxJQUFJLENBQUNvQixTQUFTLENBQUM1QixjQUFjUSxhQUFhLElBQUksTUFBTTtnQkFDbkVDLE9BQU8sSUFBSSxDQUFDbUIsU0FBUyxDQUFDNUIsY0FBY1MsS0FBSyxJQUFJLElBQUk7Z0JBQ2pEQyxPQUFPLElBQUksQ0FBQ2tCLFNBQVMsQ0FBQzVCLGNBQWNVLEtBQUssSUFBSSxJQUFJO2dCQUNqREMsVUFBVSxJQUFJLENBQUNpQixTQUFTLENBQUM1QixjQUFjVyxRQUFRLElBQUksTUFBTTtnQkFDekRDLFlBQVlaLGNBQWNZLFVBQVUsSUFBSTtnQkFDeENDLHFCQUFxQixJQUFJLENBQUNlLFNBQVMsQ0FBQzVCLGNBQWNhLG1CQUFtQixJQUFJLEtBQUs7Z0JBQzlFQyxlQUFlLElBQUksQ0FBQ2MsU0FBUyxDQUFDNUIsY0FBY2MsYUFBYSxJQUFJLFFBQVE7Z0JBQ3JFQyxpQkFBaUIsSUFBSSxDQUFDYSxTQUFTLENBQUM1QixjQUFjZSxlQUFlLElBQUksUUFBUTtnQkFDekVDLGlCQUFpQixJQUFJLENBQUNZLFNBQVMsQ0FBQzVCLGNBQWNnQixlQUFlLElBQUksUUFBUTtnQkFDekVDLGNBQWMsSUFBSSxDQUFDVyxTQUFTLENBQUM1QixjQUFjaUIsWUFBWSxJQUFJLE1BQU07Z0JBQ2pFQyxnQkFBZ0IsSUFBSSxDQUFDVSxTQUFTLENBQUM1QixjQUFja0IsY0FBYyxJQUFJLFNBQVM7Z0JBQ3hFQyxhQUFhLElBQUksQ0FBQ1MsU0FBUyxDQUFDNUIsY0FBY21CLFdBQVcsSUFBSSxNQUFNO2dCQUMvREMsbUJBQW1CcEIsY0FBY29CLGlCQUFpQixJQUFJO2dCQUN0REMsaUJBQWlCLElBQUksQ0FBQ08sU0FBUyxDQUFDNUIsY0FBY3FCLGVBQWUsSUFBSSxPQUFPO2dCQUN4RUMsZUFBZSxJQUFJLENBQUNNLFNBQVMsQ0FBQzVCLGNBQWNzQixhQUFhLElBQUksUUFBUTtnQkFDckVDLG1CQUFtQixJQUFJLENBQUNLLFNBQVMsQ0FBQzVCLGNBQWN1QixpQkFBaUIsSUFBSSxNQUFNO2dCQUMzRUMsY0FBYyxJQUFJLENBQUNJLFNBQVMsQ0FBQzVCLGNBQWN3QixZQUFZLElBQUksUUFBUTtnQkFDbkVDLGFBQWEsSUFBSSxDQUFDRyxTQUFTLENBQUM1QixjQUFjeUIsV0FBVyxJQUFJLFlBQVk7Z0JBQ3JFQyxNQUFNMUIsY0FBYzBCLElBQUksSUFBSTtvQkFBQztvQkFBTTtpQkFBTztZQUM1QztZQUVBLE1BQU1HLFdBQVdoQyxNQUFNaUMsSUFBSSxDQUFDO2dCQUFFbkIsVUFBVWdCLE9BQU9oQixRQUFRO2dCQUFFQyxZQUFZZSxPQUFPZixVQUFVO1lBQUM7WUFDdkY5RSwrQ0FBTUEsQ0FBQ3NELGVBQWUsQ0FBQyxXQUFXO2dCQUNoQ0MsVUFBVU4sSUFBSUUsU0FBUztnQkFDdkI0QztnQkFDQWxCLFVBQVVnQixPQUFPaEIsUUFBUTtZQUMzQjtZQUVBLE9BQU9nQjtRQUVULEVBQUUsT0FBT3JELE9BQU87WUFDZHhDLCtDQUFNQSxDQUFDd0MsS0FBSyxDQUFDLHdCQUF3QkEsT0FBZ0I7Z0JBQ25EZSxVQUFVTixJQUFJRSxTQUFTO2dCQUN2Qk0sT0FBT1IsSUFBSVEsS0FBSyxDQUFDSyxLQUFLLENBQUMsR0FBRztZQUM1QixHQUFHWjtZQUVILFlBQVk7WUFDWixPQUFPLElBQUksQ0FBQ1Usb0JBQW9CLENBQUNYO1FBQ25DO0lBQ0Y7SUFFQSxrQkFBa0I7SUFDbEIsT0FBZVcscUJBQXFCWCxHQUFnQixFQUFpQjtRQUNuRSxjQUFjO1FBQ2QsTUFBTWdELGVBQWUsQ0FBQ2hELElBQUlRLEtBQUssR0FBRyxNQUFNUixJQUFJVixPQUFPLEVBQUUyRCxXQUFXO1FBQ2hFLElBQUlyQixXQUFXO1FBQ2YsSUFBSUMsYUFBdUQ7UUFDM0QsSUFBSXFCLGFBQWE7UUFFakIsSUFBSUYsYUFBYUcsUUFBUSxDQUFDLFNBQVNILGFBQWFHLFFBQVEsQ0FBQyxTQUFTSCxhQUFhRyxRQUFRLENBQUMsV0FBVztZQUNqR3ZCLFdBQVc7WUFDWEMsYUFBYTtRQUNmLE9BQU8sSUFBSW1CLGFBQWFHLFFBQVEsQ0FBQyxTQUFTSCxhQUFhRyxRQUFRLENBQUMsYUFBYUgsYUFBYUcsUUFBUSxDQUFDLFlBQVk7WUFDN0d2QixXQUFXO1lBQ1hzQixhQUFhO1FBQ2YsT0FBTyxJQUFJRixhQUFhRyxRQUFRLENBQUMsU0FBU0gsYUFBYUcsUUFBUSxDQUFDLGNBQWNILGFBQWFHLFFBQVEsQ0FBQyxTQUFTO1lBQzNHdkIsV0FBVztZQUNYQyxhQUFhO1FBQ2YsT0FBTyxJQUFJbUIsYUFBYUcsUUFBUSxDQUFDLFNBQVNILGFBQWFHLFFBQVEsQ0FBQyxXQUFXO1lBQ3pFdkIsV0FBVztZQUNYQyxhQUFhO1FBQ2YsT0FBTyxJQUFJbUIsYUFBYUcsUUFBUSxDQUFDLFNBQVNILGFBQWFHLFFBQVEsQ0FBQyxjQUFjO1lBQzVFdkIsV0FBVztZQUNYQyxhQUFhO1FBQ2Y7UUFFQSxPQUFPO1lBQ0xyQixPQUFPUixJQUFJUSxLQUFLLENBQUNLLEtBQUssQ0FBQyxHQUFHO1lBQzFCVSxhQUFhdkIsSUFBSVYsT0FBTyxHQUFHVSxJQUFJVixPQUFPLENBQUN1QixLQUFLLENBQUMsR0FBRyxPQUFPLFFBQVE7WUFDL0RXLFFBQVE7WUFDUkMsZUFBZTtZQUNmQyxPQUFPO1lBQ1BDLE9BQU8sQ0FBQyxXQUFXLEVBQUUzQixJQUFJb0QsVUFBVSxDQUFDLDBCQUEwQixDQUFDO1lBQy9EeEIsVUFBVUE7WUFDVkMsWUFBWUE7WUFDWkMscUJBQXFCb0I7WUFDckJuQixlQUFlO1lBQ2ZDLGlCQUFpQjtZQUNqQkMsaUJBQWlCO1lBQ2pCQyxjQUFjO1lBQ2RDLGdCQUFnQjtZQUNoQkMsYUFBYTtZQUNiQyxtQkFBbUI7WUFDbkJDLGlCQUFpQjtZQUNqQkMsZUFBZTtZQUNmQyxtQkFBbUI7WUFDbkJDLGNBQWM7WUFDZEMsYUFBYTtZQUNiQyxNQUFNO2dCQUFDZjtnQkFBVTtnQkFBTTthQUFPO1FBQ2hDO0lBQ0Y7SUFFQSxZQUFZO0lBQ1osT0FBZWlCLFVBQVVRLElBQVksRUFBRUMsU0FBaUIsRUFBVTtRQUNoRSxJQUFJLENBQUNELE1BQU0sT0FBTztRQUVsQixPQUFPQSxLQUNKckMsSUFBSSxHQUNKSCxLQUFLLENBQUMsR0FBR3lDLFdBQ1RuQyxPQUFPLENBQUMsU0FBUyxNQUNqQkEsT0FBTyxDQUFDLE9BQU87SUFDcEI7SUFFQSxXQUFXO0lBQ1gsYUFBYW9DLGFBQWFDLFFBQXVCLEVBQTRCO1FBQzNFLE1BQU1DLFVBQTJCLEVBQUU7UUFFbkMsaUJBQWlCO1FBQ2pCLE1BQU1DLFlBQVk7UUFDbEIsSUFBSyxJQUFJQyxJQUFJLEdBQUdBLElBQUlILFNBQVMvQyxNQUFNLEVBQUVrRCxLQUFLRCxVQUFXO1lBQ25ELE1BQU1FLFFBQVFKLFNBQVMzQyxLQUFLLENBQUM4QyxHQUFHQSxJQUFJRDtZQUVwQyxNQUFNRyxnQkFBZ0JELE1BQU1FLEdBQUcsQ0FBQzlELENBQUFBLE1BQzlCLElBQUksQ0FBQ0QsY0FBYyxDQUFDQyxLQUFLK0QsS0FBSyxDQUFDeEUsQ0FBQUE7b0JBQzdCQyxRQUFRRCxLQUFLLENBQUMsQ0FBQyxRQUFRLEVBQUVTLElBQUlRLEtBQUssRUFBRSxFQUFFakI7b0JBQ3RDLE9BQU87d0JBQ0xpQixPQUFPUixJQUFJUSxLQUFLLENBQUNLLEtBQUssQ0FBQyxHQUFHO3dCQUMxQlUsYUFBYXZCLElBQUlWLE9BQU8sSUFBSTt3QkFDNUJrQyxRQUFRO3dCQUNSQyxlQUFlO3dCQUNmQyxPQUFPO3dCQUNQQyxPQUFPO3dCQUNQQyxVQUFVO3dCQUNWQyxZQUFZO3dCQUNaQyxxQkFBcUI7d0JBQ3JCQyxlQUFlO3dCQUNmQyxpQkFBaUI7d0JBQ2pCQyxpQkFBaUI7d0JBQ2pCQyxjQUFjO3dCQUNkQyxnQkFBZ0I7d0JBQ2hCQyxhQUFhO3dCQUNiQyxtQkFBbUI7d0JBQ25CQyxpQkFBaUI7d0JBQ2pCQyxlQUFlO3dCQUNmQyxtQkFBbUI7d0JBQ25CQyxjQUFjO3dCQUNkQyxhQUFhO3dCQUNiQyxNQUFNOzRCQUFDOzRCQUFNO3lCQUFPO29CQUN0QjtnQkFDRjtZQUdGLE1BQU1xQixlQUFlLE1BQU1DLFFBQVFDLEdBQUcsQ0FBQ0w7WUFDdkNKLFFBQVFVLElBQUksSUFBSUg7WUFFaEIsa0JBQWtCO1lBQ2xCLElBQUlMLElBQUlELFlBQVlGLFNBQVMvQyxNQUFNLEVBQUU7Z0JBQ25DLE1BQU0sSUFBSXdELFFBQVFHLENBQUFBLFVBQVdDLFdBQVdELFNBQVM7WUFDbkQ7UUFDRjtRQUVBLE9BQU9YO0lBQ1Q7SUFFQSxlQUFlO0lBQ2YsT0FBT2EscUJBQTZCO1FBQ2xDLE9BQU90SCxjQUFjQyxRQUFRO0lBQy9CO0lBRUEsU0FBUztJQUNULGFBQWFzSCxpQkFBbUM7UUFDOUMsSUFBSTtZQUNGLE1BQU0xRSxTQUFTLElBQUksQ0FBQ0QsU0FBUztZQUM3QixNQUFNQyxPQUFPMUIsSUFBSSxDQUFDO2dCQUFDO29CQUFFNEMsTUFBTTtvQkFBUXpCLFNBQVM7Z0JBQU87YUFBRTtZQUNyRCxPQUFPO1FBQ1QsRUFBRSxPQUFPQyxPQUFPO1lBQ2RDLFFBQVFELEtBQUssQ0FBQyxhQUFhQTtZQUMzQixPQUFPO1FBQ1Q7SUFDRjtBQUNGO0FBRUEsaUVBQWVFLFdBQVdBLEVBQUEiLCJzb3VyY2VzIjpbIi9yb290L1JpY2hJZGVhSHViL3NyYy9saWIvb3BlbmFpLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFByb2Nlc3NlZENhc2UsIFJhd0Nhc2VEYXRhIH0gZnJvbSAnLi90eXBlcydcbmltcG9ydCBMb2dnZXIgZnJvbSAnLi9sb2dnZXInXG5cbi8vIOaUr+aMgeWkmuS4qkFJ5o+Q5L6b5ZWGXG50eXBlIEFJUHJvdmlkZXIgPSAnb3BlbmFpJyB8ICdkZWVwc2VlaycgfCAnZG91YmFvJyB8ICdxd2VuJ1xuXG5pbnRlcmZhY2UgQUlDb25maWcge1xuICBwcm92aWRlcjogQUlQcm92aWRlclxuICBhcGlLZXk6IHN0cmluZ1xuICBiYXNlVVJMPzogc3RyaW5nXG4gIG1vZGVsOiBzdHJpbmdcbn1cblxuLy8g6I635Y+WQUnphY3nva5cbmZ1bmN0aW9uIGdldEFJQ29uZmlnKCk6IEFJQ29uZmlnIHtcbiAgY29uc3QgcHJvdmlkZXIgPSAocHJvY2Vzcy5lbnYuQUlfUFJPVklERVIgfHwgJ2RlZXBzZWVrJykgYXMgQUlQcm92aWRlclxuICBcbiAgY29uc3QgY29uZmlnczogUmVjb3JkPEFJUHJvdmlkZXIsIEFJQ29uZmlnPiA9IHtcbiAgICBvcGVuYWk6IHtcbiAgICAgIHByb3ZpZGVyOiAnb3BlbmFpJyxcbiAgICAgIGFwaUtleTogcHJvY2Vzcy5lbnYuT1BFTkFJX0FQSV9LRVkgfHwgJycsXG4gICAgICBiYXNlVVJMOiAnaHR0cHM6Ly9hcGkub3BlbmFpLmNvbS92MScsXG4gICAgICBtb2RlbDogJ2dwdC0zLjUtdHVyYm8nXG4gICAgfSxcbiAgICBkZWVwc2Vlazoge1xuICAgICAgcHJvdmlkZXI6ICdkZWVwc2VlaycsXG4gICAgICBhcGlLZXk6IHByb2Nlc3MuZW52LkRFRVBTRUVLX0FQSV9LRVkgfHwgJycsXG4gICAgICBiYXNlVVJMOiAnaHR0cHM6Ly9hcGkuZGVlcHNlZWsuY29tL3YxJyxcbiAgICAgIG1vZGVsOiAnZGVlcHNlZWstY2hhdCdcbiAgICB9LFxuICAgIGRvdWJhbzoge1xuICAgICAgcHJvdmlkZXI6ICdkb3ViYW8nLFxuICAgICAgYXBpS2V5OiBwcm9jZXNzLmVudi5ET1VCQU9fQVBJX0tFWSB8fCAnJyxcbiAgICAgIGJhc2VVUkw6ICdodHRwczovL2Fyay5jbi1iZWlqaW5nLnZvbGNlcy5jb20vYXBpL3YzJyxcbiAgICAgIG1vZGVsOiAnZG91YmFvLWxpdGUtNGsnXG4gICAgfSxcbiAgICBxd2VuOiB7XG4gICAgICBwcm92aWRlcjogJ3F3ZW4nLFxuICAgICAgYXBpS2V5OiBwcm9jZXNzLmVudi5RV0VOX0FQSV9LRVkgfHwgJycsXG4gICAgICBiYXNlVVJMOiAnaHR0cHM6Ly9kYXNoc2NvcGUuYWxpeXVuY3MuY29tL2NvbXBhdGlibGUtbW9kZS92MScsXG4gICAgICBtb2RlbDogJ3F3ZW4tdHVyYm8nXG4gICAgfVxuICB9XG4gIFxuICByZXR1cm4gY29uZmlnc1twcm92aWRlcl1cbn1cblxuLy8g6YCa55SoQUnosIPnlKjlrqLmiLfnq69cbmNsYXNzIFVuaXZlcnNhbEFJQ2xpZW50IHtcbiAgcHJpdmF0ZSBjb25maWc6IEFJQ29uZmlnXG4gIFxuICBjb25zdHJ1Y3Rvcihjb25maWc6IEFJQ29uZmlnKSB7XG4gICAgdGhpcy5jb25maWcgPSBjb25maWdcbiAgfVxuICBcbiAgYXN5bmMgY2hhdChtZXNzYWdlczogQXJyYXk8e3JvbGU6IHN0cmluZywgY29udGVudDogc3RyaW5nfT4pOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke3RoaXMuY29uZmlnLmJhc2VVUkx9L2NoYXQvY29tcGxldGlvbnNgLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHt0aGlzLmNvbmZpZy5hcGlLZXl9YFxuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgbW9kZWw6IHRoaXMuY29uZmlnLm1vZGVsLFxuICAgICAgICAgIG1lc3NhZ2VzLFxuICAgICAgICAgIHRlbXBlcmF0dXJlOiAwLjMsXG4gICAgICAgICAgbWF4X3Rva2VuczogODAwXG4gICAgICAgIH0pXG4gICAgICB9KVxuICAgICAgXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQUkgQVBJ6LCD55So5aSx6LSlOiAke3Jlc3BvbnNlLnN0YXR1c30gJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApXG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKClcbiAgICAgIHJldHVybiBkYXRhLmNob2ljZXM/LlswXT8ubWVzc2FnZT8uY29udGVudCB8fCAnJ1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGAke3RoaXMuY29uZmlnLnByb3ZpZGVyfSBBUEnosIPnlKjlpLHotKU6YCwgZXJyb3IpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYCR7dGhpcy5jb25maWcucHJvdmlkZXJ9IEFQSeiwg+eUqOWksei0pWApXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBBSVByb2Nlc3NvciB7XG4gIHByaXZhdGUgc3RhdGljIGNsaWVudDogVW5pdmVyc2FsQUlDbGllbnRcbiAgcHJpdmF0ZSBzdGF0aWMgZmFsbGJhY2tNb2RlOiBib29sZWFuID0gcHJvY2Vzcy5lbnYuRU5BQkxFX0ZBTExCQUNLX01PREUgPT09ICd0cnVlJ1xuXG4gIHByaXZhdGUgc3RhdGljIGdldENsaWVudCgpOiBVbml2ZXJzYWxBSUNsaWVudCB7XG4gICAgaWYgKCF0aGlzLmNsaWVudCkge1xuICAgICAgY29uc3QgY29uZmlnID0gZ2V0QUlDb25maWcoKVxuICAgICAgaWYgKCFjb25maWcuYXBpS2V5KSB7XG4gICAgICAgIGlmICh0aGlzLmZhbGxiYWNrTW9kZSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdBSSBBUEnlr4bpkqXmnKrphY3nva7vvIzkvb/nlKjlpIfnlKjmqKHlvI/lpITnkIbmlbDmja4nKVxuICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGDmnKrphY3nva4gJHtjb25maWcucHJvdmlkZXJ9IEFQSeWvhumSpWApXG4gICAgICB9XG4gICAgICB0aGlzLmNsaWVudCA9IG5ldyBVbml2ZXJzYWxBSUNsaWVudChjb25maWcpXG4gICAgfVxuICAgIHJldHVybiB0aGlzLmNsaWVudFxuICB9XG4gIFxuICBzdGF0aWMgYXN5bmMgcHJvY2Vzc0NvbnRlbnQocmF3OiBSYXdDYXNlRGF0YSk6IFByb21pc2U8UHJvY2Vzc2VkQ2FzZT4ge1xuICAgIGNvbnN0IGNvcnJlbGF0aW9uSWQgPSBgYWlfcHJvY2Vzc18ke3Jhdy5zb3VyY2VfaWR9XyR7RGF0ZS5ub3coKX1gXG4gICAgTG9nZ2VyLmxvZ0FJUHJvY2Vzc2luZygnc3RhcnQnLCB7XG4gICAgICBzb3VyY2VJZDogcmF3LnNvdXJjZV9pZCxcbiAgICAgIHRpdGxlTGVuZ3RoOiByYXcudGl0bGUubGVuZ3RoLFxuICAgICAgY29udGVudExlbmd0aDogcmF3LmNvbnRlbnQubGVuZ3RoXG4gICAgfSlcblxuICAgIC8vIOajgOafpeaYr+WQpuS4uuWkh+eUqOaooeW8j1xuICAgIGNvbnN0IGNsaWVudCA9IHRoaXMuZ2V0Q2xpZW50KClcbiAgICBpZiAoIWNsaWVudCkge1xuICAgICAgY29uc29sZS5sb2coYOS9v+eUqOWkh+eUqOaooeW8j+WkhOeQhuahiOS+izogJHtyYXcudGl0bGV9YClcbiAgICAgIHJldHVybiB0aGlzLmdlbmVyYXRlRmFsbGJhY2tEYXRhKHJhdylcbiAgICB9XG5cbiAgICBjb25zdCBwcm9tcHQgPSBgXG7or7flsIbku6XkuIvlia/kuJrlhoXlrrnmmbrog73nu5PmnoTljJbkuLror6bnu4bnmoRKU09O5qC85byP44CC5Z+65LqO5Y6f5paH5YaF5a656L+b6KGM5YiG5p6Q5ZKM5o6o55CG77yM5o+Q5L6b5bC95Y+v6IO95a6M5pW055qE5L+h5oGv44CCXG5cbuWOn+Wni+WGheWuue+8mlxu5qCH6aKYOiAke3Jhdy50aXRsZX1cbuWGheWuuTogJHtyYXcuY29udGVudC5zbGljZSgwLCAzMDAwKX1cblxu6K+36L+U5Zue5Lul5LiL5qC85byP55qESlNPTu+8iOWPqui/lOWbnkpTT07vvIzkuI3opoHku7vkvZXlhbbku5bmloflrZfvvInvvJpcbntcbiAgXCJ0aXRsZVwiOiBcIueugOa0geagh+mimO+8iDE15a2X5Lul5YaF77yJXCIsXG4gIFwiZGVzY3JpcHRpb25cIjogXCLor6bnu4bmj4/ov7DvvIgxMDDlrZfku6XlhoXvvIlcIixcbiAgXCJpbmNvbWVcIjogXCLmlLblhaXojIPlm7TvvIjlpoLvvJokNTAwLTIwMDAv5pyI77yJXCIsXG4gIFwidGltZV9yZXF1aXJlZFwiOiBcIuaXtumXtOaKleWFpe+8iOWmgu+8mjEwLTIw5bCP5pe2L+WRqO+8iVwiLFxuICBcInRvb2xzXCI6IFwi5bel5YW35YiX6KGo77yM6YCX5Y+35YiG6ZqUXCIsXG4gIFwic3RlcHNcIjogXCLlrp7mlr3mraXpqqTvvIzmjaLooYzliIbpmpRcIixcbiAgXCJjYXRlZ29yeVwiOiBcIuWIhuexu++8iOWmgu+8mueUteWVhuOAgeacjeWKoeOAgeaVsOWtl+S6p+WTgeetie+8iVwiLFxuICBcImRpZmZpY3VsdHlcIjogXCLpmr7luqbnrYnnuqfvvIhiZWdpbm5lci9pbnRlcm1lZGlhdGUvYWR2YW5jZWTvvIlcIixcbiAgXCJpbnZlc3RtZW50X3JlcXVpcmVkXCI6IFwi5oqV6LWE6ZyA5rGC77yI5aaC77ya5L2O44CB5Lit44CB6auY5oiW5YW35L2T6YeR6aKd77yJXCIsXG4gIFwic2tpbGxzX25lZWRlZFwiOiBcIuaJgOmcgOaKgOiDve+8jOmAl+WPt+WIhumalFwiLFxuICBcInRhcmdldF9hdWRpZW5jZVwiOiBcIuebruagh+eUqOaIt+e+pOS9k1wiLFxuICBcInBvdGVudGlhbF9yaXNrc1wiOiBcIua9nOWcqOmjjumZqeWSjOaMkeaImFwiLFxuICBcInN1Y2Nlc3NfcmF0ZVwiOiBcIuaIkOWKn+eOh+S8sOiuoe+8iOWmgu+8mumrmOOAgeS4reetieOAgeS9ju+8iVwiLFxuICBcInRpbWVfdG9fcHJvZml0XCI6IFwi55uI5Yip5pe26Ze077yI5aaC77yaMS0z5Liq5pyI77yJXCIsXG4gIFwic2NhbGFiaWxpdHlcIjogXCLlj6/mianlsZXmgKfvvIjlpoLvvJrkvY7jgIHkuK3nrYnjgIHpq5jvvIlcIixcbiAgXCJsb2NhdGlvbl9mbGV4aWJsZVwiOiB0cnVlL2ZhbHNlLFxuICBcImFnZV9yZXN0cmljdGlvblwiOiBcIuW5tOm+hOmZkOWItuaIluimgeaxglwiLFxuICBcInJldmVudWVfbW9kZWxcIjogXCLmlLblhaXmqKHlvI/vvIjlpoLvvJrmnI3liqHmlLbotLnjgIHkuqflk4HplIDllK7jgIHorqLpmIXnrYnvvIlcIixcbiAgXCJjb21wZXRpdGlvbl9sZXZlbFwiOiBcIuernuS6ieeoi+W6pu+8iOS9juOAgeS4reetieOAgemrmO+8iVwiLFxuICBcIm1hcmtldF90cmVuZFwiOiBcIuW4guWcuui2i+WKv++8iOWmgu+8muWinumVv+OAgeeos+WumuOAgeS4i+mZje+8iVwiLFxuICBcImtleV9tZXRyaWNzXCI6IFwi5YWz6ZSu5oiQ5Yqf5oyH5qCHXCIsXG4gIFwidGFnc1wiOiBbXCLmoIfnrb4xXCIsIFwi5qCH562+MlwiLCBcIuagh+etvjNcIl1cbn1cblxu5YiG5p6Q5Y6f5YiZ77yaXG4xLiDln7rkuo7ljp/mloflhoXlrrnov5vooYzmmbrog73mjqjnkIbvvIzlpoLmnpzljp/mlofmsqHmnInmmI7noa7kv6Hmga/vvIzmoLnmja7kuIrkuIvmloflkIjnkIbmjqjmlq1cbjIuIOaUtuWFpeWSjOaXtumXtOaKleWFpeimgeagueaNruWGheWuuee6v+e0ouWQiOeQhuS8sOiuoVxuMy4g6Zq+5bqm562J57qn5qC55o2u5omA6ZyA5oqA6IO95ZKM5oqV6LWE57u85ZCI5Yik5patXG40LiDnm67moIfnlKjmiLflkozpo47pmanlm6DntKDopoHln7rkuo7lhoXlrrnnibnngrnliIbmnpBcbjUuIOWPqui/lOWbnkpTT07moLzlvI/vvIzkuI3opoHku7vkvZXop6Pph4rmloflrZdcbjYuIOaJgOacieWtl+autemDveimgeWhq+WGme+8jOS4jeimgeeVmeepulxuYFxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHRpbWVyID0gTG9nZ2VyLnRpbWVyKCdhaV9jb250ZW50X3Byb2Nlc3NpbmcnLCB7IHNvdXJjZUlkOiByYXcuc291cmNlX2lkIH0sIGNvcnJlbGF0aW9uSWQpXG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgY2xpZW50LmNoYXQoW1xuICAgICAgICB7IHJvbGU6ICd1c2VyJywgY29udGVudDogcHJvbXB0IH1cbiAgICAgIF0pXG5cbiAgICAgIGNvbnN0IGNvbnRlbnQgPSByZXNwb25zZS50cmltKClcbiAgICAgIGlmICghY29udGVudCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FJ6L+U5Zue56m65YaF5a65JylcbiAgICAgIH1cblxuICAgICAgLy8g5bCd6K+V6Kej5p6QSlNPTlxuICAgICAgbGV0IHBhcnNlZENvbnRlbnQ6IFByb2Nlc3NlZENhc2VcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIOa4heeQhuWPr+iDveeahG1hcmtkb3du5qC85byPXG4gICAgICAgIGNvbnN0IGNsZWFuQ29udGVudCA9IGNvbnRlbnQucmVwbGFjZSgvYGBganNvblxcbj98XFxuP2BgYC9nLCAnJykudHJpbSgpXG4gICAgICAgIHBhcnNlZENvbnRlbnQgPSBKU09OLnBhcnNlKGNsZWFuQ29udGVudClcbiAgICAgIH0gY2F0Y2ggKHBhcnNlRXJyb3IpIHtcbiAgICAgICAgTG9nZ2VyLmVycm9yKCdhaV9qc29uX3BhcnNlX2ZhaWxlZCcsIHBhcnNlRXJyb3IgYXMgRXJyb3IsIHtcbiAgICAgICAgICBzb3VyY2VJZDogcmF3LnNvdXJjZV9pZCxcbiAgICAgICAgICByYXdDb250ZW50OiBjb250ZW50LnNsaWNlKDAsIDIwMClcbiAgICAgICAgfSwgY29ycmVsYXRpb25JZClcblxuICAgICAgICAvLyDlpoLmnpzop6PmnpDlpLHotKXvvIzov5Tlm57pu5jorqTnu5PmnoRcbiAgICAgICAgcGFyc2VkQ29udGVudCA9IHtcbiAgICAgICAgICB0aXRsZTogcmF3LnRpdGxlLnNsaWNlKDAsIDUwKSxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogcmF3LmNvbnRlbnQgfHwgJ+i/meaYr+S4gOS4quadpeiHquekvuWMuueahOWJr+S4muWIm+aEj+WIhuS6qycsXG4gICAgICAgICAgaW5jb21lOiAn6KeG5oOF5Ya16ICM5a6aJyxcbiAgICAgICAgICB0aW1lX3JlcXVpcmVkOiAn54G15rS75a6J5o6SJyxcbiAgICAgICAgICB0b29sczogJ+ivt+WPguiAg+WOn+Wni+WGheWuuScsXG4gICAgICAgICAgc3RlcHM6ICcxLiDmn6XnnIvljp/lp4vpk77mjqVcXG4yLiDkuobop6PlhbfkvZPlrp7mlr3mlrnms5VcXG4zLiDmoLnmja7lrp7pmYXmg4XlhrXosIPmlbQnLFxuICAgICAgICAgIGNhdGVnb3J5OiAn5Ymv5LiaJyxcbiAgICAgICAgICBkaWZmaWN1bHR5OiAnYmVnaW5uZXInLFxuICAgICAgICAgIGludmVzdG1lbnRfcmVxdWlyZWQ6ICfkvY4nLFxuICAgICAgICAgIHNraWxsc19uZWVkZWQ6ICfln7rnoYDmioDog70nLFxuICAgICAgICAgIHRhcmdldF9hdWRpZW5jZTogJ+Wkp+S8l+eUqOaItycsXG4gICAgICAgICAgcG90ZW50aWFsX3Jpc2tzOiAn5biC5Zy656ue5LqJJyxcbiAgICAgICAgICBzdWNjZXNzX3JhdGU6ICfkuK3nrYknLFxuICAgICAgICAgIHRpbWVfdG9fcHJvZml0OiAnMS0z5Liq5pyIJyxcbiAgICAgICAgICBzY2FsYWJpbGl0eTogJ+S4reetiScsXG4gICAgICAgICAgbG9jYXRpb25fZmxleGlibGU6IHRydWUsXG4gICAgICAgICAgYWdlX3Jlc3RyaWN0aW9uOiAn5peg6ZmQ5Yi2JyxcbiAgICAgICAgICByZXZlbnVlX21vZGVsOiAn5pyN5Yqh5pS26LS5JyxcbiAgICAgICAgICBjb21wZXRpdGlvbl9sZXZlbDogJ+S4reetiScsXG4gICAgICAgICAgbWFya2V0X3RyZW5kOiAn56iz5a6a5aKe6ZW/JyxcbiAgICAgICAgICBrZXlfbWV0cmljczogJ+aUtuWFpeOAgeWuouaIt+a7oeaEj+W6picsXG4gICAgICAgICAgdGFnczogWyflia/kuJonLCAn5Zyo57q/6LWa6ZKxJ11cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyDpqozor4HlkozmuIXnkIbmlbDmja5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IHtcbiAgICAgICAgdGl0bGU6IHRoaXMuY2xlYW5UZXh0KHBhcnNlZENvbnRlbnQudGl0bGUgfHwgcmF3LnRpdGxlLCA1MCksXG4gICAgICAgIGRlc2NyaXB0aW9uOiB0aGlzLmNsZWFuVGV4dChwYXJzZWRDb250ZW50LmRlc2NyaXB0aW9uIHx8ICcnLCAxMDApLFxuICAgICAgICBpbmNvbWU6IHRoaXMuY2xlYW5UZXh0KHBhcnNlZENvbnRlbnQuaW5jb21lIHx8ICfmnKrnn6UnLCAzMCksXG4gICAgICAgIHRpbWVfcmVxdWlyZWQ6IHRoaXMuY2xlYW5UZXh0KHBhcnNlZENvbnRlbnQudGltZV9yZXF1aXJlZCB8fCAn5pyq55+lJywgMzApLFxuICAgICAgICB0b29sczogdGhpcy5jbGVhblRleHQocGFyc2VkQ29udGVudC50b29scyB8fCAnJywgMjAwKSxcbiAgICAgICAgc3RlcHM6IHRoaXMuY2xlYW5UZXh0KHBhcnNlZENvbnRlbnQuc3RlcHMgfHwgJycsIDUwMCksXG4gICAgICAgIGNhdGVnb3J5OiB0aGlzLmNsZWFuVGV4dChwYXJzZWRDb250ZW50LmNhdGVnb3J5IHx8ICflia/kuJonLCAyMCksXG4gICAgICAgIGRpZmZpY3VsdHk6IHBhcnNlZENvbnRlbnQuZGlmZmljdWx0eSB8fCAnYmVnaW5uZXInLFxuICAgICAgICBpbnZlc3RtZW50X3JlcXVpcmVkOiB0aGlzLmNsZWFuVGV4dChwYXJzZWRDb250ZW50LmludmVzdG1lbnRfcmVxdWlyZWQgfHwgJ+S9jicsIDIwKSxcbiAgICAgICAgc2tpbGxzX25lZWRlZDogdGhpcy5jbGVhblRleHQocGFyc2VkQ29udGVudC5za2lsbHNfbmVlZGVkIHx8ICfln7rnoYDmioDog70nLCAxMDApLFxuICAgICAgICB0YXJnZXRfYXVkaWVuY2U6IHRoaXMuY2xlYW5UZXh0KHBhcnNlZENvbnRlbnQudGFyZ2V0X2F1ZGllbmNlIHx8ICflpKfkvJfnlKjmiLcnLCA1MCksXG4gICAgICAgIHBvdGVudGlhbF9yaXNrczogdGhpcy5jbGVhblRleHQocGFyc2VkQ29udGVudC5wb3RlbnRpYWxfcmlza3MgfHwgJ+W4guWcuuernuS6iScsIDEwMCksXG4gICAgICAgIHN1Y2Nlc3NfcmF0ZTogdGhpcy5jbGVhblRleHQocGFyc2VkQ29udGVudC5zdWNjZXNzX3JhdGUgfHwgJ+S4reetiScsIDIwKSxcbiAgICAgICAgdGltZV90b19wcm9maXQ6IHRoaXMuY2xlYW5UZXh0KHBhcnNlZENvbnRlbnQudGltZV90b19wcm9maXQgfHwgJzEtM+S4quaciCcsIDIwKSxcbiAgICAgICAgc2NhbGFiaWxpdHk6IHRoaXMuY2xlYW5UZXh0KHBhcnNlZENvbnRlbnQuc2NhbGFiaWxpdHkgfHwgJ+S4reetiScsIDIwKSxcbiAgICAgICAgbG9jYXRpb25fZmxleGlibGU6IHBhcnNlZENvbnRlbnQubG9jYXRpb25fZmxleGlibGUgPz8gdHJ1ZSxcbiAgICAgICAgYWdlX3Jlc3RyaWN0aW9uOiB0aGlzLmNsZWFuVGV4dChwYXJzZWRDb250ZW50LmFnZV9yZXN0cmljdGlvbiB8fCAn5peg6ZmQ5Yi2JywgMjApLFxuICAgICAgICByZXZlbnVlX21vZGVsOiB0aGlzLmNsZWFuVGV4dChwYXJzZWRDb250ZW50LnJldmVudWVfbW9kZWwgfHwgJ+acjeWKoeaUtui0uScsIDMwKSxcbiAgICAgICAgY29tcGV0aXRpb25fbGV2ZWw6IHRoaXMuY2xlYW5UZXh0KHBhcnNlZENvbnRlbnQuY29tcGV0aXRpb25fbGV2ZWwgfHwgJ+S4reetiScsIDIwKSxcbiAgICAgICAgbWFya2V0X3RyZW5kOiB0aGlzLmNsZWFuVGV4dChwYXJzZWRDb250ZW50Lm1hcmtldF90cmVuZCB8fCAn56iz5a6a5aKe6ZW/JywgMjApLFxuICAgICAgICBrZXlfbWV0cmljczogdGhpcy5jbGVhblRleHQocGFyc2VkQ29udGVudC5rZXlfbWV0cmljcyB8fCAn5pS25YWl44CB5a6i5oi35ruh5oSP5bqmJywgNTApLFxuICAgICAgICB0YWdzOiBwYXJzZWRDb250ZW50LnRhZ3MgfHwgWyflia/kuJonLCAn5Zyo57q/6LWa6ZKxJ11cbiAgICAgIH1cblxuICAgICAgY29uc3QgZHVyYXRpb24gPSB0aW1lci5zdG9wKHsgY2F0ZWdvcnk6IHJlc3VsdC5jYXRlZ29yeSwgZGlmZmljdWx0eTogcmVzdWx0LmRpZmZpY3VsdHkgfSlcbiAgICAgIExvZ2dlci5sb2dBSVByb2Nlc3NpbmcoJ3N1Y2Nlc3MnLCB7XG4gICAgICAgIHNvdXJjZUlkOiByYXcuc291cmNlX2lkLFxuICAgICAgICBkdXJhdGlvbixcbiAgICAgICAgY2F0ZWdvcnk6IHJlc3VsdC5jYXRlZ29yeVxuICAgICAgfSlcblxuICAgICAgcmV0dXJuIHJlc3VsdFxuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIExvZ2dlci5lcnJvcignYWlfcHJvY2Vzc2luZ19mYWlsZWQnLCBlcnJvciBhcyBFcnJvciwge1xuICAgICAgICBzb3VyY2VJZDogcmF3LnNvdXJjZV9pZCxcbiAgICAgICAgdGl0bGU6IHJhdy50aXRsZS5zbGljZSgwLCA1MClcbiAgICAgIH0sIGNvcnJlbGF0aW9uSWQpXG5cbiAgICAgIC8vIOi/lOWbnuWfuuehgOe7k+aehOWMluaVsOaNrlxuICAgICAgcmV0dXJuIHRoaXMuZ2VuZXJhdGVGYWxsYmFja0RhdGEocmF3KVxuICAgIH1cbiAgfVxuXG4gIC8vIOeUn+aIkOWkh+eUqOaVsOaNru+8iOW9k0FJ5LiN5Y+v55So5pe277yJXG4gIHByaXZhdGUgc3RhdGljIGdlbmVyYXRlRmFsbGJhY2tEYXRhKHJhdzogUmF3Q2FzZURhdGEpOiBQcm9jZXNzZWRDYXNlIHtcbiAgICAvLyDnroDljZXnmoTlhbPplK7or43ljLnphY3mnaXliIbnsbtcbiAgICBjb25zdCBjb250ZW50TG93ZXIgPSAocmF3LnRpdGxlICsgJyAnICsgcmF3LmNvbnRlbnQpLnRvTG93ZXJDYXNlKClcbiAgICBsZXQgY2F0ZWdvcnkgPSAn5Ymv5LiaJ1xuICAgIGxldCBkaWZmaWN1bHR5OiAnYmVnaW5uZXInIHwgJ2ludGVybWVkaWF0ZScgfCAnYWR2YW5jZWQnID0gJ2JlZ2lubmVyJ1xuICAgIGxldCBpbnZlc3RtZW50ID0gJ+S9jidcblxuICAgIGlmIChjb250ZW50TG93ZXIuaW5jbHVkZXMoJ+e8lueoiycpIHx8IGNvbnRlbnRMb3dlci5pbmNsdWRlcygn5byA5Y+RJykgfHwgY29udGVudExvd2VyLmluY2x1ZGVzKCdjb2RpbmcnKSkge1xuICAgICAgY2F0ZWdvcnkgPSAn5oqA5pyv5byA5Y+RJ1xuICAgICAgZGlmZmljdWx0eSA9ICdpbnRlcm1lZGlhdGUnXG4gICAgfSBlbHNlIGlmIChjb250ZW50TG93ZXIuaW5jbHVkZXMoJ+eUteWVhicpIHx8IGNvbnRlbnRMb3dlci5pbmNsdWRlcygnYW1hem9uJykgfHwgY29udGVudExvd2VyLmluY2x1ZGVzKCdzaG9waWZ5JykpIHtcbiAgICAgIGNhdGVnb3J5ID0gJ+eUteWVhidcbiAgICAgIGludmVzdG1lbnQgPSAn5LitJ1xuICAgIH0gZWxzZSBpZiAoY29udGVudExvd2VyLmluY2x1ZGVzKCflhpnkvZwnKSB8fCBjb250ZW50TG93ZXIuaW5jbHVkZXMoJ2NvbnRlbnQnKSB8fCBjb250ZW50TG93ZXIuaW5jbHVkZXMoJ2Jsb2cnKSkge1xuICAgICAgY2F0ZWdvcnkgPSAn5YaF5a655Yib5L2cJ1xuICAgICAgZGlmZmljdWx0eSA9ICdiZWdpbm5lcidcbiAgICB9IGVsc2UgaWYgKGNvbnRlbnRMb3dlci5pbmNsdWRlcygn6K6+6K6hJykgfHwgY29udGVudExvd2VyLmluY2x1ZGVzKCdkZXNpZ24nKSkge1xuICAgICAgY2F0ZWdvcnkgPSAn6K6+6K6hJ1xuICAgICAgZGlmZmljdWx0eSA9ICdpbnRlcm1lZGlhdGUnXG4gICAgfSBlbHNlIGlmIChjb250ZW50TG93ZXIuaW5jbHVkZXMoJ+iQpemUgCcpIHx8IGNvbnRlbnRMb3dlci5pbmNsdWRlcygnbWFya2V0aW5nJykpIHtcbiAgICAgIGNhdGVnb3J5ID0gJ+iQpemUgOaOqOW5vydcbiAgICAgIGRpZmZpY3VsdHkgPSAnaW50ZXJtZWRpYXRlJ1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICB0aXRsZTogcmF3LnRpdGxlLnNsaWNlKDAsIDUwKSxcbiAgICAgIGRlc2NyaXB0aW9uOiByYXcuY29udGVudCA/IHJhdy5jb250ZW50LnNsaWNlKDAsIDEwMCkgKyAnLi4uJyA6ICfov5nmmK/kuIDkuKrmnaXoh6rnpL7ljLrnmoTlia/kuJrliJvmhI/liIbkuqsnLFxuICAgICAgaW5jb21lOiAn6KeG5oOF5Ya16ICM5a6aJyxcbiAgICAgIHRpbWVfcmVxdWlyZWQ6ICfngbXmtLvlronmjpInLFxuICAgICAgdG9vbHM6ICfor7flj4LogIPljp/lp4vlhoXlrrknLFxuICAgICAgc3RlcHM6IGAxLiDmn6XnnIvljp/lp4vpk77mjqU6ICR7cmF3LnNvdXJjZV91cmx9XFxuMi4g5LqG6Kej6K+m57uG5a6e5pa95q2l6aqkXFxuMy4g6K+E5Lyw5piv5ZCm6YCC5ZCI6Ieq5bexYCxcbiAgICAgIGNhdGVnb3J5OiBjYXRlZ29yeSxcbiAgICAgIGRpZmZpY3VsdHk6IGRpZmZpY3VsdHksXG4gICAgICBpbnZlc3RtZW50X3JlcXVpcmVkOiBpbnZlc3RtZW50LFxuICAgICAgc2tpbGxzX25lZWRlZDogJ+ivt+WPguiAg+WOn+Wni+WGheWuuScsXG4gICAgICB0YXJnZXRfYXVkaWVuY2U6ICflpKfkvJfnlKjmiLcnLFxuICAgICAgcG90ZW50aWFsX3Jpc2tzOiAn5biC5Zy656ue5LqJJyxcbiAgICAgIHN1Y2Nlc3NfcmF0ZTogJ+S4reetiScsXG4gICAgICB0aW1lX3RvX3Byb2ZpdDogJzEtM+S4quaciCcsXG4gICAgICBzY2FsYWJpbGl0eTogJ+S4reetiScsXG4gICAgICBsb2NhdGlvbl9mbGV4aWJsZTogdHJ1ZSxcbiAgICAgIGFnZV9yZXN0cmljdGlvbjogJ+aXoOmZkOWIticsXG4gICAgICByZXZlbnVlX21vZGVsOiAn5pyN5Yqh5pS26LS5JyxcbiAgICAgIGNvbXBldGl0aW9uX2xldmVsOiAn5Lit562JJyxcbiAgICAgIG1hcmtldF90cmVuZDogJ+eos+WumuWinumVvycsXG4gICAgICBrZXlfbWV0cmljczogJ+aUtuWFpeOAgeWuouaIt+a7oeaEj+W6picsXG4gICAgICB0YWdzOiBbY2F0ZWdvcnksICflia/kuJonLCAn5Zyo57q/6LWa6ZKxJ11cbiAgICB9XG4gIH1cblxuICAvLyDmuIXnkIblkozpqozor4HmlofmnKzlhoXlrrlcbiAgcHJpdmF0ZSBzdGF0aWMgY2xlYW5UZXh0KHRleHQ6IHN0cmluZywgbWF4TGVuZ3RoOiBudW1iZXIpOiBzdHJpbmcge1xuICAgIGlmICghdGV4dCkgcmV0dXJuICcnXG4gICAgXG4gICAgcmV0dXJuIHRleHRcbiAgICAgIC50cmltKClcbiAgICAgIC5zbGljZSgwLCBtYXhMZW5ndGgpXG4gICAgICAucmVwbGFjZSgvXFxyXFxuL2csICdcXG4nKVxuICAgICAgLnJlcGxhY2UoL1xcci9nLCAnXFxuJylcbiAgfVxuXG4gIC8vIOaJuemHj+WkhOeQhuWkmuS4quahiOS+i1xuICBzdGF0aWMgYXN5bmMgcHJvY2Vzc0JhdGNoKHJhd0Nhc2VzOiBSYXdDYXNlRGF0YVtdKTogUHJvbWlzZTxQcm9jZXNzZWRDYXNlW10+IHtcbiAgICBjb25zdCByZXN1bHRzOiBQcm9jZXNzZWRDYXNlW10gPSBbXVxuICAgIFxuICAgIC8vIOaOp+WItuW5tuWPkeaVsOmHj++8jOmBv+WFjUFQSemZkOWItlxuICAgIGNvbnN0IGJhdGNoU2l6ZSA9IDNcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJhd0Nhc2VzLmxlbmd0aDsgaSArPSBiYXRjaFNpemUpIHtcbiAgICAgIGNvbnN0IGJhdGNoID0gcmF3Q2FzZXMuc2xpY2UoaSwgaSArIGJhdGNoU2l6ZSlcbiAgICAgIFxuICAgICAgY29uc3QgYmF0Y2hQcm9taXNlcyA9IGJhdGNoLm1hcChyYXcgPT4gXG4gICAgICAgIHRoaXMucHJvY2Vzc0NvbnRlbnQocmF3KS5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihg5aSE55CG5qGI5L6L5aSx6LSlOiAke3Jhdy50aXRsZX1gLCBlcnJvcilcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdGl0bGU6IHJhdy50aXRsZS5zbGljZSgwLCA1MCksXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogcmF3LmNvbnRlbnQgfHwgJ+i/meaYr+S4gOS4quadpeiHquekvuWMuueahOWJr+S4muWIm+aEj+WIhuS6q++8jOWkhOeQhui/h+eoi+S4remBh+WIsOS4gOS6m+mXrumimCcsXG4gICAgICAgICAgICBpbmNvbWU6ICfop4bmg4XlhrXogIzlrponLFxuICAgICAgICAgICAgdGltZV9yZXF1aXJlZDogJ+eBtea0u+WuieaOkicsXG4gICAgICAgICAgICB0b29sczogJ+ivt+WPguiAg+WOn+Wni+WGheWuuScsXG4gICAgICAgICAgICBzdGVwczogJzEuIOafpeeci+WOn+Wni+mTvuaOpeiOt+WPluWujOaVtOS/oeaBr1xcbjIuIOagueaNruS4quS6uuaDheWGteiwg+aVtOaWueahiCcsXG4gICAgICAgICAgICBjYXRlZ29yeTogJ+WJr+S4micsXG4gICAgICAgICAgICBkaWZmaWN1bHR5OiAnYmVnaW5uZXInIGFzIGNvbnN0LFxuICAgICAgICAgICAgaW52ZXN0bWVudF9yZXF1aXJlZDogJ+S9jicsXG4gICAgICAgICAgICBza2lsbHNfbmVlZGVkOiAn5Z+656GA5oqA6IO9JyxcbiAgICAgICAgICAgIHRhcmdldF9hdWRpZW5jZTogJ+Wkp+S8l+eUqOaItycsXG4gICAgICAgICAgICBwb3RlbnRpYWxfcmlza3M6ICfluILlnLrnq57kuoknLFxuICAgICAgICAgICAgc3VjY2Vzc19yYXRlOiAn5Lit562JJyxcbiAgICAgICAgICAgIHRpbWVfdG9fcHJvZml0OiAnMS0z5Liq5pyIJyxcbiAgICAgICAgICAgIHNjYWxhYmlsaXR5OiAn5Lit562JJyxcbiAgICAgICAgICAgIGxvY2F0aW9uX2ZsZXhpYmxlOiB0cnVlLFxuICAgICAgICAgICAgYWdlX3Jlc3RyaWN0aW9uOiAn5peg6ZmQ5Yi2JyxcbiAgICAgICAgICAgIHJldmVudWVfbW9kZWw6ICfmnI3liqHmlLbotLknLFxuICAgICAgICAgICAgY29tcGV0aXRpb25fbGV2ZWw6ICfkuK3nrYknLFxuICAgICAgICAgICAgbWFya2V0X3RyZW5kOiAn56iz5a6a5aKe6ZW/JyxcbiAgICAgICAgICAgIGtleV9tZXRyaWNzOiAn5pS25YWl44CB5a6i5oi35ruh5oSP5bqmJyxcbiAgICAgICAgICAgIHRhZ3M6IFsn5Ymv5LiaJywgJ+WcqOe6v+i1mumSsSddXG4gICAgICAgICAgfSBhcyBQcm9jZXNzZWRDYXNlXG4gICAgICAgIH0pXG4gICAgICApXG4gICAgICBcbiAgICAgIGNvbnN0IGJhdGNoUmVzdWx0cyA9IGF3YWl0IFByb21pc2UuYWxsKGJhdGNoUHJvbWlzZXMpXG4gICAgICByZXN1bHRzLnB1c2goLi4uYmF0Y2hSZXN1bHRzKVxuICAgICAgXG4gICAgICAvLyDmibnmrKHpl7Tlu7bov5/vvIzpgb/lhY1BUEnpopHnjofpmZDliLZcbiAgICAgIGlmIChpICsgYmF0Y2hTaXplIDwgcmF3Q2FzZXMubGVuZ3RoKSB7XG4gICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAxMDAwKSlcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHJlc3VsdHNcbiAgfVxuICBcbiAgLy8g6I635Y+W5b2T5YmN5L2/55So55qEQUnmj5DkvpvllYZcbiAgc3RhdGljIGdldEN1cnJlbnRQcm92aWRlcigpOiBzdHJpbmcge1xuICAgIHJldHVybiBnZXRBSUNvbmZpZygpLnByb3ZpZGVyXG4gIH1cbiAgXG4gIC8vIOa1i+ivlUFJ6L+e5o6lXG4gIHN0YXRpYyBhc3luYyB0ZXN0Q29ubmVjdGlvbigpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY2xpZW50ID0gdGhpcy5nZXRDbGllbnQoKVxuICAgICAgYXdhaXQgY2xpZW50LmNoYXQoW3sgcm9sZTogJ3VzZXInLCBjb250ZW50OiAn5rWL6K+V6L+e5o6lJyB9XSlcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0FJ6L+e5o6l5rWL6K+V5aSx6LSlOicsIGVycm9yKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEFJUHJvY2Vzc29yIl0sIm5hbWVzIjpbIkxvZ2dlciIsImdldEFJQ29uZmlnIiwicHJvdmlkZXIiLCJwcm9jZXNzIiwiZW52IiwiQUlfUFJPVklERVIiLCJjb25maWdzIiwib3BlbmFpIiwiYXBpS2V5IiwiT1BFTkFJX0FQSV9LRVkiLCJiYXNlVVJMIiwibW9kZWwiLCJkZWVwc2VlayIsIkRFRVBTRUVLX0FQSV9LRVkiLCJkb3ViYW8iLCJET1VCQU9fQVBJX0tFWSIsInF3ZW4iLCJRV0VOX0FQSV9LRVkiLCJVbml2ZXJzYWxBSUNsaWVudCIsImNvbmZpZyIsImNoYXQiLCJtZXNzYWdlcyIsInJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJ0ZW1wZXJhdHVyZSIsIm1heF90b2tlbnMiLCJvayIsIkVycm9yIiwic3RhdHVzIiwic3RhdHVzVGV4dCIsImRhdGEiLCJqc29uIiwiY2hvaWNlcyIsIm1lc3NhZ2UiLCJjb250ZW50IiwiZXJyb3IiLCJjb25zb2xlIiwiQUlQcm9jZXNzb3IiLCJmYWxsYmFja01vZGUiLCJFTkFCTEVfRkFMTEJBQ0tfTU9ERSIsImdldENsaWVudCIsImNsaWVudCIsImxvZyIsInByb2Nlc3NDb250ZW50IiwicmF3IiwiY29ycmVsYXRpb25JZCIsInNvdXJjZV9pZCIsIkRhdGUiLCJub3ciLCJsb2dBSVByb2Nlc3NpbmciLCJzb3VyY2VJZCIsInRpdGxlTGVuZ3RoIiwidGl0bGUiLCJsZW5ndGgiLCJjb250ZW50TGVuZ3RoIiwiZ2VuZXJhdGVGYWxsYmFja0RhdGEiLCJwcm9tcHQiLCJzbGljZSIsInRpbWVyIiwicm9sZSIsInRyaW0iLCJwYXJzZWRDb250ZW50IiwiY2xlYW5Db250ZW50IiwicmVwbGFjZSIsInBhcnNlIiwicGFyc2VFcnJvciIsInJhd0NvbnRlbnQiLCJkZXNjcmlwdGlvbiIsImluY29tZSIsInRpbWVfcmVxdWlyZWQiLCJ0b29scyIsInN0ZXBzIiwiY2F0ZWdvcnkiLCJkaWZmaWN1bHR5IiwiaW52ZXN0bWVudF9yZXF1aXJlZCIsInNraWxsc19uZWVkZWQiLCJ0YXJnZXRfYXVkaWVuY2UiLCJwb3RlbnRpYWxfcmlza3MiLCJzdWNjZXNzX3JhdGUiLCJ0aW1lX3RvX3Byb2ZpdCIsInNjYWxhYmlsaXR5IiwibG9jYXRpb25fZmxleGlibGUiLCJhZ2VfcmVzdHJpY3Rpb24iLCJyZXZlbnVlX21vZGVsIiwiY29tcGV0aXRpb25fbGV2ZWwiLCJtYXJrZXRfdHJlbmQiLCJrZXlfbWV0cmljcyIsInRhZ3MiLCJyZXN1bHQiLCJjbGVhblRleHQiLCJkdXJhdGlvbiIsInN0b3AiLCJjb250ZW50TG93ZXIiLCJ0b0xvd2VyQ2FzZSIsImludmVzdG1lbnQiLCJpbmNsdWRlcyIsInNvdXJjZV91cmwiLCJ0ZXh0IiwibWF4TGVuZ3RoIiwicHJvY2Vzc0JhdGNoIiwicmF3Q2FzZXMiLCJyZXN1bHRzIiwiYmF0Y2hTaXplIiwiaSIsImJhdGNoIiwiYmF0Y2hQcm9taXNlcyIsIm1hcCIsImNhdGNoIiwiYmF0Y2hSZXN1bHRzIiwiUHJvbWlzZSIsImFsbCIsInB1c2giLCJyZXNvbHZlIiwic2V0VGltZW91dCIsImdldEN1cnJlbnRQcm92aWRlciIsInRlc3RDb25uZWN0aW9uIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/openai.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/supabase.ts":
/*!*****************************!*\
  !*** ./src/lib/supabase.ts ***!
  \*****************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CaseRepository: () => (/* binding */ CaseRepository),\n/* harmony export */   supabase: () => (/* binding */ supabase),\n/* harmony export */   supabaseAdmin: () => (/* binding */ supabaseAdmin)\n/* harmony export */ });\n/* harmony import */ var pg__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pg */ \"pg\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([pg__WEBPACK_IMPORTED_MODULE_0__]);\npg__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n// 直接使用PostgreSQL连接\nconst pool = new pg__WEBPACK_IMPORTED_MODULE_0__.Pool({\n    connectionString: process.env.DATABASE_URL || 'postgresql://postgres:password@localhost:5432/sidehustle',\n    ssl: {\n        rejectUnauthorized: false\n    }\n});\n// 数据库操作类\nclass CaseRepository {\n    // 获取所有案例（前端使用，保持向后兼容）\n    static async getPublishedCases(limit = 20, offset = 0) {\n        const client = await pool.connect();\n        try {\n            const result = await client.query('SELECT * FROM cases ORDER BY created_at DESC LIMIT $1 OFFSET $2', [\n                limit,\n                offset\n            ]);\n            return result.rows;\n        } catch (error) {\n            console.error('获取案例失败:', error);\n            throw new Error('获取案例失败');\n        } finally{\n            client.release();\n        }\n    }\n    // 获取单个案例（前端使用）\n    static async getCaseById(id) {\n        const client = await pool.connect();\n        try {\n            const result = await client.query('SELECT * FROM cases WHERE id = $1', [\n                id\n            ]);\n            return result.rows[0] || null;\n        } catch (error) {\n            console.error('获取案例详情失败:', error);\n            return null;\n        } finally{\n            client.release();\n        }\n    }\n    // 获取所有案例（前端使用，支持分页）\n    static async getAllCases(limit = 20, offset = 0) {\n        const client = await pool.connect();\n        try {\n            const result = await client.query('SELECT * FROM cases ORDER BY created_at DESC LIMIT $1 OFFSET $2', [\n                limit,\n                offset\n            ]);\n            return result.rows;\n        } catch (error) {\n            console.error('获取案例失败:', error);\n            // Return empty array instead of throwing error for better UX\n            return [];\n        } finally{\n            client.release();\n        }\n    }\n    // 创建新案例\n    static async createCase(caseData) {\n        const client = await pool.connect();\n        try {\n            const result = await client.query(`INSERT INTO cases (\n          title, description, income, time_required, tools, steps, source_url, raw_content, published,\n          category, difficulty, investment_required, skills_needed, target_audience, potential_risks,\n          success_rate, time_to_profit, scalability, location_flexible, age_restriction, revenue_model,\n          competition_level, market_trend, key_metrics, author, upvotes, comments_count, tags,\n          admin_approved, admin_notes\n        ) VALUES (\n          $1, $2, $3, $4, $5, $6, $7, $8, $9,\n          $10, $11, $12, $13, $14, $15,\n          $16, $17, $18, $19, $20, $21,\n          $22, $23, $24, $25, $26, $27, $28,\n          $29, $30\n        ) RETURNING *`, [\n                caseData.title,\n                caseData.description,\n                caseData.income,\n                caseData.time_required,\n                caseData.tools,\n                caseData.steps,\n                caseData.source_url,\n                caseData.raw_content,\n                caseData.published,\n                caseData.category,\n                caseData.difficulty,\n                caseData.investment_required,\n                caseData.skills_needed,\n                caseData.target_audience,\n                caseData.potential_risks,\n                caseData.success_rate,\n                caseData.time_to_profit,\n                caseData.scalability,\n                caseData.location_flexible,\n                caseData.age_restriction,\n                caseData.revenue_model,\n                caseData.competition_level,\n                caseData.market_trend,\n                caseData.key_metrics,\n                caseData.author,\n                caseData.upvotes,\n                caseData.comments_count,\n                caseData.tags,\n                caseData.admin_approved || false,\n                caseData.admin_notes || null\n            ]);\n            return result.rows[0];\n        } catch (error) {\n            console.error('创建案例失败:', error);\n            throw new Error('创建案例失败');\n        } finally{\n            client.release();\n        }\n    }\n    // 更新发布状态\n    static async updatePublishStatus(id, published) {\n        const client = await pool.connect();\n        try {\n            await client.query('UPDATE cases SET published = $1 WHERE id = $2', [\n                published,\n                id\n            ]);\n        } catch (error) {\n            console.error('更新发布状态失败:', error);\n            throw new Error('更新发布状态失败');\n        } finally{\n            client.release();\n        }\n    }\n    // 批量更新发布状态\n    static async batchUpdatePublishStatus(ids, published) {\n        const client = await pool.connect();\n        try {\n            const result = await client.query('UPDATE cases SET published = $1 WHERE id = ANY($2::int[]) RETURNING id', [\n                published,\n                ids\n            ]);\n            return result.rowCount || 0;\n        } catch (error) {\n            console.error('批量更新发布状态失败:', error);\n            throw new Error('批量更新发布状态失败');\n        } finally{\n            client.release();\n        }\n    }\n    // 检查案例是否已存在（根据source_url）\n    static async caseExists(sourceUrl) {\n        const client = await pool.connect();\n        try {\n            const result = await client.query('SELECT id FROM cases WHERE source_url = $1', [\n                sourceUrl\n            ]);\n            return result.rows.length > 0;\n        } catch (error) {\n            console.error('检查案例存在性失败:', error);\n            return false;\n        } finally{\n            client.release();\n        }\n    }\n    // 清理所有数据\n    static async clearAllData() {\n        const client = await pool.connect();\n        try {\n            const result = await client.query('DELETE FROM cases RETURNING id');\n            console.log(`已清理 ${result.rowCount} 条数据`);\n            return result.rowCount || 0;\n        } catch (error) {\n            console.error('清理数据失败:', error);\n            throw new Error('清理数据失败');\n        } finally{\n            client.release();\n        }\n    }\n    // 数据库连接测试\n    static async testConnection() {\n        const client = await pool.connect();\n        try {\n            await client.query('SELECT 1');\n            return true;\n        } catch (error) {\n            console.error('数据库连接失败:', error);\n            return false;\n        } finally{\n            client.release();\n        }\n    }\n    // 初始化数据库表\n    static async initTables() {\n        const client = await pool.connect();\n        try {\n            await client.query(`\n        CREATE TABLE IF NOT EXISTS cases (\n          id SERIAL PRIMARY KEY,\n          title TEXT NOT NULL,\n          description TEXT,\n          income TEXT,\n          time_required TEXT,\n          tools TEXT,\n          steps TEXT,\n          source_url TEXT,\n          raw_content TEXT,\n          published BOOLEAN DEFAULT false,\n          created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),\n          -- 新增字段\n          category TEXT,\n          difficulty TEXT CHECK (difficulty IN ('beginner', 'intermediate', 'advanced')),\n          investment_required TEXT,\n          skills_needed TEXT,\n          target_audience TEXT,\n          potential_risks TEXT,\n          success_rate TEXT,\n          time_to_profit TEXT,\n          scalability TEXT,\n          location_flexible BOOLEAN DEFAULT false,\n          age_restriction TEXT,\n          revenue_model TEXT,\n          competition_level TEXT,\n          market_trend TEXT,\n          key_metrics TEXT,\n          author TEXT,\n          upvotes INTEGER DEFAULT 0,\n          comments_count INTEGER DEFAULT 0,\n          tags TEXT[],\n          -- 管理字段\n          admin_approved BOOLEAN DEFAULT false,\n          admin_notes TEXT\n        );\n\n        CREATE INDEX IF NOT EXISTS idx_cases_published ON cases(published);\n        CREATE INDEX IF NOT EXISTS idx_cases_created ON cases(created_at DESC);\n        CREATE INDEX IF NOT EXISTS idx_cases_source_url ON cases(source_url);\n        CREATE INDEX IF NOT EXISTS idx_cases_category ON cases(category);\n        CREATE INDEX IF NOT EXISTS idx_cases_difficulty ON cases(difficulty);\n      `);\n            console.log('数据库表初始化成功');\n        } catch (error) {\n            console.error('数据库表初始化失败:', error);\n            throw new Error('数据库表初始化失败');\n        } finally{\n            client.release();\n        }\n    }\n}\n// 保持向后兼容\nconst supabase = null;\nconst supabaseAdmin = null;\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUcsQ0FBQztRQUNkLEVBQUUsT0FBTy9DLE9BQU87WUFDZEMsUUFBUUQsS0FBSyxDQUFDLGNBQWNBO1lBQzVCLE1BQU0sSUFBSUUsTUFBTTtRQUNsQixTQUFVO1lBQ1JQLE9BQU9RLE9BQU87UUFDaEI7SUFDRjtBQUNGO0FBSUEsU0FBUztBQUNGLE1BQU0rQyxXQUFXLEtBQUk7QUFDckIsTUFBTUMsZ0JBQWdCLEtBQUkiLCJzb3VyY2VzIjpbIi9yb290L1JpY2hJZGVhSHViL3NyYy9saWIvc3VwYWJhc2UudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUG9vbCB9IGZyb20gJ3BnJ1xuaW1wb3J0IHsgQ2FzZSB9IGZyb20gJy4vdHlwZXMnXG5cbi8vIOebtOaOpeS9v+eUqFBvc3RncmVTUUzov57mjqVcbmNvbnN0IHBvb2wgPSBuZXcgUG9vbCh7XG4gIGNvbm5lY3Rpb25TdHJpbmc6IHByb2Nlc3MuZW52LkRBVEFCQVNFX1VSTCB8fCAncG9zdGdyZXNxbDovL3Bvc3RncmVzOnBhc3N3b3JkQGxvY2FsaG9zdDo1NDMyL3NpZGVodXN0bGUnLFxuICBzc2w6IHtcbiAgICByZWplY3RVbmF1dGhvcml6ZWQ6IGZhbHNlXG4gIH1cbn0pXG5cbi8vIOaVsOaNruW6k+aTjeS9nOexu1xuZXhwb3J0IGNsYXNzIENhc2VSZXBvc2l0b3J5IHtcbiAgLy8g6I635Y+W5omA5pyJ5qGI5L6L77yI5YmN56uv5L2/55So77yM5L+d5oyB5ZCR5ZCO5YW85a6577yJXG4gIHN0YXRpYyBhc3luYyBnZXRQdWJsaXNoZWRDYXNlcyhsaW1pdCA9IDIwLCBvZmZzZXQgPSAwKTogUHJvbWlzZTxDYXNlW10+IHtcbiAgICBjb25zdCBjbGllbnQgPSBhd2FpdCBwb29sLmNvbm5lY3QoKVxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjbGllbnQucXVlcnkoXG4gICAgICAgICdTRUxFQ1QgKiBGUk9NIGNhc2VzIE9SREVSIEJZIGNyZWF0ZWRfYXQgREVTQyBMSU1JVCAkMSBPRkZTRVQgJDInLFxuICAgICAgICBbbGltaXQsIG9mZnNldF1cbiAgICAgIClcbiAgICAgIHJldHVybiByZXN1bHQucm93c1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfojrflj5bmoYjkvovlpLHotKU6JywgZXJyb3IpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ+iOt+WPluahiOS+i+Wksei0pScpXG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGNsaWVudC5yZWxlYXNlKClcbiAgICB9XG4gIH1cblxuICAvLyDojrflj5bljZXkuKrmoYjkvovvvIjliY3nq6/kvb/nlKjvvIlcbiAgc3RhdGljIGFzeW5jIGdldENhc2VCeUlkKGlkOiBudW1iZXIpOiBQcm9taXNlPENhc2UgfCBudWxsPiB7XG4gICAgY29uc3QgY2xpZW50ID0gYXdhaXQgcG9vbC5jb25uZWN0KClcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY2xpZW50LnF1ZXJ5KFxuICAgICAgICAnU0VMRUNUICogRlJPTSBjYXNlcyBXSEVSRSBpZCA9ICQxJyxcbiAgICAgICAgW2lkXVxuICAgICAgKVxuICAgICAgcmV0dXJuIHJlc3VsdC5yb3dzWzBdIHx8IG51bGxcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcign6I635Y+W5qGI5L6L6K+m5oOF5aSx6LSlOicsIGVycm9yKVxuICAgICAgcmV0dXJuIG51bGxcbiAgICB9IGZpbmFsbHkge1xuICAgICAgY2xpZW50LnJlbGVhc2UoKVxuICAgIH1cbiAgfVxuXG4gIC8vIOiOt+WPluaJgOacieahiOS+i++8iOWJjeerr+S9v+eUqO+8jOaUr+aMgeWIhumhte+8iVxuICBzdGF0aWMgYXN5bmMgZ2V0QWxsQ2FzZXMobGltaXQgPSAyMCwgb2Zmc2V0ID0gMCk6IFByb21pc2U8Q2FzZVtdPiB7XG4gICAgY29uc3QgY2xpZW50ID0gYXdhaXQgcG9vbC5jb25uZWN0KClcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY2xpZW50LnF1ZXJ5KFxuICAgICAgICAnU0VMRUNUICogRlJPTSBjYXNlcyBPUkRFUiBCWSBjcmVhdGVkX2F0IERFU0MgTElNSVQgJDEgT0ZGU0VUICQyJyxcbiAgICAgICAgW2xpbWl0LCBvZmZzZXRdXG4gICAgICApXG4gICAgICByZXR1cm4gcmVzdWx0LnJvd3NcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcign6I635Y+W5qGI5L6L5aSx6LSlOicsIGVycm9yKVxuICAgICAgLy8gUmV0dXJuIGVtcHR5IGFycmF5IGluc3RlYWQgb2YgdGhyb3dpbmcgZXJyb3IgZm9yIGJldHRlciBVWFxuICAgICAgcmV0dXJuIFtdXG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGNsaWVudC5yZWxlYXNlKClcbiAgICB9XG4gIH1cblxuICAvLyDliJvlu7rmlrDmoYjkvotcbiAgc3RhdGljIGFzeW5jIGNyZWF0ZUNhc2UoY2FzZURhdGE6IE9taXQ8Q2FzZSwgJ2lkJyB8ICdjcmVhdGVkX2F0Jz4pOiBQcm9taXNlPENhc2U+IHtcbiAgICBjb25zdCBjbGllbnQgPSBhd2FpdCBwb29sLmNvbm5lY3QoKVxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjbGllbnQucXVlcnkoXG4gICAgICAgIGBJTlNFUlQgSU5UTyBjYXNlcyAoXG4gICAgICAgICAgdGl0bGUsIGRlc2NyaXB0aW9uLCBpbmNvbWUsIHRpbWVfcmVxdWlyZWQsIHRvb2xzLCBzdGVwcywgc291cmNlX3VybCwgcmF3X2NvbnRlbnQsIHB1Ymxpc2hlZCxcbiAgICAgICAgICBjYXRlZ29yeSwgZGlmZmljdWx0eSwgaW52ZXN0bWVudF9yZXF1aXJlZCwgc2tpbGxzX25lZWRlZCwgdGFyZ2V0X2F1ZGllbmNlLCBwb3RlbnRpYWxfcmlza3MsXG4gICAgICAgICAgc3VjY2Vzc19yYXRlLCB0aW1lX3RvX3Byb2ZpdCwgc2NhbGFiaWxpdHksIGxvY2F0aW9uX2ZsZXhpYmxlLCBhZ2VfcmVzdHJpY3Rpb24sIHJldmVudWVfbW9kZWwsXG4gICAgICAgICAgY29tcGV0aXRpb25fbGV2ZWwsIG1hcmtldF90cmVuZCwga2V5X21ldHJpY3MsIGF1dGhvciwgdXB2b3RlcywgY29tbWVudHNfY291bnQsIHRhZ3MsXG4gICAgICAgICAgYWRtaW5fYXBwcm92ZWQsIGFkbWluX25vdGVzXG4gICAgICAgICkgVkFMVUVTIChcbiAgICAgICAgICAkMSwgJDIsICQzLCAkNCwgJDUsICQ2LCAkNywgJDgsICQ5LFxuICAgICAgICAgICQxMCwgJDExLCAkMTIsICQxMywgJDE0LCAkMTUsXG4gICAgICAgICAgJDE2LCAkMTcsICQxOCwgJDE5LCAkMjAsICQyMSxcbiAgICAgICAgICAkMjIsICQyMywgJDI0LCAkMjUsICQyNiwgJDI3LCAkMjgsXG4gICAgICAgICAgJDI5LCAkMzBcbiAgICAgICAgKSBSRVRVUk5JTkcgKmAsXG4gICAgICAgIFtcbiAgICAgICAgICBjYXNlRGF0YS50aXRsZSxcbiAgICAgICAgICBjYXNlRGF0YS5kZXNjcmlwdGlvbixcbiAgICAgICAgICBjYXNlRGF0YS5pbmNvbWUsXG4gICAgICAgICAgY2FzZURhdGEudGltZV9yZXF1aXJlZCxcbiAgICAgICAgICBjYXNlRGF0YS50b29scyxcbiAgICAgICAgICBjYXNlRGF0YS5zdGVwcyxcbiAgICAgICAgICBjYXNlRGF0YS5zb3VyY2VfdXJsLFxuICAgICAgICAgIGNhc2VEYXRhLnJhd19jb250ZW50LFxuICAgICAgICAgIGNhc2VEYXRhLnB1Ymxpc2hlZCxcbiAgICAgICAgICBjYXNlRGF0YS5jYXRlZ29yeSxcbiAgICAgICAgICBjYXNlRGF0YS5kaWZmaWN1bHR5LFxuICAgICAgICAgIGNhc2VEYXRhLmludmVzdG1lbnRfcmVxdWlyZWQsXG4gICAgICAgICAgY2FzZURhdGEuc2tpbGxzX25lZWRlZCxcbiAgICAgICAgICBjYXNlRGF0YS50YXJnZXRfYXVkaWVuY2UsXG4gICAgICAgICAgY2FzZURhdGEucG90ZW50aWFsX3Jpc2tzLFxuICAgICAgICAgIGNhc2VEYXRhLnN1Y2Nlc3NfcmF0ZSxcbiAgICAgICAgICBjYXNlRGF0YS50aW1lX3RvX3Byb2ZpdCxcbiAgICAgICAgICBjYXNlRGF0YS5zY2FsYWJpbGl0eSxcbiAgICAgICAgICBjYXNlRGF0YS5sb2NhdGlvbl9mbGV4aWJsZSxcbiAgICAgICAgICBjYXNlRGF0YS5hZ2VfcmVzdHJpY3Rpb24sXG4gICAgICAgICAgY2FzZURhdGEucmV2ZW51ZV9tb2RlbCxcbiAgICAgICAgICBjYXNlRGF0YS5jb21wZXRpdGlvbl9sZXZlbCxcbiAgICAgICAgICBjYXNlRGF0YS5tYXJrZXRfdHJlbmQsXG4gICAgICAgICAgY2FzZURhdGEua2V5X21ldHJpY3MsXG4gICAgICAgICAgY2FzZURhdGEuYXV0aG9yLFxuICAgICAgICAgIGNhc2VEYXRhLnVwdm90ZXMsXG4gICAgICAgICAgY2FzZURhdGEuY29tbWVudHNfY291bnQsXG4gICAgICAgICAgY2FzZURhdGEudGFncyxcbiAgICAgICAgICBjYXNlRGF0YS5hZG1pbl9hcHByb3ZlZCB8fCBmYWxzZSxcbiAgICAgICAgICBjYXNlRGF0YS5hZG1pbl9ub3RlcyB8fCBudWxsXG4gICAgICAgIF1cbiAgICAgIClcbiAgICAgIHJldHVybiByZXN1bHQucm93c1swXVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfliJvlu7rmoYjkvovlpLHotKU6JywgZXJyb3IpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ+WIm+W7uuahiOS+i+Wksei0pScpXG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGNsaWVudC5yZWxlYXNlKClcbiAgICB9XG4gIH1cblxuICAvLyDmm7TmlrDlj5HluIPnirbmgIFcbiAgc3RhdGljIGFzeW5jIHVwZGF0ZVB1Ymxpc2hTdGF0dXMoaWQ6IG51bWJlciwgcHVibGlzaGVkOiBib29sZWFuKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgY2xpZW50ID0gYXdhaXQgcG9vbC5jb25uZWN0KClcbiAgICB0cnkge1xuICAgICAgYXdhaXQgY2xpZW50LnF1ZXJ5KFxuICAgICAgICAnVVBEQVRFIGNhc2VzIFNFVCBwdWJsaXNoZWQgPSAkMSBXSEVSRSBpZCA9ICQyJyxcbiAgICAgICAgW3B1Ymxpc2hlZCwgaWRdXG4gICAgICApXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+abtOaWsOWPkeW4g+eKtuaAgeWksei0pTonLCBlcnJvcilcbiAgICAgIHRocm93IG5ldyBFcnJvcign5pu05paw5Y+R5biD54q25oCB5aSx6LSlJylcbiAgICB9IGZpbmFsbHkge1xuICAgICAgY2xpZW50LnJlbGVhc2UoKVxuICAgIH1cbiAgfVxuXG4gIC8vIOaJuemHj+abtOaWsOWPkeW4g+eKtuaAgVxuICBzdGF0aWMgYXN5bmMgYmF0Y2hVcGRhdGVQdWJsaXNoU3RhdHVzKGlkczogbnVtYmVyW10sIHB1Ymxpc2hlZDogYm9vbGVhbik6IFByb21pc2U8bnVtYmVyPiB7XG4gICAgY29uc3QgY2xpZW50ID0gYXdhaXQgcG9vbC5jb25uZWN0KClcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY2xpZW50LnF1ZXJ5KFxuICAgICAgICAnVVBEQVRFIGNhc2VzIFNFVCBwdWJsaXNoZWQgPSAkMSBXSEVSRSBpZCA9IEFOWSgkMjo6aW50W10pIFJFVFVSTklORyBpZCcsXG4gICAgICAgIFtwdWJsaXNoZWQsIGlkc11cbiAgICAgIClcbiAgICAgIHJldHVybiByZXN1bHQucm93Q291bnQgfHwgMFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfmibnph4/mm7TmlrDlj5HluIPnirbmgIHlpLHotKU6JywgZXJyb3IpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ+aJuemHj+abtOaWsOWPkeW4g+eKtuaAgeWksei0pScpXG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGNsaWVudC5yZWxlYXNlKClcbiAgICB9XG4gIH1cblxuICAvLyDmo4Dmn6XmoYjkvovmmK/lkKblt7LlrZjlnKjvvIjmoLnmja5zb3VyY2VfdXJs77yJXG4gIHN0YXRpYyBhc3luYyBjYXNlRXhpc3RzKHNvdXJjZVVybDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgY29uc3QgY2xpZW50ID0gYXdhaXQgcG9vbC5jb25uZWN0KClcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY2xpZW50LnF1ZXJ5KFxuICAgICAgICAnU0VMRUNUIGlkIEZST00gY2FzZXMgV0hFUkUgc291cmNlX3VybCA9ICQxJyxcbiAgICAgICAgW3NvdXJjZVVybF1cbiAgICAgIClcbiAgICAgIHJldHVybiByZXN1bHQucm93cy5sZW5ndGggPiAwXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+ajgOafpeahiOS+i+WtmOWcqOaAp+Wksei0pTonLCBlcnJvcilcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH0gZmluYWxseSB7XG4gICAgICBjbGllbnQucmVsZWFzZSgpXG4gICAgfVxuICB9XG5cbiAgLy8g5riF55CG5omA5pyJ5pWw5o2uXG4gIHN0YXRpYyBhc3luYyBjbGVhckFsbERhdGEoKTogUHJvbWlzZTxudW1iZXI+IHtcbiAgICBjb25zdCBjbGllbnQgPSBhd2FpdCBwb29sLmNvbm5lY3QoKVxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjbGllbnQucXVlcnkoJ0RFTEVURSBGUk9NIGNhc2VzIFJFVFVSTklORyBpZCcpXG4gICAgICBjb25zb2xlLmxvZyhg5bey5riF55CGICR7cmVzdWx0LnJvd0NvdW50fSDmnaHmlbDmja5gKVxuICAgICAgcmV0dXJuIHJlc3VsdC5yb3dDb3VudCB8fCAwXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+a4heeQhuaVsOaNruWksei0pTonLCBlcnJvcilcbiAgICAgIHRocm93IG5ldyBFcnJvcign5riF55CG5pWw5o2u5aSx6LSlJylcbiAgICB9IGZpbmFsbHkge1xuICAgICAgY2xpZW50LnJlbGVhc2UoKVxuICAgIH1cbiAgfVxuXG4gIC8vIOaVsOaNruW6k+i/nuaOpea1i+ivlVxuICBzdGF0aWMgYXN5bmMgdGVzdENvbm5lY3Rpb24oKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgY29uc3QgY2xpZW50ID0gYXdhaXQgcG9vbC5jb25uZWN0KClcbiAgICB0cnkge1xuICAgICAgYXdhaXQgY2xpZW50LnF1ZXJ5KCdTRUxFQ1QgMScpXG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfmlbDmja7lupPov57mjqXlpLHotKU6JywgZXJyb3IpXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9IGZpbmFsbHkge1xuICAgICAgY2xpZW50LnJlbGVhc2UoKVxuICAgIH1cbiAgfVxuXG4gIC8vIOWIneWni+WMluaVsOaNruW6k+ihqFxuICBzdGF0aWMgYXN5bmMgaW5pdFRhYmxlcygpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBjbGllbnQgPSBhd2FpdCBwb29sLmNvbm5lY3QoKVxuICAgIHRyeSB7XG4gICAgICBhd2FpdCBjbGllbnQucXVlcnkoYFxuICAgICAgICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBjYXNlcyAoXG4gICAgICAgICAgaWQgU0VSSUFMIFBSSU1BUlkgS0VZLFxuICAgICAgICAgIHRpdGxlIFRFWFQgTk9UIE5VTEwsXG4gICAgICAgICAgZGVzY3JpcHRpb24gVEVYVCxcbiAgICAgICAgICBpbmNvbWUgVEVYVCxcbiAgICAgICAgICB0aW1lX3JlcXVpcmVkIFRFWFQsXG4gICAgICAgICAgdG9vbHMgVEVYVCxcbiAgICAgICAgICBzdGVwcyBURVhULFxuICAgICAgICAgIHNvdXJjZV91cmwgVEVYVCxcbiAgICAgICAgICByYXdfY29udGVudCBURVhULFxuICAgICAgICAgIHB1Ymxpc2hlZCBCT09MRUFOIERFRkFVTFQgZmFsc2UsXG4gICAgICAgICAgY3JlYXRlZF9hdCBUSU1FU1RBTVAgV0lUSCBUSU1FIFpPTkUgREVGQVVMVCBOT1coKSxcbiAgICAgICAgICAtLSDmlrDlop7lrZfmrrVcbiAgICAgICAgICBjYXRlZ29yeSBURVhULFxuICAgICAgICAgIGRpZmZpY3VsdHkgVEVYVCBDSEVDSyAoZGlmZmljdWx0eSBJTiAoJ2JlZ2lubmVyJywgJ2ludGVybWVkaWF0ZScsICdhZHZhbmNlZCcpKSxcbiAgICAgICAgICBpbnZlc3RtZW50X3JlcXVpcmVkIFRFWFQsXG4gICAgICAgICAgc2tpbGxzX25lZWRlZCBURVhULFxuICAgICAgICAgIHRhcmdldF9hdWRpZW5jZSBURVhULFxuICAgICAgICAgIHBvdGVudGlhbF9yaXNrcyBURVhULFxuICAgICAgICAgIHN1Y2Nlc3NfcmF0ZSBURVhULFxuICAgICAgICAgIHRpbWVfdG9fcHJvZml0IFRFWFQsXG4gICAgICAgICAgc2NhbGFiaWxpdHkgVEVYVCxcbiAgICAgICAgICBsb2NhdGlvbl9mbGV4aWJsZSBCT09MRUFOIERFRkFVTFQgZmFsc2UsXG4gICAgICAgICAgYWdlX3Jlc3RyaWN0aW9uIFRFWFQsXG4gICAgICAgICAgcmV2ZW51ZV9tb2RlbCBURVhULFxuICAgICAgICAgIGNvbXBldGl0aW9uX2xldmVsIFRFWFQsXG4gICAgICAgICAgbWFya2V0X3RyZW5kIFRFWFQsXG4gICAgICAgICAga2V5X21ldHJpY3MgVEVYVCxcbiAgICAgICAgICBhdXRob3IgVEVYVCxcbiAgICAgICAgICB1cHZvdGVzIElOVEVHRVIgREVGQVVMVCAwLFxuICAgICAgICAgIGNvbW1lbnRzX2NvdW50IElOVEVHRVIgREVGQVVMVCAwLFxuICAgICAgICAgIHRhZ3MgVEVYVFtdLFxuICAgICAgICAgIC0tIOeuoeeQhuWtl+autVxuICAgICAgICAgIGFkbWluX2FwcHJvdmVkIEJPT0xFQU4gREVGQVVMVCBmYWxzZSxcbiAgICAgICAgICBhZG1pbl9ub3RlcyBURVhUXG4gICAgICAgICk7XG5cbiAgICAgICAgQ1JFQVRFIElOREVYIElGIE5PVCBFWElTVFMgaWR4X2Nhc2VzX3B1Ymxpc2hlZCBPTiBjYXNlcyhwdWJsaXNoZWQpO1xuICAgICAgICBDUkVBVEUgSU5ERVggSUYgTk9UIEVYSVNUUyBpZHhfY2FzZXNfY3JlYXRlZCBPTiBjYXNlcyhjcmVhdGVkX2F0IERFU0MpO1xuICAgICAgICBDUkVBVEUgSU5ERVggSUYgTk9UIEVYSVNUUyBpZHhfY2FzZXNfc291cmNlX3VybCBPTiBjYXNlcyhzb3VyY2VfdXJsKTtcbiAgICAgICAgQ1JFQVRFIElOREVYIElGIE5PVCBFWElTVFMgaWR4X2Nhc2VzX2NhdGVnb3J5IE9OIGNhc2VzKGNhdGVnb3J5KTtcbiAgICAgICAgQ1JFQVRFIElOREVYIElGIE5PVCBFWElTVFMgaWR4X2Nhc2VzX2RpZmZpY3VsdHkgT04gY2FzZXMoZGlmZmljdWx0eSk7XG4gICAgICBgKVxuICAgICAgY29uc29sZS5sb2coJ+aVsOaNruW6k+ihqOWIneWni+WMluaIkOWKnycpXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+aVsOaNruW6k+ihqOWIneWni+WMluWksei0pTonLCBlcnJvcilcbiAgICAgIHRocm93IG5ldyBFcnJvcign5pWw5o2u5bqT6KGo5Yid5aeL5YyW5aSx6LSlJylcbiAgICB9IGZpbmFsbHkge1xuICAgICAgY2xpZW50LnJlbGVhc2UoKVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgdHlwZSB7IENhc2UgfVxuXG4vLyDkv53mjIHlkJHlkI7lhbzlrrlcbmV4cG9ydCBjb25zdCBzdXBhYmFzZSA9IG51bGxcbmV4cG9ydCBjb25zdCBzdXBhYmFzZUFkbWluID0gbnVsbCJdLCJuYW1lcyI6WyJQb29sIiwicG9vbCIsImNvbm5lY3Rpb25TdHJpbmciLCJwcm9jZXNzIiwiZW52IiwiREFUQUJBU0VfVVJMIiwic3NsIiwicmVqZWN0VW5hdXRob3JpemVkIiwiQ2FzZVJlcG9zaXRvcnkiLCJnZXRQdWJsaXNoZWRDYXNlcyIsImxpbWl0Iiwib2Zmc2V0IiwiY2xpZW50IiwiY29ubmVjdCIsInJlc3VsdCIsInF1ZXJ5Iiwicm93cyIsImVycm9yIiwiY29uc29sZSIsIkVycm9yIiwicmVsZWFzZSIsImdldENhc2VCeUlkIiwiaWQiLCJnZXRBbGxDYXNlcyIsImNyZWF0ZUNhc2UiLCJjYXNlRGF0YSIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJpbmNvbWUiLCJ0aW1lX3JlcXVpcmVkIiwidG9vbHMiLCJzdGVwcyIsInNvdXJjZV91cmwiLCJyYXdfY29udGVudCIsInB1Ymxpc2hlZCIsImNhdGVnb3J5IiwiZGlmZmljdWx0eSIsImludmVzdG1lbnRfcmVxdWlyZWQiLCJza2lsbHNfbmVlZGVkIiwidGFyZ2V0X2F1ZGllbmNlIiwicG90ZW50aWFsX3Jpc2tzIiwic3VjY2Vzc19yYXRlIiwidGltZV90b19wcm9maXQiLCJzY2FsYWJpbGl0eSIsImxvY2F0aW9uX2ZsZXhpYmxlIiwiYWdlX3Jlc3RyaWN0aW9uIiwicmV2ZW51ZV9tb2RlbCIsImNvbXBldGl0aW9uX2xldmVsIiwibWFya2V0X3RyZW5kIiwia2V5X21ldHJpY3MiLCJhdXRob3IiLCJ1cHZvdGVzIiwiY29tbWVudHNfY291bnQiLCJ0YWdzIiwiYWRtaW5fYXBwcm92ZWQiLCJhZG1pbl9ub3RlcyIsInVwZGF0ZVB1Ymxpc2hTdGF0dXMiLCJiYXRjaFVwZGF0ZVB1Ymxpc2hTdGF0dXMiLCJpZHMiLCJyb3dDb3VudCIsImNhc2VFeGlzdHMiLCJzb3VyY2VVcmwiLCJsZW5ndGgiLCJjbGVhckFsbERhdGEiLCJsb2ciLCJ0ZXN0Q29ubmVjdGlvbiIsImluaXRUYWJsZXMiLCJzdXBhYmFzZSIsInN1cGFiYXNlQWRtaW4iXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/supabase.ts\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "../app-render/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/server/app-render/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/action-async-storage.external.js");

/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "./work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "next/dist/shared/lib/no-fallback-error.external":
/*!******************************************************************!*\
  !*** external "next/dist/shared/lib/no-fallback-error.external" ***!
  \******************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/no-fallback-error.external");

/***/ }),

/***/ "next/dist/shared/lib/router/utils/app-paths":
/*!**************************************************************!*\
  !*** external "next/dist/shared/lib/router/utils/app-paths" ***!
  \**************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/app-paths");

/***/ }),

/***/ "pg":
/*!*********************!*\
  !*** external "pg" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = import("pg");;

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Ffetch%2Froute&page=%2Fapi%2Ffetch%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Ffetch%2Froute.ts&appDir=%2Froot%2FRichIdeaHub%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Froot%2FRichIdeaHub&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!")));
module.exports = __webpack_exports__;

})();